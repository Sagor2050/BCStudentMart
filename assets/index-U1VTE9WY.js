(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function JE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Nm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function FA(){if(Wv)return Bl;Wv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=t,Bl.jsxs=t,Bl}var Zv;function GA(){return Zv||(Zv=1,Nm.exports=FA()),Nm.exports}var R=GA(),Dm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function KA(){if(Jv)return Re;Jv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,K={};function U(O,ne,oe){this.props=O,this.context=ne,this.refs=K,this.updater=oe||x}U.prototype.isReactComponent={},U.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=U.prototype;function ie(O,ne,oe){this.props=O,this.context=ne,this.refs=K,this.updater=oe||x}var W=ie.prototype=new Q;W.constructor=ie,D(W,U.prototype),W.isPureReactComponent=!0;var le=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function k(O,ne,oe,re,ge,xe){return oe=xe.ref,{$$typeof:i,type:O,key:ne,ref:oe!==void 0?oe:null,props:xe}}function S(O,ne){return k(O.type,ne,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return ne[oe]})}var V=/\/+/g;function j(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ne.toString(36)}function N(){}function Ut(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ut(O,ne,oe,re,ge){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(xe){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case v:return we=O._init,ut(we(O._payload),ne,oe,re,ge)}}if(we)return ge=ge(O),we=re===""?"."+j(O,0):re,le(ge)?(oe="",we!=null&&(oe=we.replace(V,"$&/")+"/"),ut(ge,ne,oe,"",function(ei){return ei})):ge!=null&&(I(ge)&&(ge=S(ge,oe+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+we)),ne.push(ge)),1;we=0;var Nt=re===""?".":re+":";if(le(O))for(var Ze=0;Ze<O.length;Ze++)re=O[Ze],xe=Nt+j(re,Ze),we+=ut(re,ne,oe,xe,ge);else if(Ze=w(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(re=O.next()).done;)re=re.value,xe=Nt+j(re,Ze++),we+=ut(re,ne,oe,xe,ge);else if(xe==="object"){if(typeof O.then=="function")return ut(Ut(O),ne,oe,re,ge);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function $(O,ne,oe){if(O==null)return O;var re=[],ge=0;return ut(O,re,"","",function(xe){return ne.call(oe,xe,ge++)}),re}function ae(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Re.Children={map:$,forEach:function(O,ne,oe){$(O,function(){ne.apply(this,arguments)},oe)},count:function(O){var ne=0;return $(O,function(){ne++}),ne},toArray:function(O){return $(O,function(ne){return ne})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=U,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=ie,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return he.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,ne,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=D({},O.props),ge=O.key,xe=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(xe=void 0),ne.key!==void 0&&(ge=""+ne.key),ne)!ve.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(re[we]=ne[we]);var we=arguments.length-2;if(we===1)re.children=oe;else if(1<we){for(var Nt=Array(we),Ze=0;Ze<we;Ze++)Nt[Ze]=arguments[Ze+2];re.children=Nt}return k(O.type,ge,void 0,void 0,xe,re)},Re.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,ne,oe){var re,ge={},xe=null;if(ne!=null)for(re in ne.key!==void 0&&(xe=""+ne.key),ne)ve.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=ne[re]);var we=arguments.length-2;if(we===1)ge.children=oe;else if(1<we){for(var Nt=Array(we),Ze=0;Ze<we;Ze++)Nt[Ze]=arguments[Ze+2];ge.children=Nt}if(O&&O.defaultProps)for(re in we=O.defaultProps,we)ge[re]===void 0&&(ge[re]=we[re]);return k(O,xe,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=I,Re.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ae}},Re.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},Re.startTransition=function(O){var ne=he.T,oe={};he.T=oe;try{var re=O(),ge=he.S;ge!==null&&ge(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Be,me)}catch(xe){me(xe)}finally{he.T=ne}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(O){return he.H.use(O)},Re.useActionState=function(O,ne,oe){return he.H.useActionState(O,ne,oe)},Re.useCallback=function(O,ne){return he.H.useCallback(O,ne)},Re.useContext=function(O){return he.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,ne){return he.H.useDeferredValue(O,ne)},Re.useEffect=function(O,ne,oe){var re=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,ne)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(O,ne,oe){return he.H.useImperativeHandle(O,ne,oe)},Re.useInsertionEffect=function(O,ne){return he.H.useInsertionEffect(O,ne)},Re.useLayoutEffect=function(O,ne){return he.H.useLayoutEffect(O,ne)},Re.useMemo=function(O,ne){return he.H.useMemo(O,ne)},Re.useOptimistic=function(O,ne){return he.H.useOptimistic(O,ne)},Re.useReducer=function(O,ne,oe){return he.H.useReducer(O,ne,oe)},Re.useRef=function(O){return he.H.useRef(O)},Re.useState=function(O){return he.H.useState(O)},Re.useSyncExternalStore=function(O,ne,oe){return he.H.useSyncExternalStore(O,ne,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.0",Re}var e0;function Ip(){return e0||(e0=1,Dm.exports=KA()),Dm.exports}var F=Ip();const Xs=JE(F);var Om={exports:{}},zl={},km={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function YA(){return t0||(t0=1,function(i){function e($,ae){var me=$.length;$.push(ae);e:for(;0<me;){var Be=me-1>>>1,O=$[Be];if(0<o(O,ae))$[Be]=ae,$[me]=O,me=Be;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],me=$.pop();if(me!==ae){$[0]=me;e:for(var Be=0,O=$.length,ne=O>>>1;Be<ne;){var oe=2*(Be+1)-1,re=$[oe],ge=oe+1,xe=$[ge];if(0>o(re,me))ge<O&&0>o(xe,re)?($[Be]=xe,$[ge]=me,Be=ge):($[Be]=re,$[oe]=me,Be=oe);else if(ge<O&&0>o(xe,me))$[Be]=xe,$[ge]=me,Be=ge;else break e}}return ae}function o($,ae){var me=$.sortIndex-ae.sortIndex;return me!==0?me:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,b=null,w=3,x=!1,D=!1,K=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function le($){for(var ae=t(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=$)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(g)}}function he($){if(K=!1,le($),!D)if(t(p)!==null)D=!0,ve||(ve=!0,j());else{var ae=t(g);ae!==null&&ut(he,ae.startTime-$)}}var ve=!1,k=-1,S=5,I=-1;function P(){return U?!0:!(i.unstable_now()-I<S)}function V(){if(U=!1,ve){var $=i.unstable_now();I=$;var ae=!0;try{e:{D=!1,K&&(K=!1,ie(k),k=-1),x=!0;var me=w;try{t:{for(le($),b=t(p);b!==null&&!(b.expirationTime>$&&P());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,w=b.priorityLevel;var O=Be(b.expirationTime<=$);if($=i.unstable_now(),typeof O=="function"){b.callback=O,le($),ae=!0;break t}b===t(p)&&s(p),le($)}else s(p);b=t(p)}if(b!==null)ae=!0;else{var ne=t(g);ne!==null&&ut(he,ne.startTime-$),ae=!1}}break e}finally{b=null,w=me,x=!1}ae=void 0}}finally{ae?j():ve=!1}}}var j;if(typeof W=="function")j=function(){W(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ut=N.port2;N.port1.onmessage=V,j=function(){Ut.postMessage(null)}}else j=function(){Q(V,0)};function ut($,ae){k=Q(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function($){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var me=w;w=ae;try{return $()}finally{w=me}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=w;w=$;try{return ae()}finally{w=me}},i.unstable_scheduleCallback=function($,ae,me){var Be=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,$={id:v++,callback:ae,priorityLevel:$,startTime:me,expirationTime:O,sortIndex:-1},me>Be?($.sortIndex=me,e(g,$),t(p)===null&&$===t(g)&&(K?(ie(k),k=-1):K=!0,ut(he,me-Be))):($.sortIndex=O,e(p,$),D||x||(D=!0,ve||(ve=!0,j()))),$},i.unstable_shouldYield=P,i.unstable_wrapCallback=function($){var ae=w;return function(){var me=w;w=ae;try{return $.apply(this,arguments)}finally{w=me}}}}(Pm)),Pm}var n0;function QA(){return n0||(n0=1,km.exports=YA()),km.exports}var Mm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function $A(){if(i0)return Qt;i0=1;var i=Ip();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Qt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var r0;function XA(){if(r0)return Mm.exports;r0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mm.exports=$A(),Mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function WA(){if(s0)return zl;s0=1;var i=QA(),e=Ip(),t=XA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),W=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Ut(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case U:return"Profiler";case K:return"StrictMode";case he:return"Suspense";case ve:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case W:return(n.displayName||"Context")+".Provider";case ie:return(n._context.displayName||"Context")+".Consumer";case le:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:Ut(n.type)||"Memo";case S:r=n._payload,n=n._init;try{return Ut(n(r))}catch{}}return null}var ut=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function ne(n){return{current:n}}function oe(n){0>O||(n.current=Be[O],Be[O]=null,O--)}function re(n,r){O++,Be[O]=n.current,n.current=r}var ge=ne(null),xe=ne(null),we=ne(null),Nt=ne(null);function Ze(n,r){switch(re(we,r),re(xe,n),re(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Sv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Sv(r),n=Rv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(ge),re(ge,n)}function ei(){oe(ge),oe(xe),oe(we)}function dr(n){n.memoizedState!==null&&re(Nt,n);var r=ge.current,a=Rv(r,n.type);r!==a&&(re(xe,n),re(ge,a))}function xi(n){xe.current===n&&(oe(ge),oe(xe)),Nt.current===n&&(oe(Nt),Ml._currentValue=me)}var hs=Object.prototype.hasOwnProperty,fs=i.unstable_scheduleCallback,ds=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,Pu=i.unstable_requestPaint,Sn=i.unstable_now,Nf=i.unstable_getCurrentPriorityLevel,ko=i.unstable_ImmediatePriority,ca=i.unstable_UserBlockingPriority,ms=i.unstable_NormalPriority,Df=i.unstable_LowPriority,ha=i.unstable_IdlePriority,Po=i.log,Mu=i.unstable_setDisableYieldValue,ct=null,Fe=null;function fn(n){if(typeof Po=="function"&&Mu(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ct,n)}catch{}}var Kt=Math.clz32?Math.clz32:ps,Vu=Math.log,Of=Math.LN2;function ps(n){return n>>>=0,n===0?32:31-(Vu(n)/Of|0)|0}var gs=256,ys=4194304;function jn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fa(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=jn(l):(E&=T,E!==0?f=jn(E):a||(a=T&~n,a!==0&&(f=jn(a))))):(T=l&~d,T!==0?f=jn(T):E!==0?f=jn(E):a||(a=l&~n,a!==0&&(f=jn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function _s(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Mo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=gs;return gs<<=1,(gs&4194048)===0&&(gs=256),n}function Uo(){var n=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),n}function Ni(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Di(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Lo(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,q=n.hiddenUpdates;for(a=E&~a;0<a;){var X=31-Kt(a),J=1<<X;T[X]=0,C[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&ti(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function ti(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Kt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function jo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Kt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function mr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function da(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pr(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:Gv(n.type))}function Uu(n,r){var a=ae.p;try{return ae.p=n,r()}finally{ae.p=a}}var it=Math.random().toString(36).slice(2),wt="__reactFiber$"+it,yt="__reactProps$"+it,Rn="__reactContainer$"+it,Bo="__reactEvents$"+it,kf="__reactListeners$"+it,gr="__reactHandles$"+it,Lu="__reactResources$"+it,vs="__reactMarker$"+it;function yr(n){delete n[wt],delete n[yt],delete n[Bo],delete n[kf],delete n[gr]}function Oi(n){var r=n[wt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Rn]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Nv(n);n!==null;){if(a=n[wt])return a;n=Nv(n)}return r}n=a,a=n.parentNode}return null}function ni(n){if(n=n[wt]||n[Rn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ii(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function en(n){var r=n[Lu];return r||(r=n[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(n){n[vs]=!0}var zo=new Set,ma={};function Bn(n,r){ki(n,r),ki(n+"Capture",r)}function ki(n,r){for(ma[n]=r,n=0;n<r.length;n++)zo.add(r[n])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},Es={};function zu(n){return hs.call(Es,n)?!0:hs.call(Bu,n)?!1:ju.test(n)?Es[n]=!0:(Bu[n]=!0,!1)}function _r(n,r,a){if(zu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ri(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Lt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Ts,qu;function Pi(n){if(Ts===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ts=r&&r[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+n+qu}var pa=!1;function ga(n,r){if(!n||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(n,[],J)}else{try{J.call()}catch(G){H=G}n.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),q=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===q.length)for(l=C.length-1,f=q.length-1;1<=l&&0<=f&&C[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==q[f]){var X=`
`+C[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Pi(a):""}function qo(n){switch(n.tag){case 26:case 27:case 5:return Pi(n.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 15:return ga(n.type,!1);case 11:return ga(n.type.render,!1);case 1:return ga(n.type,!0);case 31:return Pi("Activity");default:return""}}function ya(n){try{var r="";do r+=qo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ho(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Pf(n){var r=Ho(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function _a(n){n._valueTracker||(n._valueTracker=Pf(n))}function Fo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Ho(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function bs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Mf=/[\n"\\]/g;function _t(n){return n.replace(Mf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function dn(n,r,a,l,f,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?vr(n,E,tn(r)):a!=null?vr(n,E,tn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function ws(n,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function vr(n,r,a){r==="number"&&bs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Mi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ye(n,r,a){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+tn(a):""}function As(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function In(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ss.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Go(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Hu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Hu(n,d,r[d])}function Ko(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(n){return Uf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vi=null;function Cn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ui=null,Li=null;function Yo(n){var r=ni(n);if(r&&(n=r.stateNode)){var a=n[yt]||null;e:switch(n=r.stateNode,r.type){case"input":if(dn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[yt]||null;if(!f)throw Error(s(90));dn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Fo(l)}break e;case"textarea":Ye(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mi(n,!!a.multiple,r,!1)}}}var si=!1;function Fu(n,r,a){if(si)return n(r,a);si=!0;try{var l=n(r);return l}finally{if(si=!1,(Ui!==null||Li!==null)&&(Uc(),Ui&&(r=Ui,n=Li,Li=Ui=null,Yo(r),n)))for(r=0;r<n.length;r++)Yo(n[r])}}function Rs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(zn)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{xn=!1}var ai=null,Er=null,ji=null;function Qo(){if(ji)return ji;var n,r=Er,a=r.length,l,f="value"in ai?ai.value:ai.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return ji=f.slice(n,1<l?1-l:void 0)}function oi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function li(){return!0}function $o(){return!1}function Dt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?li:$o,this.isPropagationStopped=$o,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Dt(qe),Cs=v({},qe,{view:0,detail:0}),Gu=Dt(Cs),Ta,ba,ui,xs=v({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ui&&(ui&&n.type==="mousemove"?(Ta=n.screenX-ui.screenX,ba=n.screenY-ui.screenY):ba=Ta=0,ui=n),Ta)},movementY:function(n){return"movementY"in n?n.movementY:ba}}),Nn=Dt(xs),Ku=v({},xs,{dataTransfer:0}),Lf=Dt(Ku),Ns=v({},Cs,{relatedTarget:0}),wa=Dt(Ns),Xo=v({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Dt(Xo),Yu=v({},qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sa=Dt(Yu),jf=v({},qe,{data:0}),Wo=Dt(jf),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=$u[n])?!!r[n]:!1}function Os(){return Zo}var Xu=v({},Cs,{key:function(n){if(n.key){var r=Ds[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=oi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(n){return n.type==="keypress"?oi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?oi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ra=Dt(Xu),Wu=v({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=Dt(Wu),Bi=v({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Zu=Dt(Bi),Ju=v({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Dt(Ju),tc=v({},xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=Dt(tc),nn=v({},qe,{newState:0,oldState:0}),nc=Dt(nn),ic=[9,13,27,32],ci=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,_=zn&&(!ci||c&&8<c&&11>=c),A=" ",B=!1;function Y(n,r){switch(n){case"keyup":return ic.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function At(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(B=!0,A);case"textInput":return n=r.data,n===A&&B?null:n;default:return null}}function Ve(n,r){if(Me)return n==="compositionend"||!ci&&Y(n,r)?(n=Qo(),ji=Er=ai=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Ot[n.type]:r==="textarea"}function zi(n,r,a,l){Ui?Li?Li.push(l):Li=[l]:Ui=l,r=Hc(r,"onChange"),0<r.length&&(a=new Ea("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var jt=null,hi=null;function el(n){Ev(n,0)}function rc(n){var r=ii(n);if(Fo(r))return n}function zg(n,r){if(n==="change")return r}var qg=!1;if(zn){var Bf;if(zn){var zf="oninput"in document;if(!zf){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),zf=typeof Hg.oninput=="function"}Bf=zf}else Bf=!1;qg=Bf&&(!document.documentMode||9<document.documentMode)}function Fg(){jt&&(jt.detachEvent("onpropertychange",Gg),hi=jt=null)}function Gg(n){if(n.propertyName==="value"&&rc(hi)){var r=[];zi(r,hi,n,Cn(n)),Fu(el,r)}}function E1(n,r,a){n==="focusin"?(Fg(),jt=r,hi=a,jt.attachEvent("onpropertychange",Gg)):n==="focusout"&&Fg()}function T1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rc(hi)}function b1(n,r){if(n==="click")return rc(r)}function w1(n,r){if(n==="input"||n==="change")return rc(r)}function A1(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var mn=typeof Object.is=="function"?Object.is:A1;function tl(n,r){if(mn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!hs.call(r,f)||!mn(n[f],r[f]))return!1}return!0}function Kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yg(n,r){var a=Kg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kg(a)}}function Qg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Qg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function $g(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=bs(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=bs(n.document)}return r}function qf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var S1=zn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Hf=null,nl=null,Ff=!1;function Xg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ff||Ca==null||Ca!==bs(l)||(l=Ca,"selectionStart"in l&&qf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Hc(Hf,"onSelect"),0<l.length&&(r=new Ea("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ca)))}function ks(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var xa={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Gf={},Wg={};zn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ps(n){if(Gf[n])return Gf[n];if(!xa[n])return n;var r=xa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wg)return Gf[n]=r[a];return n}var Zg=Ps("animationend"),Jg=Ps("animationiteration"),ey=Ps("animationstart"),R1=Ps("transitionrun"),I1=Ps("transitionstart"),C1=Ps("transitioncancel"),ty=Ps("transitionend"),ny=new Map,Kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kf.push("scrollEnd");function qn(n,r){ny.set(n,r),Bn(r,[n])}var iy=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var a=iy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ya(r)},iy.set(n,r),r)}return{value:n,source:r,stack:ya(r)}}var On=[],Na=0,Yf=0;function sc(){for(var n=Na,r=Yf=Na=0;r<n;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&ry(a,f,d)}}function ac(n,r,a,l){On[Na++]=n,On[Na++]=r,On[Na++]=a,On[Na++]=l,Yf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Qf(n,r,a,l){return ac(n,r,a,l),oc(n)}function Da(n,r){return ac(n,null,null,r),oc(n)}function ry(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Kt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function oc(n){if(50<Il)throw Il=0,em=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Oa={};function x1(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(n,r,a,l){return new x1(n,r,a,l)}function $f(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qi(n,r){var a=n.alternate;return a===null?(a=pn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function sy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function lc(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")$f(n)&&(E=1);else if(typeof n=="string")E=DA(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=pn(31,a,r,f),n.elementType=I,n.lanes=d,n;case D:return Ms(a.children,f,d,r);case K:E=8,f|=24;break;case U:return n=pn(12,a,r,f|2),n.elementType=U,n.lanes=d,n;case he:return n=pn(13,a,r,f),n.elementType=he,n.lanes=d,n;case ve:return n=pn(19,a,r,f),n.elementType=ve,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:case W:E=10;break e;case ie:E=9;break e;case le:E=11;break e;case k:E=14;break e;case S:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=pn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ms(n,r,a,l){return n=pn(7,n,l,r),n.lanes=a,n}function Xf(n,r,a){return n=pn(6,n,null,r),n.lanes=a,n}function Wf(n,r,a){return r=pn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ka=[],Pa=0,uc=null,cc=0,kn=[],Pn=0,Vs=null,Hi=1,Fi="";function Us(n,r){ka[Pa++]=cc,ka[Pa++]=uc,uc=n,cc=r}function ay(n,r,a){kn[Pn++]=Hi,kn[Pn++]=Fi,kn[Pn++]=Vs,Vs=n;var l=Hi;n=Fi;var f=32-Kt(l)-1;l&=~(1<<f),a+=1;var d=32-Kt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Hi=1<<32-Kt(r)+f|a<<f|l,Fi=d+n}else Hi=1<<d|a<<f|l,Fi=n}function Zf(n){n.return!==null&&(Us(n,1),ay(n,1,0))}function Jf(n){for(;n===uc;)uc=ka[--Pa],ka[Pa]=null,cc=ka[--Pa],ka[Pa]=null;for(;n===Vs;)Vs=kn[--Pn],kn[Pn]=null,Fi=kn[--Pn],kn[Pn]=null,Hi=kn[--Pn],kn[Pn]=null}var rn=null,ht=null,ze=!1,Ls=null,fi=!1,ed=Error(s(519));function js(n){var r=Error(s(418,""));throw sl(Dn(r,n)),ed}function oy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[wt]=n,r[yt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<xl.length;a++)Oe(xl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),ws(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),As(r,l.value,l.defaultValue,l.children),_a(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Av(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Fc),r=!0):r=!1,r||js(n)}function ly(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:rn=rn.return}}function il(n){if(n!==rn)return!1;if(!ze)return ly(n),ze=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||gm(n.type,n.memoizedProps)),a=!a),a&&ht&&js(n),ly(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ht=Fn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ht=null}}else r===27?(r=ht,Vr(n.type)?(n=Em,Em=null,ht=n):ht=r):ht=rn?Fn(n.stateNode.nextSibling):null;return!0}function rl(){ht=rn=null,ze=!1}function uy(){var n=Ls;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Ls=null),n}function sl(n){Ls===null?Ls=[n]:Ls.push(n)}var td=ne(null),Bs=null,Gi=null;function Tr(n,r,a){re(td,r._currentValue),r._currentValue=a}function Ki(n){n._currentValue=td.current,oe(td)}function nd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function id(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),nd(d.return,a,n),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),nd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function al(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;mn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Nt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}f=f.return}n!==null&&id(r,n,a,l),r.flags|=262144}function hc(n){for(n=n.firstContext;n!==null;){if(!mn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function zs(n){Bs=n,Gi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return cy(Bs,n)}function fc(n,r){return Bs===null&&zs(n),cy(n,r)}function cy(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gi===null){if(n===null)throw Error(s(308));Gi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Gi=Gi.next=r;return a}var N1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},D1=i.unstable_scheduleCallback,O1=i.unstable_NormalPriority,Rt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new N1,data:new Map,refCount:0}}function ol(n){n.refCount--,n.refCount===0&&D1(O1,function(){n.controller.abort()})}var ll=null,sd=0,Ma=0,Va=null;function k1(n,r){if(ll===null){var a=ll=[];sd=0,Ma=om(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sd++,r.then(hy,hy),r}function hy(){if(--sd===0&&ll!==null){Va!==null&&(Va.status="fulfilled");var n=ll;ll=null,Ma=0,Va=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function P1(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var fy=$.S;$.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&k1(n,r),fy!==null&&fy(n,r)};var qs=ne(null);function ad(){var n=qs.current;return n!==null?n:Je.pooledCache}function dc(n,r){r===null?re(qs,qs.current):re(qs,r.pool)}function dy(){var n=ad();return n===null?null:{parent:Rt._currentValue,pool:n}}var ul=Error(s(460)),my=Error(s(474)),mc=Error(s(542)),od={then:function(){}};function py(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function gy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(pc,pc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,_y(n),n;default:if(typeof r.status=="string")r.then(pc,pc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,_y(n),n}throw cl=r,ul}}var cl=null;function yy(){if(cl===null)throw Error(s(459));var n=cl;return cl=null,n}function _y(n){if(n===ul||n===mc)throw Error(s(483))}var br=!1;function ld(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ar(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=oc(n),ry(n,null,a),r}return ac(n,l,r,a),oc(n)}function hl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,jo(n,a)}}function cd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var hd=!1;function fl(){if(hd){var n=Va;if(n!==null)throw n}}function dl(n,r,a,l){hd=!1;var f=n.updateQueue;br=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,q=C.next;C.next=null,E===null?d=q:E.next=q,E=C;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==E&&(T===null?X.firstBaseUpdate=q:T.next=q,X.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;E=0,X=q=C=null,T=d;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Ue&H)===H:(l&H)===H){H!==0&&H===Ma&&(hd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=n,ye=T;H=r;var Xe=a;switch(ye.tag){case 1:if(be=ye.payload,typeof be=="function"){J=be.call(Xe,J,H);break e}J=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ye.payload,H=typeof be=="function"?be.call(Xe,J,H):be,H==null)break e;J=v({},J,H);break e;case 2:br=!0}}H=T.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(q=X=G,C=J):X=X.next=G,E|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;G=T,T=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);X===null&&(C=J),f.baseState=C,f.firstBaseUpdate=q,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Or|=E,n.lanes=E,n.memoizedState=J}}function vy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ey(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)vy(a[n],r)}var Ua=ne(null),gc=ne(0);function Ty(n,r){n=Ji,re(gc,n),re(Ua,r),Ji=n|r.baseLanes}function fd(){re(gc,Ji),re(Ua,Ua.current)}function dd(){Ji=gc.current,oe(Ua),oe(gc)}var Sr=0,Ie=null,Qe=null,vt=null,yc=!1,La=!1,Hs=!1,_c=0,ml=0,ja=null,M1=0;function mt(){throw Error(s(321))}function md(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!mn(n[a],r[a]))return!1;return!0}function pd(n,r,a,l,f,d){return Sr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=n===null||n.memoizedState===null?r_:s_,Hs=!1,d=a(l,f),Hs=!1,La&&(d=wy(r,a,l,f)),by(n),d}function by(n){$.H=Ac;var r=Qe!==null&&Qe.next!==null;if(Sr=0,vt=Qe=Ie=null,yc=!1,ml=0,ja=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&hc(n)&&(kt=!0))}function wy(n,r,a,l){Ie=n;var f=0;do{if(La&&(ja=null),ml=0,La=!1,25<=f)throw Error(s(301));if(f+=1,vt=Qe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=q1,d=r(a,l)}while(La);return d}function V1(){var n=$.H,r=n.useState()[0];return r=typeof r.then=="function"?pl(r):r,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(Ie.flags|=1024),r}function gd(){var n=_c!==0;return _c=0,n}function yd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function _d(n){if(yc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}yc=!1}Sr=0,vt=Qe=Ie=null,La=!1,ml=_c=0,ja=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=n:vt=vt.next=n,vt}function Et(){if(Qe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var r=vt===null?Ie.memoizedState:vt.next;if(r!==null)vt=r,Qe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},vt===null?Ie.memoizedState=vt=n:vt=vt.next=n}return vt}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(n){var r=ml;return ml+=1,ja===null&&(ja=[]),n=gy(ja,n,r),r=Ie,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?r_:s_),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return pl(n);if(n.$$typeof===W)return Yt(n)}throw Error(s(438,String(n)))}function Ed(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=vd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=P;return r.index++,a}function Yi(n,r){return typeof r=="function"?r(n):r}function Ec(n){var r=Et();return Td(r,Qe,n)}function Td(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=E=null,C=null,q=r,X=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ue&J)===J:(Sr&J)===J){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Ma&&(X=!0);else if((Sr&H)===H){q=q.next,H===Ma&&(X=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=J,E=d):C=C.next=J,Ie.lanes|=H,Or|=H;J=q.action,Hs&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else H={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(T=C=H,E=d):C=C.next=H,Ie.lanes|=J,Or|=J;q=q.next}while(q!==null&&q!==r);if(C===null?E=d:C.next=T,!mn(d,n.memoizedState)&&(kt=!0,X&&(a=Va,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function bd(n){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);mn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ay(n,r,a){var l=Ie,f=Et(),d=ze;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!mn((Qe||f).memoizedState,a);E&&(f.memoizedState=a,kt=!0),f=f.queue;var T=Iy.bind(null,l,f,n);if(gl(2048,8,T,[n]),f.getSnapshot!==r||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,Tc(),Ry.bind(null,l,f,a,r),null),Je===null)throw Error(s(349));d||(Sr&124)!==0||Sy(l,r,a)}return a}function Sy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=vd(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Ry(n,r,a,l){r.value=a,r.getSnapshot=l,Cy(r)&&xy(n)}function Iy(n,r,a){return a(function(){Cy(r)&&xy(n)})}function Cy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!mn(n,a)}catch{return!0}}function xy(n){var r=Da(n,2);r!==null&&En(r,n,2)}function wd(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),Hs){fn(!0);try{a()}finally{fn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:n},r}function Ny(n,r,a,l){return n.baseState=a,Td(n,Qe,typeof l=="function"?l:Yi)}function U1(n,r,a,l,f){if(wc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Dy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Dy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=$.T,E={};$.T=E;try{var T=a(f,l),C=$.S;C!==null&&C(E,T),Oy(n,r,T)}catch(q){Ad(n,r,q)}finally{$.T=d}}else try{d=a(f,l),Oy(n,r,d)}catch(q){Ad(n,r,q)}}function Oy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ky(n,r,l)},function(l){return Ad(n,r,l)}):ky(n,r,a)}function ky(n,r,a){r.status="fulfilled",r.value=a,Py(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Dy(n,a)))}function Ad(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Py(r),r=r.next;while(r!==l)}n.action=null}function Py(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function My(n,r){return r}function Vy(n,r){if(ze){var a=Je.formState;if(a!==null){e:{var l=Ie;if(ze){if(ht){t:{for(var f=ht,d=fi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=Fn(f.nextSibling),l=f.data==="F!";break e}}js(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:r},a.queue=l,a=t_.bind(null,Ie,l),l.dispatch=a,l=wd(!1),d=xd.bind(null,Ie,!1,l.queue),l=an(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=U1.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Uy(n){var r=Et();return Ly(r,Qe,n)}function Ly(n,r,a){if(r=Td(n,r,My)[0],n=Ec(Yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(E){throw E===ul?mc:E}else l=r;r=Et();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Ba(9,Tc(),L1.bind(null,f,a),null)),[l,d,n]}function L1(n,r){n.action=r}function jy(n){var r=Et(),a=Qe;if(a!==null)return Ly(r,a,n);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ba(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=vd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Tc(){return{destroy:void 0,resource:void 0}}function By(){return Et().memoizedState}function bc(n,r,a,l){var f=an();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=Ba(1|r,Tc(),a,l)}function gl(n,r,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Qe!==null&&l!==null&&md(l,Qe.memoizedState.deps)?f.memoizedState=Ba(r,d,a,l):(Ie.flags|=n,f.memoizedState=Ba(1|r,d,a,l))}function zy(n,r){bc(8390656,8,n,r)}function qy(n,r){gl(2048,8,n,r)}function Hy(n,r){return gl(4,2,n,r)}function Fy(n,r){return gl(4,4,n,r)}function Gy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ky(n,r,a){a=a!=null?a.concat([n]):null,gl(4,4,Gy.bind(null,r,n),a)}function Sd(){}function Yy(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&md(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Qy(n,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&md(r,l[1]))return l[0];if(l=n(),Hs){fn(!0);try{n()}finally{fn(!1)}}return a.memoizedState=[l,r],l}function Rd(n,r,a){return a===void 0||(Sr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=W_(),Ie.lanes|=n,Or|=n,a)}function $y(n,r,a,l){return mn(a,r)?a:Ua.current!==null?(n=Rd(n,a,l),mn(n,r)||(kt=!0),n):(Sr&42)===0?(kt=!0,n.memoizedState=a):(n=W_(),Ie.lanes|=n,Or|=n,r)}function Xy(n,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=$.T,T={};$.T=T,xd(n,!1,r,a);try{var C=f(),q=$.S;if(q!==null&&q(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=P1(C,l);yl(n,r,X,vn(n))}else yl(n,r,l,vn(n))}catch(J){yl(n,r,{then:function(){},status:"rejected",reason:J},vn())}finally{ae.p=d,$.T=E}}function j1(){}function Id(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Wy(n).queue;Xy(n,f,r,me,a===null?j1:function(){return Zy(n),a(l)})}function Wy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Zy(n){var r=Wy(n).next.queue;yl(n,r,{},vn())}function Cd(){return Yt(Ml)}function Jy(){return Et().memoizedState}function e_(){return Et().memoizedState}function B1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=vn();n=wr(a);var l=Ar(r,n,a);l!==null&&(En(l,r,a),hl(l,r,a)),r={cache:rd()},n.payload=r;return}r=r.return}}function z1(n,r,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},wc(n)?n_(r,a):(a=Qf(n,r,a,l),a!==null&&(En(a,n,l),i_(a,r,l)))}function t_(n,r,a){var l=vn();yl(n,r,a,l)}function yl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(n))n_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,mn(T,E))return ac(n,r,f,0),Je===null&&sc(),!1}catch{}finally{}if(a=Qf(n,r,f,l),a!==null)return En(a,n,l),i_(a,r,l),!0}return!1}function xd(n,r,a,l){if(l={lane:2,revertLane:om(),action:l,hasEagerState:!1,eagerState:null,next:null},wc(n)){if(r)throw Error(s(479))}else r=Qf(n,a,l,2),r!==null&&En(r,n,2)}function wc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function n_(n,r){La=yc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function i_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,jo(n,a)}}var Ac={readContext:Yt,use:vc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},r_={readContext:Yt,use:vc,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Yt,useEffect:zy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,bc(4194308,4,Gy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return bc(4194308,4,n,r)},useInsertionEffect:function(n,r){bc(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(Hs){fn(!0);try{n()}finally{fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var f=a(r);if(Hs){fn(!0);try{a(r)}finally{fn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=z1.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=wd(n);var r=n.queue,a=t_.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Sd,useDeferredValue:function(n,r){var a=an();return Rd(a,n,r)},useTransition:function(){var n=wd(!1);return n=Xy.bind(null,Ie,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,f=an();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Ue&124)!==0||Sy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,zy(Iy.bind(null,l,d,n),[n]),l.flags|=2048,Ba(9,Tc(),Ry.bind(null,l,d,a,r),null),a},useId:function(){var n=an(),r=Je.identifierPrefix;if(ze){var a=Fi,l=Hi;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=M1++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Cd,useFormState:Vy,useActionState:Vy,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=xd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:Ed,useCacheRefresh:function(){return an().memoizedState=B1.bind(null,Ie)}},s_={readContext:Yt,use:vc,useCallback:Yy,useContext:Yt,useEffect:qy,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:Qy,useReducer:Ec,useRef:By,useState:function(){return Ec(Yi)},useDebugValue:Sd,useDeferredValue:function(n,r){var a=Et();return $y(a,Qe.memoizedState,n,r)},useTransition:function(){var n=Ec(Yi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:pl(n),r]},useSyncExternalStore:Ay,useId:Jy,useHostTransitionStatus:Cd,useFormState:Uy,useActionState:Uy,useOptimistic:function(n,r){var a=Et();return Ny(a,Qe,n,r)},useMemoCache:Ed,useCacheRefresh:e_},q1={readContext:Yt,use:vc,useCallback:Yy,useContext:Yt,useEffect:qy,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Fy,useMemo:Qy,useReducer:bd,useRef:By,useState:function(){return bd(Yi)},useDebugValue:Sd,useDeferredValue:function(n,r){var a=Et();return Qe===null?Rd(a,n,r):$y(a,Qe.memoizedState,n,r)},useTransition:function(){var n=bd(Yi)[0],r=Et().memoizedState;return[typeof n=="boolean"?n:pl(n),r]},useSyncExternalStore:Ay,useId:Jy,useHostTransitionStatus:Cd,useFormState:jy,useActionState:jy,useOptimistic:function(n,r){var a=Et();return Qe!==null?Ny(a,Qe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:e_},za=null,_l=0;function Sc(n){var r=_l;return _l+=1,za===null&&(za=[]),gy(za,n,r)}function vl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Rc(n,r){throw r.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function a_(n){var r=n._init;return r(n._payload)}function o_(n){function r(L,M){if(n){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!n)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=qi(L,M),L.index=0,L.sibling=null,L}function d(L,M,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,z,Z){return M===null||M.tag!==6?(M=Xf(z,L.mode,Z),M.return=L,M):(M=f(M,z),M.return=L,M)}function C(L,M,z,Z){var fe=z.type;return fe===D?X(L,M,z.props.children,Z,z.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&a_(fe)===M.type)?(M=f(M,z.props),vl(M,z),M.return=L,M):(M=lc(z.type,z.key,z.props,null,L.mode,Z),vl(M,z),M.return=L,M)}function q(L,M,z,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Wf(z,L.mode,Z),M.return=L,M):(M=f(M,z.children||[]),M.return=L,M)}function X(L,M,z,Z,fe){return M===null||M.tag!==7?(M=Ms(z,L.mode,Z,fe),M.return=L,M):(M=f(M,z),M.return=L,M)}function J(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Xf(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case w:return z=lc(M.type,M.key,M.props,null,L.mode,z),vl(z,M),z.return=L,z;case x:return M=Wf(M,L.mode,z),M.return=L,M;case S:var Z=M._init;return M=Z(M._payload),J(L,M,z)}if(ut(M)||j(M))return M=Ms(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return J(L,Sc(M),z);if(M.$$typeof===W)return J(L,fc(L,M),z);Rc(L,M)}return null}function H(L,M,z,Z){var fe=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:T(L,M,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===fe?C(L,M,z,Z):null;case x:return z.key===fe?q(L,M,z,Z):null;case S:return fe=z._init,z=fe(z._payload),H(L,M,z,Z)}if(ut(z)||j(z))return fe!==null?null:X(L,M,z,Z,null);if(typeof z.then=="function")return H(L,M,Sc(z),Z);if(z.$$typeof===W)return H(L,M,fc(L,z),Z);Rc(L,z)}return null}function G(L,M,z,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,T(M,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return L=L.get(Z.key===null?z:Z.key)||null,C(M,L,Z,fe);case x:return L=L.get(Z.key===null?z:Z.key)||null,q(M,L,Z,fe);case S:var Ne=Z._init;return Z=Ne(Z._payload),G(L,M,z,Z,fe)}if(ut(Z)||j(Z))return L=L.get(z)||null,X(M,L,Z,fe,null);if(typeof Z.then=="function")return G(L,M,z,Sc(Z),fe);if(Z.$$typeof===W)return G(L,M,z,fc(M,Z),fe);Rc(M,Z)}return null}function be(L,M,z,Z){for(var fe=null,Ne=null,de=M,_e=M=0,Mt=null;de!==null&&_e<z.length;_e++){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var je=H(L,de,z[_e],Z);if(je===null){de===null&&(de=Mt);break}n&&de&&je.alternate===null&&r(L,de),M=d(je,M,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je,de=Mt}if(_e===z.length)return a(L,de),ze&&Us(L,_e),fe;if(de===null){for(;_e<z.length;_e++)de=J(L,z[_e],Z),de!==null&&(M=d(de,M,_e),Ne===null?fe=de:Ne.sibling=de,Ne=de);return ze&&Us(L,_e),fe}for(de=l(de);_e<z.length;_e++)Mt=G(de,L,_e,z[_e],Z),Mt!==null&&(n&&Mt.alternate!==null&&de.delete(Mt.key===null?_e:Mt.key),M=d(Mt,M,_e),Ne===null?fe=Mt:Ne.sibling=Mt,Ne=Mt);return n&&de.forEach(function(zr){return r(L,zr)}),ze&&Us(L,_e),fe}function ye(L,M,z,Z){if(z==null)throw Error(s(151));for(var fe=null,Ne=null,de=M,_e=M=0,Mt=null,je=z.next();de!==null&&!je.done;_e++,je=z.next()){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var zr=H(L,de,je.value,Z);if(zr===null){de===null&&(de=Mt);break}n&&de&&zr.alternate===null&&r(L,de),M=d(zr,M,_e),Ne===null?fe=zr:Ne.sibling=zr,Ne=zr,de=Mt}if(je.done)return a(L,de),ze&&Us(L,_e),fe;if(de===null){for(;!je.done;_e++,je=z.next())je=J(L,je.value,Z),je!==null&&(M=d(je,M,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je);return ze&&Us(L,_e),fe}for(de=l(de);!je.done;_e++,je=z.next())je=G(de,L,_e,je.value,Z),je!==null&&(n&&je.alternate!==null&&de.delete(je.key===null?_e:je.key),M=d(je,M,_e),Ne===null?fe=je:Ne.sibling=je,Ne=je);return n&&de.forEach(function(HA){return r(L,HA)}),ze&&Us(L,_e),fe}function Xe(L,M,z,Z){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var fe=z.key;M!==null;){if(M.key===fe){if(fe=z.type,fe===D){if(M.tag===7){a(L,M.sibling),Z=f(M,z.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===S&&a_(fe)===M.type){a(L,M.sibling),Z=f(M,z.props),vl(Z,z),Z.return=L,L=Z;break e}a(L,M);break}else r(L,M);M=M.sibling}z.type===D?(Z=Ms(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=lc(z.type,z.key,z.props,null,L.mode,Z),vl(Z,z),Z.return=L,L=Z)}return E(L);case x:e:{for(fe=z.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),Z=f(M,z.children||[]),Z.return=L,L=Z;break e}else{a(L,M);break}else r(L,M);M=M.sibling}Z=Wf(z,L.mode,Z),Z.return=L,L=Z}return E(L);case S:return fe=z._init,z=fe(z._payload),Xe(L,M,z,Z)}if(ut(z))return be(L,M,z,Z);if(j(z)){if(fe=j(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),ye(L,M,z,Z)}if(typeof z.then=="function")return Xe(L,M,Sc(z),Z);if(z.$$typeof===W)return Xe(L,M,fc(L,z),Z);Rc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),Z=f(M,z),Z.return=L,L=Z):(a(L,M),Z=Xf(z,L.mode,Z),Z.return=L,L=Z),E(L)):a(L,M)}return function(L,M,z,Z){try{_l=0;var fe=Xe(L,M,z,Z);return za=null,fe}catch(de){if(de===ul||de===mc)throw de;var Ne=pn(29,de,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var qa=o_(!0),l_=o_(!1),Mn=ne(null),di=null;function Rr(n){var r=n.alternate;re(It,It.current&1),re(Mn,n),di===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(di=n)}function u_(n){if(n.tag===22){if(re(It,It.current),re(Mn,n),di===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(di=n)}}else Ir()}function Ir(){re(It,It.current),re(Mn,Mn.current)}function Qi(n){oe(Mn),di===n&&(di=null),oe(It)}var It=ne(0);function Ic(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||vm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Nd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Dd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=vn(),f=wr(l);f.payload=r,a!=null&&(f.callback=a),r=Ar(n,f,l),r!==null&&(En(r,n,l),hl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=vn(),f=wr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ar(n,f,l),r!==null&&(En(r,n,l),hl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=vn(),l=wr(a);l.tag=2,r!=null&&(l.callback=r),r=Ar(n,l,a),r!==null&&(En(r,n,a),hl(r,n,a))}};function c_(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(f,d):!0}function h_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Dd.enqueueReplaceState(r,r.state,null)}function Fs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Cc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function f_(n){Cc(n)}function d_(n){console.error(n)}function m_(n){Cc(n)}function xc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function p_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Od(n,r,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(n,r)},a}function g_(n){return n=wr(n),n.tag=3,n}function y_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){p_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){p_(r,a,l),typeof f!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function H1(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&al(r,a,f,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return di===null?nm():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===od?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),rm(n,l,f)),!1;case 22:return a.flags|=65536,l===od?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),rm(n,l,f)),!1}throw Error(s(435,a.tag))}return rm(n,l,f),nm(),!1}if(ze)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ed&&(n=Error(s(422),{cause:l}),sl(Dn(n,a)))):(l!==ed&&(r=Error(s(423),{cause:l}),sl(Dn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Dn(l,a),f=Od(n.stateNode,l,f),cd(n,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),Rl===null?Rl=[d]:Rl.push(d),ft!==4&&(ft=2),r===null)return!0;l=Dn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Od(a.stateNode,l,n),cd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=g_(f),y_(f,n,a,l),cd(a,f),!1}a=a.return}while(a!==null);return!1}var __=Error(s(461)),kt=!1;function Bt(n,r,a,l){r.child=n===null?l_(r,null,a,l):qa(r,n.child,a,l)}function v_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return zs(r),l=pd(n,r,a,E,d,f),T=gd(),n!==null&&!kt?(yd(n,r,f),$i(n,r,f)):(ze&&T&&Zf(r),r.flags|=1,Bt(n,r,l,f),r.child)}function E_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!$f(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,T_(n,r,d,l,f)):(n=lc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Bd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(E,l)&&n.ref===r.ref)return $i(n,r,f)}return r.flags|=1,n=qi(d,l),n.ref=r.ref,n.return=r,r.child=n}function T_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(tl(d,l)&&n.ref===r.ref)if(kt=!1,r.pendingProps=l=d,Bd(n,f))(n.flags&131072)!==0&&(kt=!0);else return r.lanes=n.lanes,$i(n,r,f)}return kd(n,r,a,l,f)}function b_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return w_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&dc(r,d!==null?d.cachePool:null),d!==null?Ty(r,d):fd(),u_(r);else return r.lanes=r.childLanes=536870912,w_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(dc(r,d.cachePool),Ty(r,d),Ir(),r.memoizedState=null):(n!==null&&dc(r,null),fd(),Ir());return Bt(n,r,f,a),r.child}function w_(n,r,a,l){var f=ad();return f=f===null?null:{parent:Rt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&dc(r,null),fd(),u_(r),n!==null&&al(n,r,l,!0),null}function Nc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function kd(n,r,a,l,f){return zs(r),a=pd(n,r,a,l,void 0,f),l=gd(),n!==null&&!kt?(yd(n,r,f),$i(n,r,f)):(ze&&l&&Zf(r),r.flags|=1,Bt(n,r,a,f),r.child)}function A_(n,r,a,l,f,d){return zs(r),r.updateQueue=null,a=wy(r,l,a,f),by(n),l=gd(),n!==null&&!kt?(yd(n,r,d),$i(n,r,d)):(ze&&l&&Zf(r),r.flags|=1,Bt(n,r,a,d),r.child)}function S_(n,r,a,l,f){if(zs(r),r.stateNode===null){var d=Oa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Yt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Dd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ld(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Yt(E):Oa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Nd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Dd.enqueueReplaceState(d,d.state,null),dl(r,l,d,f),fl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,C=Fs(a,T);d.props=C;var q=d.context,X=a.contextType;E=Oa,typeof X=="object"&&X!==null&&(E=Yt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==E)&&h_(r,d,l,E),br=!1;var H=r.memoizedState;d.state=H,dl(r,l,d,f),fl(),q=r.memoizedState,T||H!==q||br?(typeof J=="function"&&(Nd(r,a,J,l),q=r.memoizedState),(C=br||c_(r,a,C,l,H,q,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,ud(n,r),E=r.memoizedProps,X=Fs(a,E),d.props=X,J=r.pendingProps,H=d.context,q=a.contextType,C=Oa,typeof q=="object"&&q!==null&&(C=Yt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||H!==C)&&h_(r,d,l,C),br=!1,H=r.memoizedState,d.state=H,dl(r,l,d,f),fl();var G=r.memoizedState;E!==J||H!==G||br||n!==null&&n.dependencies!==null&&hc(n.dependencies)?(typeof T=="function"&&(Nd(r,a,T,l),G=r.memoizedState),(X=br||c_(r,a,X,l,H,G,C)||n!==null&&n.dependencies!==null&&hc(n.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Nc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=qa(r,n.child,null,f),r.child=qa(r,null,a,f)):Bt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=$i(n,r,f),n}function R_(n,r,a,l){return rl(),r.flags|=256,Bt(n,r,a,l),r.child}var Pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(n){return{baseLanes:n,cachePool:dy()}}function Vd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Vn),n}function I_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(It.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(ze){if(f?Rr(r):Ir(),ze){var T=ht,C;if(C=T){e:{for(C=T,T=fi;C.nodeType!==8;){if(!T){T=null;break e}if(C=Fn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Vs!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},C=pn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,rn=r,ht=null,C=!0):C=!1}C||js(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return vm(T)?r.lanes=32:r.lanes=536870912,null;Qi(r)}return T=l.children,l=l.fallback,f?(Ir(),f=r.mode,T=Dc({mode:"hidden",children:T},f),l=Ms(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=Md(a),f.childLanes=Vd(n,E,a),r.memoizedState=Pd,l):(Rr(r),Ud(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Rr(r),r.flags&=-257,r=Ld(n,r,a)):r.memoizedState!==null?(Ir(),r.child=n.child,r.flags|=128,r=null):(Ir(),f=l.fallback,T=r.mode,l=Dc({mode:"visible",children:l.children},T),f=Ms(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,qa(r,n.child,null,a),l=r.child,l.memoizedState=Md(a),l.childLanes=Vd(n,E,a),r.memoizedState=Pd,r=f);else if(Rr(r),vm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var q=E.dgst;E=q,l=Error(s(419)),l.stack="",l.digest=E,sl({value:l,source:null,stack:null}),r=Ld(n,r,a)}else if(kt||al(n,r,a,!1),E=(a&n.childLanes)!==0,kt||E){if(E=Je,E!==null&&(l=a&-a,l=(l&42)!==0?1:mr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Da(n,l),En(E,n,l),__;T.data==="$?"||nm(),r=Ld(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,ht=Fn(T.nextSibling),rn=r,ze=!0,Ls=null,fi=!1,n!==null&&(kn[Pn++]=Hi,kn[Pn++]=Fi,kn[Pn++]=Vs,Hi=n.id,Fi=n.overflow,Vs=r),r=Ud(r,l.children),r.flags|=4096);return r}return f?(Ir(),f=l.fallback,T=r.mode,C=n.child,q=C.sibling,l=qi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?f=qi(q,f):(f=Ms(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=Md(a):(C=T.cachePool,C!==null?(q=Rt._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=dy(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=Vd(n,E,a),r.memoizedState=Pd,l):(Rr(r),a=n.child,n=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Ud(n,r){return r=Dc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Dc(n,r){return n=pn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ld(n,r,a){return qa(r,n.child,null,a),n=Ud(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function C_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),nd(n.return,r,a)}function jd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function x_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Bt(n,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&C_(n,a,r);else if(n.tag===19)C_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(It,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ic(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),jd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ic(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}jd(r,!0,a,null,d);break;case"together":jd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Or|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(al(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=qi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=qi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Bd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&hc(n)))}function F1(n,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),Tr(r,Rt,n.memoizedState.cache),rl();break;case 27:case 5:dr(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?I_(n,r,a):(Rr(r),n=$i(n,r,a),n!==null?n.sibling:null);Rr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(al(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return x_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,b_(n,r,a);case 24:Tr(r,Rt,n.memoizedState.cache)}return $i(n,r,a)}function N_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!Bd(n,a)&&(r.flags&128)===0)return kt=!1,F1(n,r,a);kt=(n.flags&131072)!==0}else kt=!1,ze&&(r.flags&1048576)!==0&&ay(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")$f(l)?(n=Fs(l,n),r.tag=1,r=S_(null,r,l,n,a)):(r.tag=0,r=kd(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===le){r.tag=11,r=v_(null,r,l,n,a);break e}else if(f===k){r.tag=14,r=E_(null,r,l,n,a);break e}}throw r=Ut(l)||l,Error(s(306,r,""))}}return r;case 0:return kd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Fs(l,r.pendingProps),S_(n,r,l,f,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,ud(n,r),dl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Tr(r,Rt,l),l!==d.cache&&id(r,[Rt],a,!0),fl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=R_(n,r,l,a);break e}else if(l!==f){f=Dn(Error(s(424)),r),sl(f),r=R_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Fn(n.firstChild),rn=r,ze=!0,Ls=null,fi=!0,a=l_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===f){r=$i(n,r,a);break e}Bt(n,r,l,a)}r=r.child}return r;case 26:return Nc(n,r),n===null?(a=Pv(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,n=r.pendingProps,l=Gc(we.current).createElement(a),l[wt]=r,l[yt]=n,qt(l,a,n),dt(l),r.stateNode=l):r.memoizedState=Pv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return dr(r),n===null&&ze&&(l=r.stateNode=Dv(r.type,r.pendingProps,we.current),rn=r,fi=!0,f=ht,Vr(r.type)?(Em=f,ht=Fn(l.firstChild)):ht=f),Bt(n,r,r.pendingProps.children,a),Nc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ze&&((f=l=ht)&&(l=_A(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,rn=r,ht=Fn(l.firstChild),fi=!1,f=!0):f=!1),f||js(r)),dr(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,gm(f,d)?l=null:E!==null&&gm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=pd(n,r,V1,null,null,a),Ml._currentValue=f),Nc(n,r),Bt(n,r,l,a),r.child;case 6:return n===null&&ze&&((n=a=ht)&&(a=vA(a,r.pendingProps,fi),a!==null?(r.stateNode=a,rn=r,ht=null,n=!0):n=!1),n||js(r)),null;case 13:return I_(n,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=qa(r,null,l,a):Bt(n,r,l,a),r.child;case 11:return v_(n,r,r.type,r.pendingProps,a);case 7:return Bt(n,r,r.pendingProps,a),r.child;case 8:return Bt(n,r,r.pendingProps.children,a),r.child;case 12:return Bt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Tr(r,r.type,l.value),Bt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,zs(r),f=Yt(f),l=l(f),r.flags|=1,Bt(n,r,l,a),r.child;case 14:return E_(n,r,r.type,r.pendingProps,a);case 15:return T_(n,r,r.type,r.pendingProps,a);case 19:return x_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Dc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=qi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return b_(n,r,a);case 24:return zs(r),l=Yt(Rt),n===null?(f=ad(),f===null&&(f=Je,d=rd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},ld(r),Tr(r,Rt,f)):((n.lanes&a)!==0&&(ud(n,r),dl(r,null,null,a),fl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Tr(r,Rt,l)):(l=d.cache,Tr(r,Rt,l),l!==f.cache&&id(r,[Rt],a,!0))),Bt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xi(n){n.flags|=4}function D_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!jv(r)){if(r=Mn.current,r!==null&&((Ue&4194048)===Ue?di!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==di))throw cl=od,my;n.flags|=8192}}function Oc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Uo():536870912,n.lanes|=r,Ka|=r)}function El(n,r){if(!ze)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function G1(n,r,a){var l=r.pendingProps;switch(Jf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ki(Rt),ei(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(il(r)?Xi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,uy())),st(r),null;case 26:return a=r.memoizedState,n===null?(Xi(r),a!==null?(st(r),D_(r,a)):(st(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Xi(r),st(r),D_(r,a)):(st(r),r.flags&=-16777217):(n.memoizedProps!==l&&Xi(r),st(r),r.flags&=-16777217),null;case 27:xi(r),a=we.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}n=ge.current,il(r)?oy(r):(n=Dv(f,l,a),r.stateNode=n,Xi(r))}return st(r),null;case 5:if(xi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(n=ge.current,il(r))oy(r);else{switch(f=Gc(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[wt]=r,n[yt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Xi(r)}}return st(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Xi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,il(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[wt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Av(n.nodeValue,a)),n||js(r)}else n=Gc(n).createTextNode(l),n[wt]=r,r.stateNode=n}return st(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=il(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[wt]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else f=uy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Qi(r),r):(Qi(r),null)}if(Qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Oc(r,r.updateQueue),st(r),null;case 4:return ei(),n===null&&hm(r.stateNode.containerInfo),st(r),null;case 10:return Ki(r.type),st(r),null;case 19:if(oe(It),f=r.memoizedState,f===null)return st(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)El(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Ic(n),d!==null){for(r.flags|=128,El(f,!1),n=d.updateQueue,r.updateQueue=n,Oc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)sy(a,n),a=a.sibling;return re(It,It.current&1|2),r.child}n=n.sibling}f.tail!==null&&Sn()>Mc&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304)}else{if(!l)if(n=Ic(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Oc(r,n),El(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ze)return st(r),null}else 2*Sn()-f.renderingStartTime>Mc&&a!==536870912&&(r.flags|=128,l=!0,El(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Sn(),r.sibling=null,n=It.current,re(It,l?n&1|2:n&1),r):(st(r),null);case 22:case 23:return Qi(r),dd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&Oc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&oe(qs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ki(Rt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function K1(n,r){switch(Jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ki(Rt),ei(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return xi(r),null;case 13:if(Qi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));rl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return oe(It),null;case 4:return ei(),null;case 10:return Ki(r.type),null;case 22:case 23:return Qi(r),dd(),n!==null&&oe(qs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ki(Rt),null;case 25:return null;default:return null}}function O_(n,r){switch(Jf(r),r.tag){case 3:Ki(Rt),ei();break;case 26:case 27:case 5:xi(r);break;case 4:ei();break;case 13:Qi(r);break;case 19:oe(It);break;case 10:Ki(r.type);break;case 22:case 23:Qi(r),dd(),n!==null&&oe(qs);break;case 24:Ki(Rt)}}function Tl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){We(r,r.return,T)}}function Cr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var C=a,q=T;try{q()}catch(X){We(f,C,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function k_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Ey(r,a)}catch(l){We(n,n.return,l)}}}function P_(n,r,a){a.props=Fs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){We(n,r,l)}}function bl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){We(n,r,f)}}function mi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(n,r,f)}else a.current=null}function M_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(n,n.return,f)}}function zd(n,r,a){try{var l=n.stateNode;dA(l,n.type,a,r),l[yt]=r}catch(f){We(n,n.return,f)}}function V_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vr(n.type)||n.tag===4}function qd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||V_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Fc));else if(l!==4&&(l===27&&Vr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Hd(n,r,a),n=n.sibling;n!==null;)Hd(n,r,a),n=n.sibling}function kc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Vr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(kc(n,r,a),n=n.sibling;n!==null;)kc(n,r,a),n=n.sibling}function U_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);qt(r,l,a),r[wt]=n,r[yt]=a}catch(d){We(n,n.return,d)}}var Wi=!1,pt=!1,Fd=!1,L_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Y1(n,r){if(n=n.containerInfo,mm=Wc,n=$g(n),qf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,C=-1,q=0,X=0,J=n,H=null;t:for(;;){for(var G;J!==a||f!==0&&J.nodeType!==3||(T=E+f),J!==d||l!==0&&J.nodeType!==3||(C=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===n)break t;if(H===a&&++q===f&&(T=E),H===d&&++X===l&&(C=E),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(pm={focusedElem:n,selectionRange:a},Wc=!1,Pt=r;Pt!==null;)if(r=Pt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Pt=n;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Fs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){We(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)_m(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_m(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Pt=n;break}Pt=r.return}}function j_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xr(n,a),l&4&&Tl(5,a);break;case 1:if(xr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){We(a,a.return,E)}else{var f=Fs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}l&64&&k_(a),l&512&&bl(a,a.return);break;case 3:if(xr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ey(n,r)}catch(E){We(a,a.return,E)}}break;case 27:r===null&&l&4&&U_(a);case 26:case 5:xr(n,a),r===null&&l&4&&M_(a),l&512&&bl(a,a.return);break;case 12:xr(n,a);break;case 13:xr(n,a),l&4&&q_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=nA.bind(null,a),EA(n,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){r=r!==null&&r.memoizedState!==null||pt,f=Wi;var d=pt;Wi=l,(pt=r)&&!d?Nr(n,a,(a.subtreeFlags&8772)!==0):xr(n,a),Wi=f,pt=d}break;case 30:break;default:xr(n,a)}}function B_(n){var r=n.alternate;r!==null&&(n.alternate=null,B_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&yr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var rt=null,on=!1;function Zi(n,r,a){for(a=a.child;a!==null;)z_(n,r,a),a=a.sibling}function z_(n,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:pt||mi(a,r),Zi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||mi(a,r);var l=rt,f=on;Vr(a.type)&&(rt=a.stateNode,on=!1),Zi(n,r,a),Dl(a.stateNode),rt=l,on=f;break;case 5:pt||mi(a,r);case 6:if(l=rt,f=on,rt=null,Zi(n,r,a),rt=l,on=f,rt!==null)if(on)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:rt!==null&&(on?(n=rt,xv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),jl(n)):xv(rt,a.stateNode));break;case 4:l=rt,f=on,rt=a.stateNode.containerInfo,on=!0,Zi(n,r,a),rt=l,on=f;break;case 0:case 11:case 14:case 15:pt||Cr(2,a,r),pt||Cr(4,a,r),Zi(n,r,a);break;case 1:pt||(mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&P_(a,r,l)),Zi(n,r,a);break;case 21:Zi(n,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Zi(n,r,a),pt=l;break;default:Zi(n,r,a)}}function q_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jl(n)}catch(a){We(r,r.return,a)}}function Q1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new L_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new L_),r;default:throw Error(s(435,n.tag))}}function Gd(n,r){var a=Q1(n);r.forEach(function(l){var f=iA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function gn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Vr(T.type)){rt=T.stateNode,on=!1;break e}break;case 5:rt=T.stateNode,on=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(rt===null)throw Error(s(160));z_(d,E,f),rt=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)H_(r,n),r=r.sibling}var Hn=null;function H_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gn(r,n),yn(n),l&4&&(Cr(3,n,n.return),Tl(3,n),Cr(5,n,n.return));break;case 1:gn(r,n),yn(n),l&512&&(pt||a===null||mi(a,a.return)),l&64&&Wi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Hn;if(gn(r,n),yn(n),l&512&&(pt||a===null||mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vs]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[wt]=n,dt(d),l=d;break e;case"link":var E=Uv("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Uv("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=n,dt(d),l=d}n.stateNode=l}else Lv(f,n.type,n.stateNode);else n.stateNode=Vv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Lv(f,n.type,n.stateNode):Vv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&zd(n,n.memoizedProps,a.memoizedProps)}break;case 27:gn(r,n),yn(n),l&512&&(pt||a===null||mi(a,a.return)),a!==null&&l&4&&zd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(gn(r,n),yn(n),l&512&&(pt||a===null||mi(a,a.return)),n.flags&32){f=n.stateNode;try{In(f,"")}catch(G){We(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,zd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Fd=!0);break;case 6:if(gn(r,n),yn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){We(n,n.return,G)}}break;case 3:if(Qc=null,f=Hn,Hn=Kc(r.containerInfo),gn(r,n),Hn=f,yn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(G){We(n,n.return,G)}Fd&&(Fd=!1,F_(n));break;case 4:l=Hn,Hn=Kc(n.stateNode.containerInfo),gn(r,n),yn(n),Hn=l;break;case 12:gn(r,n),yn(n);break;case 13:gn(r,n),yn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wd=Sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gd(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=Wi,X=pt;if(Wi=q||f,pt=X||C,gn(r,n),pt=X,Wi=q,yn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Wi||pt||Gs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){We(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(G){We(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Gd(n,a))));break;case 19:gn(r,n),yn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Gd(n,l)));break;case 30:break;case 21:break;default:gn(r,n),yn(n)}}function yn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(V_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=qd(n);kc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(In(E,""),a.flags&=-33);var T=qd(n);kc(n,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,q=qd(n);Hd(n,q,C);break;default:throw Error(s(161))}}catch(X){We(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function F_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;F_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function xr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)j_(n,r.alternate,r),r=r.sibling}function Gs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Cr(4,r,r.return),Gs(r);break;case 1:mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&P_(r,r.return,a),Gs(r);break;case 27:Dl(r.stateNode);case 26:case 5:mi(r,r.return),Gs(r);break;case 22:r.memoizedState===null&&Gs(r);break;case 30:Gs(r);break;default:Gs(r)}n=n.sibling}}function Nr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Nr(f,d,a),Tl(4,d);break;case 1:if(Nr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)vy(C[f],T)}catch(q){We(l,l.return,q)}}a&&E&64&&k_(d),bl(d,d.return);break;case 27:U_(d);case 26:case 5:Nr(f,d,a),a&&l===null&&E&4&&M_(d),bl(d,d.return);break;case 12:Nr(f,d,a);break;case 13:Nr(f,d,a),a&&E&4&&q_(f,d);break;case 22:d.memoizedState===null&&Nr(f,d,a),bl(d,d.return);break;case 30:break;default:Nr(f,d,a)}r=r.sibling}}function Kd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ol(a))}function Yd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n))}function pi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G_(n,r,a,l),r=r.sibling}function G_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:pi(n,r,a,l),f&2048&&Tl(9,r);break;case 1:pi(n,r,a,l);break;case 3:pi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n)));break;case 12:if(f&2048){pi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){We(r,r.return,C)}}else pi(n,r,a,l);break;case 13:pi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?pi(n,r,a,l):wl(n,r):d._visibility&2?pi(n,r,a,l):(d._visibility|=2,Ha(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Kd(E,r);break;case 24:pi(n,r,a,l),f&2048&&Yd(r.alternate,r);break;default:pi(n,r,a,l)}}function Ha(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,T=a,C=l,q=E.flags;switch(E.tag){case 0:case 11:case 15:Ha(d,E,T,C,f),Tl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?Ha(d,E,T,C,f):wl(d,E):(X._visibility|=2,Ha(d,E,T,C,f)),f&&q&2048&&Kd(E.alternate,E);break;case 24:Ha(d,E,T,C,f),f&&q&2048&&Yd(E.alternate,E);break;default:Ha(d,E,T,C,f)}r=r.sibling}}function wl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Kd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Yd(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var Al=8192;function Fa(n){if(n.subtreeFlags&Al)for(n=n.child;n!==null;)K_(n),n=n.sibling}function K_(n){switch(n.tag){case 26:Fa(n),n.flags&Al&&n.memoizedState!==null&&kA(Hn,n.memoizedState,n.memoizedProps);break;case 5:Fa(n);break;case 3:case 4:var r=Hn;Hn=Kc(n.stateNode.containerInfo),Fa(n),Hn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,Fa(n),Al=r):Fa(n));break;default:Fa(n)}}function Y_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Sl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,$_(l,n)}Y_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Q_(n),n=n.sibling}function Q_(n){switch(n.tag){case 0:case 11:case 15:Sl(n),n.flags&2048&&Cr(9,n,n.return);break;case 3:Sl(n);break;case 12:Sl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Pc(n)):Sl(n);break;default:Sl(n)}}function Pc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,$_(l,n)}Y_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Cr(8,r,r.return),Pc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(r));break;default:Pc(r)}n=n.sibling}}function $_(n,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Cr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=n;Pt!==null;){l=Pt;var f=l.sibling,d=l.return;if(B_(l),l===a){Pt=null;break e}if(f!==null){f.return=d,Pt=f;break e}Pt=d}}}var $1={getCacheForType:function(n){var r=Yt(Rt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},X1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Ue=0,Ke=0,_n=null,Dr=!1,Ga=!1,Qd=!1,Ji=0,ft=0,Or=0,Ks=0,$d=0,Vn=0,Ka=0,Rl=null,ln=null,Xd=!1,Wd=0,Mc=1/0,Vc=null,kr=null,zt=0,Pr=null,Ya=null,Qa=0,Zd=0,Jd=null,X_=null,Il=0,em=null;function vn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if($.T!==null){var n=Ma;return n!==0?n:om()}return pr()}function W_(){Vn===0&&(Vn=(Ue&536870912)===0||ze?Vo():536870912);var n=Mn.current;return n!==null&&(n.flags|=32),Vn}function En(n,r,a){(n===Je&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)&&($a(n,0),Mr(n,Ue,Vn,!1)),Di(n,a),((Ge&2)===0||n!==Je)&&(n===Je&&((Ge&2)===0&&(Ks|=a),ft===4&&Mr(n,Ue,Vn,!1)),gi(n))}function Z_(n,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||_s(n,r),f=l?J1(n,r):im(n,r,!0),d=l;do{if(f===0){Ga&&!l&&Mr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!W1(a)){f=im(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=n;f=Rl;var C=T.current.memoizedState.isDehydrated;if(C&&($a(T,E).flags|=256),E=im(T,E,!1),E!==2){if(Qd&&!C){T.errorRecoveryDisabledLanes|=d,Ks|=d,f=4;break e}d=ln,ln=f,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){$a(n,0),Mr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Mr(l,r,Vn,!Dr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Wd+300-Sn(),10<f)){if(Mr(l,r,Vn,!Dr),fa(l,0,!0)!==0)break e;l.timeoutHandle=Iv(J_.bind(null,l,a,ln,Vc,Xd,r,Vn,Ks,Ka,Dr,d,2,-0,0),f);break e}J_(l,a,ln,Vc,Xd,r,Vn,Ks,Ka,Dr,d,0,-0,0)}}break}while(!0);gi(n)}function J_(n,r,a,l,f,d,E,T,C,q,X,J,H,G){if(n.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:OA},K_(r),J=PA(),J!==null)){n.cancelPendingCommit=J(av.bind(null,n,r,d,a,l,f,E,T,C,X,1,H,G)),Mr(n,d,E,!q);return}av(n,r,d,a,l,f,E,T,C)}function W1(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!mn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mr(n,r,a,l){r&=~$d,r&=~Ks,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Kt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&ti(n,a,r)}function Uc(){return(Ge&6)===0?(Cl(0),!1):!0}function tm(){if(De!==null){if(Ke===0)var n=De.return;else n=De,Gi=Bs=null,_d(n),za=null,_l=0,n=De;for(;n!==null;)O_(n.alternate,n),n=n.return;De=null}}function $a(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,pA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),tm(),Je=n,De=a=qi(n.current,null),Ue=r,Ke=0,_n=null,Dr=!1,Ga=_s(n,r),Qd=!1,Ka=Vn=$d=Ks=Or=ft=0,ln=Rl=null,Xd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Kt(l),d=1<<f;r|=n[f],l&=~d}return Ji=r,sc(),a}function ev(n,r){Ie=null,$.H=Ac,r===ul||r===mc?(r=yy(),Ke=3):r===my?(r=yy(),Ke=4):Ke=r===__?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_n=r,De===null&&(ft=1,xc(n,Dn(r,n.current)))}function tv(){var n=$.H;return $.H=Ac,n===null?Ac:n}function nv(){var n=$.A;return $.A=$1,n}function nm(){ft=4,Dr||(Ue&4194048)!==Ue&&Mn.current!==null||(Ga=!0),(Or&134217727)===0&&(Ks&134217727)===0||Je===null||Mr(Je,Ue,Vn,!1)}function im(n,r,a){var l=Ge;Ge|=2;var f=tv(),d=nv();(Je!==n||Ue!==r)&&(Vc=null,$a(n,r)),r=!1;var E=ft;e:do try{if(Ke!==0&&De!==null){var T=De,C=_n;switch(Ke){case 8:tm(),E=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var q=Ke;if(Ke=0,_n=null,Xa(n,T,C,q),a&&Ga){E=0;break e}break;default:q=Ke,Ke=0,_n=null,Xa(n,T,C,q)}}Z1(),E=ft;break}catch(X){ev(n,X)}while(!0);return r&&n.shellSuspendCounter++,Gi=Bs=null,Ge=l,$.H=f,$.A=d,De===null&&(Je=null,Ue=0,sc()),E}function Z1(){for(;De!==null;)iv(De)}function J1(n,r){var a=Ge;Ge|=2;var l=tv(),f=nv();Je!==n||Ue!==r?(Vc=null,Mc=Sn()+500,$a(n,r)):Ga=_s(n,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=_n;t:switch(Ke){case 1:Ke=0,_n=null,Xa(n,r,d,1);break;case 2:case 9:if(py(d)){Ke=0,_n=null,rv(r);break}r=function(){Ke!==2&&Ke!==9||Je!==n||(Ke=7),gi(n)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:py(d)?(Ke=0,_n=null,rv(r)):(Ke=0,_n=null,Xa(n,r,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var T=De;if(!E||jv(E)){Ke=0,_n=null;var C=T.sibling;if(C!==null)De=C;else{var q=T.return;q!==null?(De=q,Lc(q)):De=null}break t}}Ke=0,_n=null,Xa(n,r,d,5);break;case 6:Ke=0,_n=null,Xa(n,r,d,6);break;case 8:tm(),ft=6;break e;default:throw Error(s(462))}}eA();break}catch(X){ev(n,X)}while(!0);return Gi=Bs=null,$.H=l,$.A=f,Ge=a,De!==null?0:(Je=null,Ue=0,sc(),ft)}function eA(){for(;De!==null&&!Oo();)iv(De)}function iv(n){var r=N_(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Lc(n):De=r}function rv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=A_(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=A_(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:_d(r);default:O_(a,r),r=De=sy(r,Ji),r=N_(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Lc(n):De=r}function Xa(n,r,a,l){Gi=Bs=null,_d(r),za=null,_l=0;var f=r.return;try{if(H1(n,f,r,a,Ue)){ft=1,xc(n,Dn(a,n.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ft=1,xc(n,Dn(a,n.current)),De=null;return}r.flags&32768?(ze||l===1?n=!0:Ga||(Ue&536870912)!==0?n=!1:(Dr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),sv(r,n)):Lc(r)}function Lc(n){var r=n;do{if((r.flags&32768)!==0){sv(r,Dr);return}n=r.return;var a=G1(r.alternate,r,Ji);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);ft===0&&(ft=5)}function sv(n,r){do{var a=K1(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);ft=6,De=null}function av(n,r,a,l,f,d,E,T,C){n.cancelPendingCommit=null;do jc();while(zt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Yf,Lo(n,a,d,E,T,C),n===Je&&(De=Je=null,Ue=0),Ya=r,Pr=n,Qa=a,Zd=d,Jd=f,X_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rA(ms,function(){return hv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ae.p,ae.p=2,E=Ge,Ge|=4;try{Y1(n,r,a)}finally{Ge=E,ae.p=f,$.T=l}}zt=1,ov(),lv(),uv()}}function ov(){if(zt===1){zt=0;var n=Pr,r=Ya,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Ge;Ge|=4;try{H_(r,n);var d=pm,E=$g(n.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Qg(T.ownerDocument.documentElement,T)){if(C!==null&&qf(T)){var q=C.start,X=C.end;if(X===void 0&&(X=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),be=T.textContent.length,ye=Math.min(C.start,be),Xe=C.end===void 0?ye:Math.min(C.end,be);!G.extend&&ye>Xe&&(E=Xe,Xe=ye,ye=E);var L=Yg(T,ye),M=Yg(T,Xe);if(L&&M&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var z=J.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),ye>Xe?(G.addRange(z),G.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),G.addRange(z))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Wc=!!mm,pm=mm=null}finally{Ge=f,ae.p=l,$.T=a}}n.current=r,zt=2}}function lv(){if(zt===2){zt=0;var n=Pr,r=Ya,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Ge;Ge|=4;try{j_(n,r.alternate,r)}finally{Ge=f,ae.p=l,$.T=a}}zt=3}}function uv(){if(zt===4||zt===3){zt=0,Pu();var n=Pr,r=Ya,a=Qa,l=X_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Ya=Pr=null,cv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(kr=null),da(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{$.T=r,ae.p=f}}(Qa&3)!==0&&jc(),gi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===em?Il++:(Il=0,em=n):Il=0,Cl(0)}}function cv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ol(r)))}function jc(n){return ov(),lv(),uv(),hv()}function hv(){if(zt!==5)return!1;var n=Pr,r=Zd;Zd=0;var a=da(Qa),l=$.T,f=ae.p;try{ae.p=32>a?32:a,$.T=null,a=Jd,Jd=null;var d=Pr,E=Qa;if(zt=0,Ya=Pr=null,Qa=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Q_(d.current),G_(d,d.current,E,a),Ge=T,Cl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{ae.p=f,$.T=l,cv(n,r)}}function fv(n,r,a){r=Dn(a,r),r=Od(n.stateNode,r,2),n=Ar(n,r,2),n!==null&&(Di(n,2),gi(n))}function We(n,r,a){if(n.tag===3)fv(n,n,a);else for(;r!==null;){if(r.tag===3){fv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){n=Dn(a,n),a=g_(2),l=Ar(r,a,2),l!==null&&(y_(a,l,r,n),Di(l,2),gi(l));break}}r=r.return}}function rm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new X1;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Qd=!0,f.add(a),n=tA.bind(null,n,r,a),r.then(n,n))}function tA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>Sn()-Wd?(Ge&2)===0&&$a(n,0):$d|=a,Ka===Ue&&(Ka=0)),gi(n)}function dv(n,r){r===0&&(r=Uo()),n=Da(n,r),n!==null&&(Di(n,r),gi(n))}function nA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),dv(n,a)}function iA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),dv(n,a)}function rA(n,r){return fs(n,r)}var Bc=null,Wa=null,sm=!1,zc=!1,am=!1,Ys=0;function gi(n){n!==Wa&&n.next===null&&(Wa===null?Bc=Wa=n:Wa=Wa.next=n),zc=!0,sm||(sm=!0,aA())}function Cl(n,r){if(!am&&zc){am=!0;do for(var a=!1,l=Bc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|n)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,yv(l,d))}else d=Ue,d=fa(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||_s(l,d)||(a=!0,yv(l,d));l=l.next}while(a);am=!1}}function sA(){mv()}function mv(){zc=sm=!1;var n=0;Ys!==0&&(mA()&&(n=Ys),Ys=0);for(var r=Sn(),a=null,l=Bc;l!==null;){var f=l.next,d=pv(l,r);d===0?(l.next=null,a===null?Bc=f:a.next=f,f===null&&(Wa=a)):(a=l,(n!==0||(d&3)!==0)&&(zc=!0)),l=f}Cl(n)}function pv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Kt(d),T=1<<E,C=f[E];C===-1?((T&a)===0||(T&l)!==0)&&(f[E]=Mo(T,r)):C<=r&&(n.expiredLanes|=T),d&=~T}if(r=Je,a=Ue,a=fa(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ke===2||Ke===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||_s(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ds(l),da(a)){case 2:case 8:a=ca;break;case 32:a=ms;break;case 268435456:a=ha;break;default:a=ms}return l=gv.bind(null,n),a=fs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ds(l),n.callbackPriority=2,n.callbackNode=null,2}function gv(n,r){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(jc()&&n.callbackNode!==a)return null;var l=Ue;return l=fa(n,n===Je?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Z_(n,l,r),pv(n,Sn()),n.callbackNode!=null&&n.callbackNode===a?gv.bind(null,n):null)}function yv(n,r){if(jc())return null;Z_(n,r,!0)}function aA(){gA(function(){(Ge&6)!==0?fs(ko,sA):mv()})}function om(){return Ys===0&&(Ys=Vo()),Ys}function _v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:va(""+n)}function vv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function oA(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=_v((f[yt]||null).action),E=l.submitter;E&&(r=(r=E[yt]||null)?_v(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new Ea("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var C=E?vv(f,E):new FormData(f);Id(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?vv(f,E):new FormData(f),Id(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var lm=0;lm<Kf.length;lm++){var um=Kf[lm],lA=um.toLowerCase(),uA=um[0].toUpperCase()+um.slice(1);qn(lA,"on"+uA)}qn(Zg,"onAnimationEnd"),qn(Jg,"onAnimationIteration"),qn(ey,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(R1,"onTransitionRun"),qn(I1,"onTransitionStart"),qn(C1,"onTransitionCancel"),qn(ty,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Ev(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,q=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(X){Cc(X)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,q=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(X){Cc(X)}f.currentTarget=null,d=C}}}}function Oe(n,r){var a=r[Bo];a===void 0&&(a=r[Bo]=new Set);var l=n+"__bubble";a.has(l)||(Tv(r,n,2,!1),a.add(l))}function cm(n,r,a){var l=0;r&&(l|=4),Tv(a,n,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function hm(n){if(!n[qc]){n[qc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(cA.has(a)||cm(a,!1,n),cm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[qc]||(r[qc]=!0,cm("selectionchange",!1,r))}}function Tv(n,r,a,l){switch(Gv(r)){case 2:var f=UA;break;case 8:f=LA;break;default:f=Sm}a=f.bind(null,r,a,n),f=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function fm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Oi(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Fu(function(){var q=d,X=Cn(a),J=[];e:{var H=ny.get(n);if(H!==void 0){var G=Ea,be=n;switch(n){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":G=Ra;break;case"focusin":be="focus",G=wa;break;case"focusout":be="blur",G=wa;break;case"beforeblur":case"afterblur":G=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Zu;break;case Zg:case Jg:case ey:G=Aa;break;case ty:G=ec;break;case"scroll":case"scrollend":G=Gu;break;case"wheel":G=Ia;break;case"copy":case"cut":case"paste":G=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Jo;break;case"toggle":case"beforetoggle":G=nc}var ye=(r&4)!==0,Xe=!ye&&(n==="scroll"||n==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var M=q,z;M!==null;){var Z=M;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=Rs(M,L),Z!=null&&ye.push(Nl(M,Z,z))),Xe)break;M=M.return}0<ye.length&&(H=new G(H,be,null,a,X),J.push({event:H,listeners:ye}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&a!==Vi&&(be=a.relatedTarget||a.fromElement)&&(Oi(be)||be[Rn]))break e;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=q,be=be?Oi(be):null,be!==null&&(Xe=u(be),ye=be.tag,be!==Xe||ye!==5&&ye!==27&&ye!==6)&&(be=null)):(G=null,be=q),G!==be)){if(ye=Nn,Z="onMouseLeave",L="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Jo,Z="onPointerLeave",L="onPointerEnter",M="pointer"),Xe=G==null?H:ii(G),z=be==null?H:ii(be),H=new ye(Z,M+"leave",G,a,X),H.target=Xe,H.relatedTarget=z,Z=null,Oi(X)===q&&(ye=new ye(L,M+"enter",be,a,X),ye.target=z,ye.relatedTarget=Xe,Z=ye),Xe=Z,G&&be)t:{for(ye=G,L=be,M=0,z=ye;z;z=Za(z))M++;for(z=0,Z=L;Z;Z=Za(Z))z++;for(;0<M-z;)ye=Za(ye),M--;for(;0<z-M;)L=Za(L),z--;for(;M--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=Za(ye),L=Za(L)}ye=null}else ye=null;G!==null&&bv(J,H,G,ye,!1),be!==null&&Xe!==null&&bv(J,Xe,be,ye,!0)}}e:{if(H=q?ii(q):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var fe=zg;else if(St(H))if(qg)fe=w1;else{fe=T1;var Ne=E1}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ko(q.elementType)&&(fe=zg):fe=b1;if(fe&&(fe=fe(n,q))){zi(J,fe,a,X);break e}Ne&&Ne(n,H,q),n==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&vr(H,"number",H.value)}switch(Ne=q?ii(q):window,n){case"focusin":(St(Ne)||Ne.contentEditable==="true")&&(Ca=Ne,Hf=q,nl=null);break;case"focusout":nl=Hf=Ca=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Xg(J,a,X);break;case"selectionchange":if(S1)break;case"keydown":case"keyup":Xg(J,a,X)}var de;if(ci)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?Y(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(de=Qo()):(ai=X,Er="value"in ai?ai.value:ai.textContent,Me=!0)),Ne=Hc(q,_e),0<Ne.length&&(_e=new Wo(_e,n,null,a,X),J.push({event:_e,listeners:Ne}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?At(n,a):Ve(n,a))&&(_e=Hc(q,"onBeforeInput"),0<_e.length&&(Ne=new Wo("onBeforeInput","beforeinput",null,a,X),J.push({event:Ne,listeners:_e}),Ne.data=de)),oA(J,n,q,a,X)}Ev(J,r)})}function Nl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Hc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Rs(n,a),f!=null&&l.unshift(Nl(n,f,d)),f=Rs(n,r),f!=null&&l.push(Nl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Za(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function bv(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,q=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||q===null||(C=q,f?(q=Rs(a,d),q!=null&&E.unshift(Nl(a,q,C))):f||(q=Rs(a,d),q!=null&&E.push(Nl(a,q,C)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var hA=/\r\n?/g,fA=/\u0000|\uFFFD/g;function wv(n){return(typeof n=="string"?n:""+n).replace(hA,`
`).replace(fA,"")}function Av(n,r){return r=wv(r),wv(n)===r}function Fc(){}function $e(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(n,""+l);break;case"className":ri(n,"class",l);break;case"tabIndex":ri(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(n,a,l);break;case"style":Go(n,l,d);break;case"data":if(r!=="object"){ri(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&$e(n,r,"name",f.name,f,null),$e(n,r,"formEncType",f.formEncType,f,null),$e(n,r,"formMethod",f.formMethod,f,null),$e(n,r,"formTarget",f.formTarget,f,null)):($e(n,r,"encType",f.encType,f,null),$e(n,r,"method",f.method,f,null),$e(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),_r(n,"popover",l);break;case"xlinkActuate":Lt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_r(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vf.get(a)||a,_r(n,a,l))}}function dm(n,r,a,l,f,d){switch(a){case"style":Go(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?In(n,l):(typeof l=="number"||typeof l=="bigint")&&In(n,""+l);break;case"onScroll":l!=null&&Oe("scroll",n);break;case"onScrollEnd":l!=null&&Oe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):_r(n,a,l)}}}function qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(n,r,d,E,a,null)}}f&&$e(n,r,"srcSet",a.srcSet,a,null),l&&$e(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var T=d=E=f=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":C=X;break;case"defaultChecked":q=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:$e(n,r,l,X,a,null)}}ws(n,d,T,C,q,E,f,!1),_a(n);return;case"select":Oe("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:$e(n,r,f,T,a,null)}r=d,a=E,n.multiple=!!l,r!=null?Mi(n,!!l,r,!1):a!=null&&Mi(n,!!l,a,!0);return;case"textarea":Oe("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(n,r,E,T,a,null)}As(n,l,f,d),_a(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(n,r,C,l,a,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(l=0;l<xl.length;l++)Oe(xl[l],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(n,r,q,l,a,null)}return;default:if(Ko(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&dm(n,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(n,r,T,l,a,null))}function dA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,q=null,X=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(G)||$e(n,r,G,null,l,J)}}for(var H in l){var G=l[H];if(J=a[H],l.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":q=G;break;case"defaultChecked":X=G;break;case"value":E=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==J&&$e(n,r,H,G,l,J)}}dn(n,E,T,C,q,X,d,f);return;case"select":G=E=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||$e(n,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&$e(n,r,f,d,l,C)}r=T,a=E,l=G,H!=null?Mi(n,!!a,H,!1):!!l!=!!a&&(r!=null?Mi(n,!!a,r,!0):Mi(n,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(n,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&$e(n,r,E,f,l,d)}Ye(n,H,G);return;case"option":for(var be in a)if(H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:$e(n,r,be,null,l,H)}for(C in l)if(H=l[C],G=a[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$e(n,r,C,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&$e(n,r,ye,null,l,H);for(q in l)if(H=l[q],G=a[q],l.hasOwnProperty(q)&&H!==G&&(H!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:$e(n,r,q,H,l,G)}return;default:if(Ko(r)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&dm(n,r,Xe,void 0,l,H);for(X in l)H=l[X],G=a[X],!l.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||dm(n,r,X,H,l,G);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&$e(n,r,L,null,l,H);for(J in l)H=l[J],G=a[J],!l.hasOwnProperty(J)||H===G||H==null&&G==null||$e(n,r,J,H,l,G)}var mm=null,pm=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function Sv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function gm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ym=null;function mA(){var n=window.event;return n&&n.type==="popstate"?n===ym?!1:(ym=n,!0):(ym=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(n){return Cv.resolve(null).then(n).catch(yA)}:Iv;function yA(n){setTimeout(function(){throw n})}function Vr(n){return n==="head"}function xv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Dl(E.documentElement),a&2&&Dl(E.body),a&4)for(a=E.head,Dl(a),E=a.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[vs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(d),jl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(r)}function _m(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_m(a),yr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function _A(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[vs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function vA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function vm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function EA(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Fn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Em=null;function Nv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Dv(n,r,a){switch(r=Gc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Dl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);yr(n)}var Un=new Map,Ov=new Set;function Kc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var er=ae.d;ae.d={f:TA,r:bA,D:wA,C:AA,L:SA,m:RA,X:CA,S:IA,M:xA};function TA(){var n=er.f(),r=Uc();return n||r}function bA(n){var r=ni(n);r!==null&&r.tag===5&&r.type==="form"?Zy(r):er.r(n)}var Ja=typeof document>"u"?null:document;function kv(n,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var f=_t(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ov.has(f)||(Ov.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function wA(n){er.D(n),kv("dns-prefetch",n,null)}function AA(n,r){er.C(n,r),kv("preconnect",n,r)}function SA(n,r,a){er.L(n,r,a);var l=Ja;if(l&&n&&r){var f='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+_t(a.imageSizes)+'"]')):f+='[href="'+_t(n)+'"]';var d=f;switch(r){case"style":d=eo(n);break;case"script":d=to(n)}Un.has(d)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Un.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ol(d))||r==="script"&&l.querySelector(kl(d))||(r=l.createElement("link"),qt(r,"link",n),dt(r),l.head.appendChild(r)))}}function RA(n,r){er.m(n,r);var a=Ja;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(n)}if(!Un.has(d)&&(n=v({rel:"modulepreload",href:n},r),Un.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),qt(l,"link",n),dt(l),a.head.appendChild(l)}}}function IA(n,r,a){er.S(n,r,a);var l=Ja;if(l&&n){var f=en(l).hoistableStyles,d=eo(n);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Ol(d)))T.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Un.get(d))&&Tm(n,a);var C=E=l.createElement("link");dt(C),qt(C,"link",n),C._p=new Promise(function(q,X){C.onload=q,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Yc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function CA(n,r){er.X(n,r);var a=Ja;if(a&&n){var l=en(a).hoistableScripts,f=to(n),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(n=v({src:n,async:!0},r),(r=Un.get(f))&&bm(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function xA(n,r){er.M(n,r);var a=Ja;if(a&&n){var l=en(a).hoistableScripts,f=to(n),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(n=v({src:n,async:!0,type:"module"},r),(r=Un.get(f))&&bm(n,r),d=a.createElement("script"),dt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Pv(n,r,a,l){var f=(f=we.current)?Kc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=en(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=eo(a.href);var d=en(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Ol(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Un.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(n,a),d||NA(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=en(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function eo(n){return'href="'+_t(n)+'"'}function Ol(n){return'link[rel="stylesheet"]['+n+"]"}function Mv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function NA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),dt(r),n.head.appendChild(r))}function to(n){return'[src="'+_t(n)+'"]'}function kl(n){return"script[async]"+n}function Vv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),qt(l,"style",f),Yc(l,a.precedence,n),r.instance=l;case"stylesheet":f=eo(a.href);var d=n.querySelector(Ol(f));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=Mv(a),(f=Un.get(f))&&Tm(l,f),d=(n.ownerDocument||n).createElement("link"),dt(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),qt(d,"link",l),r.state.loading|=4,Yc(d,a.precedence,n),r.instance=d;case"script":return d=to(a.src),(f=n.querySelector(kl(d)))?(r.instance=f,dt(f),f):(l=a,(f=Un.get(d))&&(l=v({},a),bm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Yc(l,a.precedence,n));return r.instance}function Yc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function bm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Qc=null;function Uv(n,r,a){if(Qc===null){var l=new Map,f=Qc=new Map;f.set(a,l)}else f=Qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[vs]||d[wt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function Lv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function DA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function jv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Pl=null;function OA(){}function kA(n,r,a){if(Pl===null)throw Error(s(475));var l=Pl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=eo(a.href),d=n.querySelector(Ol(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=$c.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=n.ownerDocument||n,a=Mv(a),(f=Un.get(f))&&Tm(a,f),d=d.createElement("link"),dt(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=$c.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function PA(){if(Pl===null)throw Error(s(475));var n=Pl;return n.stylesheets&&n.count===0&&wm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&wm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)wm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xc=null;function wm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xc=new Map,r.forEach(MA,n),Xc=null,$c.call(n))}function MA(n,r){if(!(r.state.loading&4)){var a=Xc.get(n);if(a)var l=a.get(null);else{a=new Map,Xc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=$c.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Ml={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function VA(n,r,a,l,f,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Bv(n,r,a,l,f,d,E,T,C,q,X,J){return n=new VA(n,r,a,E,T,C,q,J),r=1,d===!0&&(r|=24),d=pn(3,null,null,r),n.current=d,d.stateNode=n,r=rd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ld(d),n}function zv(n){return n?(n=Oa,n):Oa}function qv(n,r,a,l,f,d){f=zv(f),l.context===null?l.context=f:l.pendingContext=f,l=wr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ar(n,l,r),a!==null&&(En(a,n,r),hl(a,n,r))}function Hv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Am(n,r){Hv(n,r),(n=n.alternate)&&Hv(n,r)}function Fv(n){if(n.tag===13){var r=Da(n,67108864);r!==null&&En(r,n,67108864),Am(n,67108864)}}var Wc=!0;function UA(n,r,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=2,Sm(n,r,a,l)}finally{ae.p=d,$.T=f}}function LA(n,r,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=8,Sm(n,r,a,l)}finally{ae.p=d,$.T=f}}function Sm(n,r,a,l){if(Wc){var f=Rm(l);if(f===null)fm(n,r,l,Zc,a),Kv(n,l);else if(BA(f,n,r,a,l))l.stopPropagation();else if(Kv(n,l),r&4&&-1<jA.indexOf(n)){for(;f!==null;){var d=ni(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=jn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-Kt(E);T.entanglements[1]|=C,E&=~C}gi(d),(Ge&6)===0&&(Mc=Sn()+500,Cl(0))}}break;case 13:T=Da(d,2),T!==null&&En(T,d,2),Uc(),Am(d,2)}if(d=Rm(l),d===null&&fm(n,r,l,Zc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else fm(n,r,l,null,a)}}function Rm(n){return n=Cn(n),Im(n)}var Zc=null;function Im(n){if(Zc=null,n=Oi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Zc=n,null}function Gv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nf()){case ko:return 2;case ca:return 8;case ms:case Df:return 32;case ha:return 268435456;default:return 32}default:return 32}}var Cm=!1,Ur=null,Lr=null,jr=null,Vl=new Map,Ul=new Map,Br=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(n,r){switch(n){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function Ll(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ni(r),r!==null&&Fv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function BA(n,r,a,l,f){switch(r){case"focusin":return Ur=Ll(Ur,n,r,a,l,f),!0;case"dragenter":return Lr=Ll(Lr,n,r,a,l,f),!0;case"mouseover":return jr=Ll(jr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,Ll(Ul.get(d)||null,n,r,a,l,f)),!0}return!1}function Yv(n){var r=Oi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Uu(n.priority,function(){if(a.tag===13){var l=vn();l=mr(l);var f=Da(a,l);f!==null&&En(f,a,l),Am(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Rm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Vi=l,a.target.dispatchEvent(l),Vi=null}else return r=ni(a),r!==null&&Fv(r),n.blockedOn=a,!1;r.shift()}return!0}function Qv(n,r,a){Jc(n)&&a.delete(r)}function zA(){Cm=!1,Ur!==null&&Jc(Ur)&&(Ur=null),Lr!==null&&Jc(Lr)&&(Lr=null),jr!==null&&Jc(jr)&&(jr=null),Vl.forEach(Qv),Ul.forEach(Qv)}function eh(n,r){n.blockedOn===r&&(n.blockedOn=null,Cm||(Cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zA)))}var th=null;function $v(n){th!==n&&(th=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===n&&(th=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Im(l||a)===null)continue;break}var d=ni(a);d!==null&&(n.splice(r,3),r-=3,Id(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jl(n){function r(C){return eh(C,n)}Ur!==null&&eh(Ur,n),Lr!==null&&eh(Lr,n),jr!==null&&eh(jr,n),Vl.forEach(r),Ul.forEach(r);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)Yv(a),a.blockedOn===null&&Br.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[yt]||null;if(typeof d=="function")E||$v(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[yt]||null)T=E.formAction;else if(Im(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),$v(a)}}}function xm(n){this._internalRoot=n}nh.prototype.render=xm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=vn();qv(a,l,n,r,null,null)},nh.prototype.unmount=xm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;qv(n.current,2,null,n,null,null),Uc(),r[Rn]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var r=pr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Br.length&&r!==0&&r<Br[a].priority;a++);Br.splice(a,0,n),a===0&&Yv(n)}};var Xv=e.version;if(Xv!=="19.1.0")throw Error(s(527,Xv,"19.1.0"));ae.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var qA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ct=ih.inject(qA),Fe=ih}catch{}}return zl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=f_,d=d_,E=m_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Bv(n,1,!1,null,null,a,l,f,d,E,T,null),n[Rn]=r.current,hm(n),new xm(r)},zl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=f_,E=d_,T=m_,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Bv(n,1,!0,r,a??null,l,f,d,E,T,C,q),r.context=zv(null),a=r.current,l=vn(),l=mr(l),f=wr(l),f.callback=null,Ar(a,f,l),a=l,r.current.lanes=a,Di(r,a),gi(r),n[Rn]=r.current,hm(n),new nh(r)},zl.version="19.1.0",zl}var a0;function ZA(){if(a0)return Om.exports;a0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Om.exports=WA(),Om.exports}var JA=ZA();const eS=JE(JA);var ql={},o0;function tS(){if(o0)return ql;o0=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=h,ql.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,x){const D=new u,K=w.length;if(K<2)return D;const U=(x==null?void 0:x.decode)||v;let Q=0;do{const ie=w.indexOf("=",Q);if(ie===-1)break;const W=w.indexOf(";",Q),le=W===-1?K:W;if(ie>le){Q=w.lastIndexOf(";",ie-1)+1;continue}const he=m(w,Q,ie),ve=p(w,ie,he),k=w.slice(he,ve);if(D[k]===void 0){let S=m(w,ie+1,le),I=p(w,le,S);const P=U(w.slice(S,I));D[k]=P}Q=le+1}while(Q<K);return D}function m(w,x,D){do{const K=w.charCodeAt(x);if(K!==32&&K!==9)return x}while(++x<D);return D}function p(w,x,D){for(;x>D;){const K=w.charCodeAt(--x);if(K!==32&&K!==9)return x+1}return D}function g(w,x,D){const K=(D==null?void 0:D.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const U=K(x);if(!e.test(U))throw new TypeError(`argument val is invalid: ${x}`);let Q=w+"="+U;if(!D)return Q;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);Q+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);Q+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);Q+="; Path="+D.path}if(D.expires){if(!b(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);Q+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(Q+="; HttpOnly"),D.secure&&(Q+="; Secure"),D.partitioned&&(Q+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return Q}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return o.call(w)==="[object Date]"}return ql}tS();var l0="popstate";function nS(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Zm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:ru(o)}return rS(e,t,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iS(){return Math.random().toString(36).substring(2,10)}function u0(i,e){return{usr:i.state,key:i.key,idx:e}}function Zm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:t,key:e&&e.key||s||iS()}}function ru({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function bo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function rS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function b(){m="POP";let U=v(),Q=U==null?null:U-g;g=U,p&&p({action:m,location:K.location,delta:Q})}function w(U,Q){m="PUSH";let ie=Zm(K.location,U,Q);g=v()+1;let W=u0(ie,g),le=K.createHref(ie);try{h.pushState(W,"",le)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(le)}u&&p&&p({action:m,location:K.location,delta:1})}function x(U,Q){m="REPLACE";let ie=Zm(K.location,U,Q);g=v();let W=u0(ie,g),le=K.createHref(ie);h.replaceState(W,"",le),u&&p&&p({action:m,location:K.location,delta:0})}function D(U){return sS(U)}let K={get action(){return m},get location(){return i(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(l0,b),p=U,()=>{o.removeEventListener(l0,b),p=null}},createHref(U){return e(o,U)},createURL:D,encodeLocation(U){let Q=D(U);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:w,replace:x,go(U){return h.go(U)}};return K}function sS(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ru(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function eT(i,e,t="/"){return aS(i,e,t,!1)}function aS(i,e,t,s){let o=typeof e=="string"?bo(e):e,u=or(o.pathname||"/",t);if(u==null)return null;let h=tT(i);oS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=_S(u);m=gS(h[p],g,s)}return m}function tT(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ir([s,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),tT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:mS(g,u.index),routesMeta:v})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of nT(u.path))o(u,h,p)}),e}function nT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=nT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function oS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:pS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var lS=/^:[\w-]+$/,uS=3,cS=2,hS=1,fS=10,dS=-2,c0=i=>i==="*";function mS(i,e){let t=i.split("/"),s=t.length;return t.some(c0)&&(s+=dS),e&&(s+=cS),t.filter(o=>!c0(o)).reduce((o,u)=>o+(lS.test(u)?uS:u===""?hS:fS),s)}function pS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function gS(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:ir([u,b.pathname]),pathnameBase:bS(ir([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=ir([u,b.pathnameBase]))}return h}function Sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=yS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let D=m[w]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const x=m[w];return b&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function yS(i,e=!1,t=!0){Xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function _S(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function or(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function vS(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?bo(i):i;return{pathname:t?t.startsWith("/")?t:ES(t,e):e,search:wS(s),hash:AS(o)}}function ES(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TS(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iT(i){let e=TS(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function rT(i,e,t,s=!1){let o;typeof i=="string"?o=bo(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=vS(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var ir=i=>i.join("/").replace(/\/\/+/g,"/"),bS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),wS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,AS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function SS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var sT=["POST","PUT","PATCH","DELETE"];new Set(sT);var RS=["GET",...sT];new Set(RS);var wo=F.createContext(null);wo.displayName="DataRouter";var Wh=F.createContext(null);Wh.displayName="DataRouterState";var aT=F.createContext({isTransitioning:!1});aT.displayName="ViewTransition";var IS=F.createContext(new Map);IS.displayName="Fetchers";var CS=F.createContext(null);CS.displayName="Await";var Si=F.createContext(null);Si.displayName="Navigation";var pu=F.createContext(null);pu.displayName="Location";var Ri=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ri.displayName="Route";var Cp=F.createContext(null);Cp.displayName="RouteError";function xS(i,{relative:e}={}){at(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(Si),{hash:o,pathname:u,search:h}=yu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:ir([t,u])),s.createHref({pathname:m,search:h,hash:o})}function gu(){return F.useContext(pu)!=null}function os(){return at(gu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(pu).location}var oT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(i){F.useContext(Si).static||F.useLayoutEffect(i)}function Ln(){let{isDataRoute:i}=F.useContext(Ri);return i?qS():NS()}function NS(){at(gu(),"useNavigate() may be used only in the context of a <Router> component.");let i=F.useContext(wo),{basename:e,navigator:t}=F.useContext(Si),{matches:s}=F.useContext(Ri),{pathname:o}=os(),u=JSON.stringify(iT(s)),h=F.useRef(!1);return lT(()=>{h.current=!0}),F.useCallback((p,g={})=>{if(Xn(h.current,oT),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=rT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ir([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}F.createContext(null);function uT(){let{matches:i}=F.useContext(Ri),e=i[i.length-1];return e?e.params:{}}function yu(i,{relative:e}={}){let{matches:t}=F.useContext(Ri),{pathname:s}=os(),o=JSON.stringify(iT(t));return F.useMemo(()=>rT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function DS(i,e){return cT(i,e)}function cT(i,e,t,s){var ie;at(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(Si),{matches:h}=F.useContext(Ri),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let W=b&&b.path||"";hT(g,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=os(),x;if(e){let W=typeof e=="string"?bo(e):e;at(v==="/"||((ie=W.pathname)==null?void 0:ie.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),x=W}else x=w;let D=x.pathname||"/",K=D;if(v!=="/"){let W=v.replace(/^\//,"").split("/");K="/"+D.replace(/^\//,"").split("/").slice(W.length).join("/")}let U=!u&&t&&t.matches&&t.matches.length>0?t.matches:eT(i,{pathname:K});Xn(b||U!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Xn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=VS(U&&U.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:ir([v,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:ir([v,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,t,s);return e&&Q?F.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Q):Q}function OS(){let i=zS(),e=SS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,h)}var kS=F.createElement(OS,null),PS=class extends F.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?F.createElement(Ri.Provider,{value:this.props.routeContext},F.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MS({routeContext:i,match:e,children:t}){let s=F.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ri.Provider,{value:i},t)}function VS(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:b}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let b,w=!1,x=null,D=null;t&&(b=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||kS,h&&(m<0&&v===0?(hT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,D=null):m===v&&(w=!0,D=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,v+1)),U=()=>{let Q;return b?Q=x:w?Q=D:g.route.Component?Q=F.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,F.createElement(MS,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?F.createElement(PS,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:U(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):U()},null)}function xp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(i){let e=F.useContext(wo);return at(e,xp(i)),e}function LS(i){let e=F.useContext(Wh);return at(e,xp(i)),e}function jS(i){let e=F.useContext(Ri);return at(e,xp(i)),e}function Np(i){let e=jS(i),t=e.matches[e.matches.length-1];return at(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function BS(){return Np("useRouteId")}function zS(){var s;let i=F.useContext(Cp),e=LS("useRouteError"),t=Np("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function qS(){let{router:i}=US("useNavigate"),e=Np("useNavigate"),t=F.useRef(!1);return lT(()=>{t.current=!0}),F.useCallback(async(o,u={})=>{Xn(t.current,oT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var h0={};function hT(i,e,t){!e&&!h0[i]&&(h0[i]=!0,Xn(!1,t))}F.memo(HS);function HS({routes:i,future:e,state:t}){return cT(i,void 0,t,e)}function Gn(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=bo(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:w="default"}=t,x=F.useMemo(()=>{let D=or(p,h);return D==null?null:{location:{pathname:D,search:g,hash:v,state:b,key:w},navigationType:s}},[h,p,g,v,b,w,s]);return Xn(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:F.createElement(Si.Provider,{value:m},F.createElement(pu.Provider,{children:e,value:x}))}function GS({children:i,location:e}){return DS(Jm(i),e)}function Jm(i,e=[]){let t=[];return F.Children.forEach(i,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){t.push.apply(t,Jm(s.props.children,u));return}at(s.type===Gn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Jm(s.props.children,u)),t.push(h)}),t}var dh="get",mh="application/x-www-form-urlencoded";function Zh(i){return i!=null&&typeof i.tagName=="string"}function KS(i){return Zh(i)&&i.tagName.toLowerCase()==="button"}function YS(i){return Zh(i)&&i.tagName.toLowerCase()==="form"}function QS(i){return Zh(i)&&i.tagName.toLowerCase()==="input"}function $S(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function XS(i,e){return i.button===0&&(!e||e==="_self")&&!$S(i)}function ep(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let s=i[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function WS(i,e){let t=ep(i);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var rh=null;function ZS(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var JS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(i){return i!=null&&!JS.has(i)?(Xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):i}function eR(i,e){let t,s,o,u,h;if(YS(i)){let m=i.getAttribute("action");s=m?or(m,e):null,t=i.getAttribute("method")||dh,o=Um(i.getAttribute("enctype"))||mh,u=new FormData(i)}else if(KS(i)||QS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?or(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Um(i.getAttribute("formenctype"))||Um(m.getAttribute("enctype"))||mh,u=new FormData(m,i),!ZS()){let{name:g,type:v,value:b}=i;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(Zh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dh,s=null,o=mh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Dp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function tR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await tR(u,t);return h.links?h.links():[]}return[]}));return oR(s.flat(1).filter(nR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function f0(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function rR(i,e,{includeHydrateFallback:t}={}){return sR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sR(i){return[...new Set(i)]}function aR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function oR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(aR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lR=new Set([100,101,204,205]);function uR(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&or(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function fT(){let i=F.useContext(wo);return Dp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function cR(){let i=F.useContext(Wh);return Dp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Op=F.createContext(void 0);Op.displayName="FrameworkContext";function dT(){let i=F.useContext(Op);return Dp(i,"You must render this element inside a <HydratedRouter> element"),i}function hR(i,e){let t=F.useContext(Op),[s,o]=F.useState(!1),[u,h]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,w=F.useRef(null);F.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let K=Q=>{Q.forEach(ie=>{h(ie.isIntersecting)})},U=new IntersectionObserver(K,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[i]),F.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let x=()=>{o(!0)},D=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Hl(m,x),onBlur:Hl(p,D),onMouseEnter:Hl(g,x),onMouseLeave:Hl(v,D),onTouchStart:Hl(b,x)}]:[!1,w,{}]}function Hl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function fR({page:i,...e}){let{router:t}=fT(),s=F.useMemo(()=>eT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?F.createElement(mR,{page:i,matches:s,...e}):null}function dR(i){let{manifest:e,routeModules:t}=dT(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return iR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function mR({page:i,matches:e,...t}){let s=os(),{manifest:o,routeModules:u}=dT(),{basename:h}=fT(),{loaderData:m,matches:p}=cR(),g=F.useMemo(()=>f0(i,e,p,o,s,"data"),[i,e,p,o,s]),v=F.useMemo(()=>f0(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=F.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,K=!1;if(e.forEach(Q=>{var W;let ie=o.routes[Q.route.id];!ie||!ie.hasLoader||(!g.some(le=>le.route.id===Q.route.id)&&Q.route.id in m&&((W=u[Q.route.id])!=null&&W.shouldRevalidate)||ie.hasClientLoader?K=!0:D.add(Q.route.id))}),D.size===0)return[];let U=uR(i,h);return K&&D.size>0&&U.searchParams.set("_routes",e.filter(Q=>D.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[U.pathname+U.search]},[h,m,s,o,g,e,i,u]),w=F.useMemo(()=>rR(v,o),[v,o]),x=dR(v);return F.createElement(F.Fragment,null,b.map(D=>F.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),w.map(D=>F.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),x.map(({key:D,link:K})=>F.createElement("link",{key:D,...K})))}function pR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mT&&(window.__reactRouterVersion="7.6.0")}catch{}function gR({basename:i,children:e,window:t}){let s=F.useRef();s.current==null&&(s.current=nS({window:t,v5Compat:!0}));let o=s.current,[u,h]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>h(p))},[h]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(FS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var pT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jh=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,...w},x){let{basename:D}=F.useContext(Si),K=typeof g=="string"&&pT.test(g),U,Q=!1;if(typeof g=="string"&&K&&(U=g,mT))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=or(P.pathname,D);P.origin===I.origin&&V!=null?g=V+P.search+P.hash:Q=!0}catch{Xn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=xS(g,{relative:o}),[W,le,he]=hR(s,w),ve=ER(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function k(I){e&&e(I),I.defaultPrevented||ve(I)}let S=F.createElement("a",{...w,...he,href:U||ie,onClick:Q||u?e:k,ref:pR(x,le),target:p,"data-discover":!K&&t==="render"?"true":void 0});return W&&!K?F.createElement(F.Fragment,null,S,F.createElement(fR,{page:ie})):S});Jh.displayName="Link";var yR=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let b=yu(h,{relative:g.relative}),w=os(),x=F.useContext(Wh),{navigator:D,basename:K}=F.useContext(Si),U=x!=null&&RR(b)&&m===!0,Q=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,ie=w.pathname,W=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),W=W?W.toLowerCase():null,Q=Q.toLowerCase()),W&&K&&(W=or(W,K)||W);const le=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let he=ie===Q||!o&&ie.startsWith(Q)&&ie.charAt(le)==="/",ve=W!=null&&(W===Q||!o&&W.startsWith(Q)&&W.charAt(Q.length)==="/"),k={isActive:he,isPending:ve,isTransitioning:U},S=he?e:void 0,I;typeof s=="function"?I=s(k):I=[s,he?"active":null,ve?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(k):u;return F.createElement(Jh,{...g,"aria-current":S,className:I,ref:v,style:P,to:h,viewTransition:m},typeof p=="function"?p(k):p)});yR.displayName="NavLink";var _R=F.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...w},x)=>{let D=AR(),K=SR(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&pT.test(m),ie=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let le=W.nativeEvent.submitter,he=(le==null?void 0:le.getAttribute("formmethod"))||h;D(le||W.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return F.createElement("form",{ref:x,method:U,action:K,onSubmit:s?p:ie,...w,"data-discover":!Q&&i==="render"?"true":void 0})});_R.displayName="Form";function vR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gT(i){let e=F.useContext(wo);return at(e,vR(i)),e}function ER(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Ln(),p=os(),g=yu(i,{relative:u});return F.useCallback(v=>{if(XS(v,e)){v.preventDefault();let b=t!==void 0?t:ru(p)===ru(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}function TR(i){Xn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=F.useRef(ep(i)),t=F.useRef(!1),s=os(),o=F.useMemo(()=>WS(s.search,t.current?null:e.current),[s.search]),u=Ln(),h=F.useCallback((m,p)=>{const g=ep(typeof m=="function"?m(o):m);t.current=!0,u("?"+g,p)},[u,o]);return[o,h]}var bR=0,wR=()=>`__${String(++bR)}__`;function AR(){let{router:i}=gT("useSubmit"),{basename:e}=F.useContext(Si),t=BS();return F.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=eR(s,e);if(o.navigate===!1){let v=o.fetcherKey||wR();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function SR(i,{relative:e}={}){let{basename:t}=F.useContext(Si),s=F.useContext(Ri);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(i||".",{relative:e})},h=os();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ir([t,u.pathname])),ru(u)}function RR(i,e={}){let t=F.useContext(aT);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gT("useViewTransitionState"),o=yu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=or(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=or(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}[...lR];const IR=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},CR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,x=g&63;p||(x=64,h||(w=64)),s.push(t[v],t[b],t[w],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(yT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):CR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new xR;const w=u<<2|m>>4;if(s.push(w),g!==64){const x=m<<4&240|g>>2;if(s.push(x),b!==64){const D=g<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NR=function(i){const e=yT(i);return _T.encodeByteArray(e,!0)},Rh=function(i){return NR(i).replace(/\./g,"")},vT=function(i){try{return _T.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=()=>DR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof d0>"u")return;const i=d0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},PR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&vT(i[1]);return e&&JSON.parse(e)},ef=()=>{try{return IR()||OR()||kR()||PR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ET=i=>{var e,t;return(t=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},TT=i=>{const e=ET(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},bT=()=>{var i;return(i=ef())===null||i===void 0?void 0:i.config},wT=i=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(i){return i.endsWith(".cloudworkstations.dev")}async function kp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Rh(JSON.stringify(t)),Rh(JSON.stringify(h)),""].join(".")}const Wl={};function VR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?i.emulator.push(e):i.prod.push(e);return i}function UR(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let m0=!1;function Pp(i,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||Wl[i]===e||Wl[i]||m0)return;Wl[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=VR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{m0=!0,h()},w}function v(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=UR(s),x=t("text"),D=document.getElementById(x)||document.createElement("span"),K=t("learnmore"),U=document.getElementById(K)||document.createElement("a"),Q=t("preprendIcon"),ie=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;m(W),v(U,K);const le=g();p(ie,Q),W.append(ie,D,U,le),document.body.appendChild(W)}u?(D.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function jR(){var i;const e=(i=ef())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HR(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function FR(){return!jR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function KR(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="FirebaseError";class Ii extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=YR,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?QR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ii(o,m,s)}}function QR(i,e){return i.replace($R,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $R=/\{\$([^}]+)}/g;function XR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Zs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(p0(u)&&p0(h)){if(!Zs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function p0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function WR(i,e){const t=new ZR(i,e);return t.subscribe.bind(t)}class ZR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");JR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Lm),o.error===void 0&&(o.error=Lm),o.complete===void 0&&(o.complete=Lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(i){return i&&i._delegate?i._delegate:i}class Jr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new MR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nI(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tI(i){return i===Qs?void 0:i}function nI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new eI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const rI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},sI=ke.INFO,aI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},oI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=aI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mp{constructor(e){this.name=e,this._logLevel=sI,this._logHandler=oI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const lI=(i,e)=>e.some(t=>i instanceof t);let g0,y0;function uI(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cI(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,tp=new WeakMap,RT=new WeakMap,jm=new WeakMap,Vp=new WeakMap;function hI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t($r(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ST.set(t,i)}).catch(()=>{}),Vp.set(e,i),e}function fI(i){if(tp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});tp.set(i,e)}let np={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return tp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||RT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $r(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function dI(i){np=i(np)}function mI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Bm(this),e,...t);return RT.set(s,e.sort?e.sort():[e]),$r(s)}:cI().includes(i)?function(...e){return i.apply(Bm(this),e),$r(ST.get(this))}:function(...e){return $r(i.apply(Bm(this),e))}}function pI(i){return typeof i=="function"?mI(i):(i instanceof IDBTransaction&&fI(i),lI(i,uI())?new Proxy(i,np):i)}function $r(i){if(i instanceof IDBRequest)return hI(i);if(jm.has(i))return jm.get(i);const e=pI(i);return e!==i&&(jm.set(i,e),Vp.set(e,i)),e}const Bm=i=>Vp.get(i);function gI(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=$r(h);return s&&h.addEventListener("upgradeneeded",p=>{s($r(h.result),p.oldVersion,p.newVersion,$r(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const yI=["get","getKey","getAll","getAllKeys","count"],_I=["put","add","delete","clear"],zm=new Map;function _0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=_I.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yI.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return zm.set(e,u),u}dI(i=>({...i,get:(e,t,s)=>_0(e,t)||i.get(e,t,s),has:(e,t)=>!!_0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(EI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function EI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",v0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Mp("@firebase/app"),TI="@firebase/app-compat",bI="@firebase/analytics-compat",wI="@firebase/analytics",AI="@firebase/app-check-compat",SI="@firebase/app-check",RI="@firebase/auth",II="@firebase/auth-compat",CI="@firebase/database",xI="@firebase/data-connect",NI="@firebase/database-compat",DI="@firebase/functions",OI="@firebase/functions-compat",kI="@firebase/installations",PI="@firebase/installations-compat",MI="@firebase/messaging",VI="@firebase/messaging-compat",UI="@firebase/performance",LI="@firebase/performance-compat",jI="@firebase/remote-config",BI="@firebase/remote-config-compat",zI="@firebase/storage",qI="@firebase/storage-compat",HI="@firebase/firestore",FI="@firebase/ai",GI="@firebase/firestore-compat",KI="firebase",YI="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",QI={[ip]:"fire-core",[TI]:"fire-core-compat",[wI]:"fire-analytics",[bI]:"fire-analytics-compat",[SI]:"fire-app-check",[AI]:"fire-app-check-compat",[RI]:"fire-auth",[II]:"fire-auth-compat",[CI]:"fire-rtdb",[xI]:"fire-data-connect",[NI]:"fire-rtdb-compat",[DI]:"fire-fn",[OI]:"fire-fn-compat",[kI]:"fire-iid",[PI]:"fire-iid-compat",[MI]:"fire-fcm",[VI]:"fire-fcm-compat",[UI]:"fire-perf",[LI]:"fire-perf-compat",[jI]:"fire-rc",[BI]:"fire-rc-compat",[zI]:"fire-gcs",[qI]:"fire-gcs-compat",[HI]:"fire-fst",[GI]:"fire-fst-compat",[FI]:"fire-vertex","fire-js":"fire-js",[KI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,$I=new Map,sp=new Map;function E0(i,e){try{i.container.addComponent(e)}catch(t){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Js(i){const e=i.name;if(sp.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,i);for(const t of Ih.values())E0(t,i);for(const t of $I.values())E0(t,i);return!0}function tf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Tn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new _u("app","Firebase",XI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=YI;function IT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:rp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Xr.create("bad-app-name",{appName:String(o)});if(t||(t=bT()),!t)throw Xr.create("no-options");const u=Ih.get(o);if(u){if(Zs(t,u.options)&&Zs(s,u.config))return u;throw Xr.create("duplicate-app",{appName:o})}const h=new iI(o);for(const p of sp.values())h.addComponent(p);const m=new WI(t,s,h);return Ih.set(o,m),m}function Up(i=rp){const e=Ih.get(i);if(!e&&i===rp&&bT())return IT();if(!e)throw Xr.create("no-app",{appName:i});return e}function vi(i,e,t){var s;let o=(s=QI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(m.join(" "));return}Js(new Jr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="firebase-heartbeat-database",JI=1,su="firebase-heartbeat-store";let qm=null;function CT(){return qm||(qm=gI(ZI,JI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(i=>{throw Xr.create("idb-open",{originalErrorMessage:i.message})})),qm}async function eC(i){try{const t=(await CT()).transaction(su),s=await t.objectStore(su).get(xT(i));return await t.done,s}catch(e){if(e instanceof Ii)lr.warn(e.message);else{const t=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(t.message)}}}async function T0(i,e){try{const s=(await CT()).transaction(su,"readwrite");await s.objectStore(su).put(e,xT(i)),await s.done}catch(t){if(t instanceof Ii)lr.warn(t.message);else{const s=Xr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});lr.warn(s.message)}}}function xT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1024,nC=30;class iC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=b0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>nC){const h=aC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=b0(),{heartbeatsToSend:s,unsentEntries:o}=rC(this._heartbeatsCache.heartbeats),u=Rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return lr.warn(t),""}}}function b0(){return new Date().toISOString().substring(0,10)}function rC(i,e=tC){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),w0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),w0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class sC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?KR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return T0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return T0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function w0(i){return Rh(JSON.stringify({version:2,heartbeats:i})).length}function aC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){Js(new Jr("platform-logger",e=>new vI(e),"PRIVATE")),Js(new Jr("heartbeat",e=>new iC(e),"PRIVATE")),vi(ip,v0,i),vi(ip,v0,"esm2017"),vi("fire-js","")}oC("");function Lp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=NT,DT=new _u("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Mp("@firebase/auth");function uC(i,...e){Ch.logLevel<=ke.WARN&&Ch.warn(`Auth (${oa}): ${i}`,...e)}function ph(i,...e){Ch.logLevel<=ke.ERROR&&Ch.error(`Auth (${oa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(i,...e){throw jp(i,...e)}function Ei(i,...e){return jp(i,...e)}function OT(i,e,t){const s=Object.assign(Object.assign({},lC()),{[e]:t});return new _u("auth","Firebase",s).create(e,{appName:i.name})}function rr(i){return OT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return DT.create(i,...e)}function Ee(i,e,...t){if(!i)throw jp(e,...t)}function tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ph(e),new Error(e)}function ur(i,e){i||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function cC(){return A0()==="http:"||A0()==="https:"}function A0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||zR()||"connection"in navigator)?navigator.onLine:!0}function fC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ur(t>e,"Short delay should be less than long delay!"),this.isMobile=LR()||qR()}get(){return hC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i,e){ur(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pC=new Eu(3e4,6e4);function Ci(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Jn(i,e,t,s,o={}){return PT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=vu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return BR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&aa(i.emulatorConfig.host)&&(g.credentials="include"),kT.fetch()(await MT(i,i.config.apiHost,t,m),g)})}async function PT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},dC),e);try{const o=new yC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw OT(i,v,g);Wn(i,v)}}catch(o){if(o instanceof Ii)throw o;Wn(i,"network-request-failed",{message:String(o)})}}async function Tu(i,e,t,s,o={}){const u=await Jn(i,e,t,s,o);return"mfaPendingCredential"in u&&Wn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function MT(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Bp(i.config,o):`${i.config.apiScheme}://${o}`;return mC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function gC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),pC.get())})}}function sh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ei(i,e,s);return o.customData._tokenResponse=t,o}function S0(i){return i!==void 0&&i.enterprise!==void 0}class _C{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vC(i,e){return Jn(i,"GET","/v2/recaptchaConfig",Ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(i,e){return Jn(i,"POST","/v1/accounts:delete",e)}async function xh(i,e){return Jn(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TC(i,e=!1){const t=et(i),s=await t.getIdToken(e),o=zp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(Hm(o.auth_time)),issuedAtTime:Zl(Hm(o.iat)),expirationTime:Zl(Hm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Hm(i){return Number(i)*1e3}function zp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=vT(t);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function R0(i){const e=zp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ii&&bC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function bC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await mo(i,xh(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?VT(u.providerUserInfo):[],m=SC(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new op(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,b)}async function AC(i){const e=et(i);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function VT(i){return i.map(e=>{var{providerId:t}=e,s=Lp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(i,e){const t=await PT(i,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await MT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",kT.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IC(i,e){return Jn(i,"POST","/v2/accounts:revokeToken",Ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=R0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await RC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new uo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new op(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await mo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TC(this,e)}reload(){return AC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await mo(this,EC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,v;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,D=(h=t.photoURL)!==null&&h!==void 0?h:void 0,K=(m=t.tenantId)!==null&&m!==void 0?m:void 0,U=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ie=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:le,isAnonymous:he,providerData:ve,stsTokenManager:k}=t;Ee(W&&k,e,"internal-error");const S=uo.fromJSON(this.name,k);Ee(typeof W=="string",e,"internal-error"),qr(b,e.name),qr(w,e.name),Ee(typeof le=="boolean",e,"internal-error"),Ee(typeof he=="boolean",e,"internal-error"),qr(x,e.name),qr(D,e.name),qr(K,e.name),qr(U,e.name),qr(Q,e.name),qr(ie,e.name);const I=new Kn({uid:W,auth:e,email:w,emailVerified:le,displayName:b,isAnonymous:he,photoURL:D,phoneNumber:x,tenantId:K,stsTokenManager:S,createdAt:Q,lastLoginAt:ie});return ve&&Array.isArray(ve)&&(I.providerData=ve.map(P=>Object.assign({},P))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new uo;o.updateFromServerResponse(t);const u=new Kn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new uo;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new op(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=new Map;function nr(i){ur(i instanceof Function,"Expected a class definition");let e=I0.get(i);return e?(ur(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,I0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}UT.type="NONE";const C0=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(i,e,t){return`firebase:${i}:${e}:${t}`}class co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xh(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new co(nr(C0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||nr(C0);const h=gh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(h);if(v){let b;if(typeof v=="string"){const w=await xh(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Kn._fromGetAccountInfoResponse(e,w,v)}else b=Kn._fromJSON(e,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HT(e))return"Blackberry";if(FT(e))return"Webos";if(jT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function LT(i=Jt()){return/firefox\//i.test(i)}function jT(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(i=Jt()){return/crios\//i.test(i)}function zT(i=Jt()){return/iemobile/i.test(i)}function qT(i=Jt()){return/android/i.test(i)}function HT(i=Jt()){return/blackberry/i.test(i)}function FT(i=Jt()){return/webos/i.test(i)}function qp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function CC(i=Jt()){var e;return qp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xC(){return HR()&&document.documentMode===10}function GT(i=Jt()){return qp(i)||qT(i)||FT(i)||HT(i)||/windows phone/i.test(i)||zT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(i,e=[]){let t;switch(i){case"Browser":t=x0(Jt());break;case"Worker":t=`${x0(Jt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(i,e={}){return Jn(i,"GET","/v2/passwordPolicy",Ci(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=6;class kC{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:OC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nr(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(rr(this));const t=e?et(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DC(this),t=new kC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await IC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&uC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ls(i){return et(i)}class N0{constructor(e){this.auth=e,this.observer=null,this.addObserver=WR(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MC(i){nf=i}function YT(i){return nf.loadJS(i)}function VC(){return nf.recaptchaEnterpriseScript}function UC(){return nf.gapiScript}function LC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class jC{constructor(){this.enterprise=new BC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zC="recaptcha-enterprise",QT="NO_RECAPTCHA";class qC{constructor(e){this.type=zC,this.auth=ls(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{vC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new _C(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;S0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&S0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VC();p.length!==0&&(p+=m),YT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function D0(i,e,t,s=!1,o=!1){const u=new qC(i);let h;if(o)h=QT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dh(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await D0(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await D0(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i,e){const t=tf(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Zs(u,e??{}))return o;Wn(o,"already-initialized")}return t.initialize({options:e})}function FC(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(nr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function GC(i,e,t){const s=ls(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$T(e),{host:h,port:m}=KC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Zs(g,s.config.emulator)&&Zs(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,aa(h)?(kp(`${u}//${h}${p}`),Pp("Auth",!0)):YC()}function $T(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function KC(i){const e=$T(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:O0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:O0(h)}}}function O0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function YC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,t){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function QC(i,e){return Jn(i,"POST","/v1/accounts:signUp",e)}async function $C(i,e){return Jn(i,"POST","/v1/accounts:update",Ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(i,e){return Tu(i,"POST","/v1/accounts:signInWithPassword",Ci(i,e))}async function XT(i,e){return Jn(i,"POST","/v1/accounts:sendOobCode",Ci(i,e))}async function WC(i,e){return XT(i,e)}async function ZC(i,e){return XT(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",Ci(i,e))}async function e2(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",Ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Hp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new au(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new au(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dh(e,t,"signInWithPassword",XC);case"emailLink":return JC(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dh(e,s,"signUpPassword",QC);case"emailLink":return e2(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i,e){return Tu(i,"POST","/v1/accounts:signInWithIdp",Ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="http://localhost";class ea extends Hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Lp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ea(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return ho(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ho(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ho(e,t)}buildRequest(){const e={requestUri:t2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i2(i){const e=Gl(Kl(i)).link,t=e?Gl(Kl(e)).deep_link_id:null,s=Gl(Kl(i)).deep_link_id;return(s?Gl(Kl(s)).link:null)||s||t||e||i}class Fp{constructor(e){var t,s,o,u,h,m;const p=Gl(Kl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,b=n2((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=i2(e);try{return new Fp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,t){return au._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Fp.parseLink(t);return Ee(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends bu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Fr.credential(t,s)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends bu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends bu{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Kr.credential(t,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(i,e){return Tu(i,"POST","/v1/accounts:signUp",Ci(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),h=k0(s);return new ta({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=k0(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function k0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Ii{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Oh(e,t,s,o)}}function ZT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(i,u,e,s):u})}async function s2(i,e,t=!1){const s=await mo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(i,e,t=!1){const{auth:s}=i;if(Tn(s.app))return Promise.reject(rr(s));const o="reauthenticate";try{const u=await mo(i,ZT(s,o,e,i),t);Ee(u.idToken,s,"internal-error");const h=zp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Wn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(i,e,t=!1){if(Tn(i.app))return Promise.reject(rr(i));const s="signIn",o=await ZT(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function o2(i,e){return JT(ls(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(i){const e=ls(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l2(i,e,t){const s=ls(i);await Dh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZC)}async function u2(i,e){await $C(et(i),{oobCode:e})}async function c2(i,e,t){if(Tn(i.app))return Promise.reject(rr(i));const s=ls(i),h=await Dh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&eb(i),p}),m=await ta._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function h2(i,e,t){return Tn(i.app)?Promise.reject(rr(i)):o2(et(i),Ao.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eb(i),s})}async function f2(i,e){const t=et(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await WC(t.auth,o);u!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(i,e){return Jn(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=et(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await mo(s,d2(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function p2(i,e,t,s){return et(i).onIdTokenChanged(e,t,s)}function g2(i,e,t){return et(i).beforeAuthStateChanged(e,t)}function y2(i,e,t,s){return et(i).onAuthStateChanged(e,t,s)}function Gp(i){return et(i).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=1e3,v2=10;class nb extends tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);xC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,v2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nb.type="LOCAL";const E2=nb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib extends tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ib.type="SESSION";const rb=ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await T2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Kp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function w2(i){Ti().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function A2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function R2(){return sb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="firebaseLocalStorageDb",I2=1,Ph="firebaseLocalStorage",ob="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sf(i,e){return i.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function C2(){const i=indexedDB.deleteDatabase(ab);return new wu(i).toPromise()}function lp(){const i=indexedDB.open(ab,I2);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ph,{keyPath:ob})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await C2(),e(await lp()))})})}async function P0(i,e,t){const s=sf(i,!0).put({[ob]:e,value:t});return new wu(s).toPromise()}async function x2(i,e){const t=sf(i,!1).get(e),s=await new wu(t).toPromise();return s===void 0?null:s.value}function M0(i,e){const t=sf(i,!0).delete(e);return new wu(t).toPromise()}const N2=800,D2=3;class lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>D2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(R2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await A2(),!this.activeServiceWorker)return;this.sender=new b2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await P0(e,kh,"1"),await M0(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>P0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>x2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>M0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lb.type="LOCAL";const O2=lb;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(i,e){return e?nr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends Hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function P2(i){return JT(i.auth,new Yp(i),i.bypassAuthState)}function M2(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),a2(t,new Yp(i),i.bypassAuthState)}async function V2(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),s2(t,new Yp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return V2;case"reauthViaPopup":case"reauthViaRedirect":return M2;default:Wn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Eu(2e3,1e4);class lo extends ub{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U2.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="pendingRedirect",yh=new Map;class j2 extends ub{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const s=await B2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B2(i,e){const t=H2(e),s=q2(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function z2(i,e){yh.set(i._key(),e)}function q2(i){return nr(i._redirectPersistence)}function H2(i){return gh(L2,i.config.apiKey,i.name)}async function F2(i,e,t=!1){if(Tn(i.app))return Promise.reject(rr(i));const s=ls(i),o=k2(s,e),h=await new j2(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=10*60*1e3;class K2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!cb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ei(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G2&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}}function V0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function cb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(i,e={}){return Jn(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X2=/^https?/;async function W2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Q2(i);for(const t of e)try{if(Z2(t))return}catch{}Wn(i,"unauthorized-domain")}function Z2(i){const e=ap(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!X2.test(t))return!1;if($2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Eu(3e4,6e4);function U0(){const i=Ti().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ex(i){return new Promise((e,t)=>{var s,o,u;function h(){U0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U0(),t(Ei(i,"network-request-failed"))},timeout:J2.get()})}if(!((o=(s=Ti().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)h();else{const m=LC("iframefcb");return Ti()[m]=()=>{gapi.load?h():t(Ei(i,"network-request-failed"))},YT(`${UC()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw _h=null,e})}let _h=null;function tx(i){return _h=_h||ex(i),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new Eu(5e3,15e3),ix="__/auth/iframe",rx="emulator/auth/iframe",sx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ax=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ox(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Bp(e,rx):`https://${i.config.authDomain}/${ix}`,s={apiKey:e.apiKey,appName:i.name,v:oa},o=ax.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${vu(s).slice(1)}`}async function lx(i){const e=await tx(i),t=Ti().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:ox(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ei(i,"network-request-failed"),m=Ti().setTimeout(()=>{u(h)},nx.get());function p(){Ti().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cx=500,hx=600,fx="_blank",dx="http://localhost";class L0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mx(i,e,t,s=cx,o=hx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},ux),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();t&&(m=BT(g)?fx:t),LT(g)&&(e=e||dx,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[x,D])=>`${w}${x}=${D},`,"");if(CC(g)&&m!=="_self")return px(e||"",m),new L0(null);const b=window.open(e||"",m,v);Ee(b,i,"popup-blocked");try{b.focus()}catch{}return new L0(b)}function px(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__/auth/handler",yx="emulator/auth/handler",_x=encodeURIComponent("fac");async function j0(i,e,t,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:oa,eventId:o};if(e instanceof WT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",XR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))h[v]=b}if(e instanceof bu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${_x}=${encodeURIComponent(p)}`:"";return`${vx(i)}?${vu(m).slice(1)}${g}`}function vx({config:i}){return i.emulator?Bp(i,yx):`https://${i.authDomain}/${gx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class Ex{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rb,this._completeRedirectFn=F2,this._overrideRedirectResult=z2}async _openPopup(e,t,s,o){var u;ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await j0(e,t,s,ap(),o);return mx(e,h,Kp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await j0(e,t,s,ap(),o);return w2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await lx(e),s=new K2(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fm,{type:Fm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Fm];h!==void 0&&t(!!h),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=W2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GT()||jT()||qp()}}const Tx=Ex;var B0="@firebase/auth",z0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ax(i){Js(new Jr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(i)},g=new PC(s,o,u,p);return FC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Js(new Jr("auth-internal",e=>{const t=ls(e.getProvider("auth").getImmediate());return(s=>new bx(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(B0,z0,wx(i)),vi(B0,z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=5*60,Rx=wT("authIdTokenMaxAge")||Sx;let q0=null;const Ix=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Rx)return;const o=t==null?void 0:t.token;q0!==o&&(q0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function hb(i=Up()){const e=tf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=HC(i,{popupRedirectResolver:Tx,persistence:[O2,E2,rb]}),s=wT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Ix(u.toString());g2(t,h,()=>h(t.currentUser)),p2(t,m=>h(m))}}const o=ET("auth");return o&&GC(t,`http://${o}`),t}function Cx(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}MC({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ei("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",Cx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ax("Browser");var xx="firebase",Nx="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(xx,Nx,"app");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,fb;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function I(){}I.prototype=S.prototype,k.D=S.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(P,V,j){for(var N=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)N[Ut-2]=arguments[Ut];return S.prototype[V].apply(P,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,I){I||(I=0);var P=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)P[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)P[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=k.g[0],I=k.g[1],V=k.g[2];var j=k.g[3],N=S+(j^I&(V^j))+P[0]+3614090360&4294967295;S=I+(N<<7&4294967295|N>>>25),N=j+(V^S&(I^V))+P[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=V+(I^j&(S^I))+P[2]+606105819&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(S^V&(j^S))+P[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=S+(j^I&(V^j))+P[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=j+(V^S&(I^V))+P[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=V+(I^j&(S^I))+P[6]+2821735955&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(S^V&(j^S))+P[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=S+(j^I&(V^j))+P[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=j+(V^S&(I^V))+P[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=V+(I^j&(S^I))+P[10]+4294925233&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(S^V&(j^S))+P[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=S+(j^I&(V^j))+P[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=j+(V^S&(I^V))+P[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=V+(I^j&(S^I))+P[14]+2792965006&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(S^V&(j^S))+P[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=S+(V^j&(I^V))+P[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(S^I))+P[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=V+(S^I&(j^S))+P[11]+643717713&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^S&(V^j))+P[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=S+(V^j&(I^V))+P[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(S^I))+P[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=V+(S^I&(j^S))+P[15]+3634488961&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^S&(V^j))+P[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=S+(V^j&(I^V))+P[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(S^I))+P[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=V+(S^I&(j^S))+P[3]+4107603335&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^S&(V^j))+P[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=S+(V^j&(I^V))+P[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(S^I))+P[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=V+(S^I&(j^S))+P[7]+1735328473&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^S&(V^j))+P[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=S+(I^V^j)+P[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=j+(S^I^V)+P[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=V+(j^S^I)+P[11]+1839030562&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^S)+P[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=S+(I^V^j)+P[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=j+(S^I^V)+P[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=V+(j^S^I)+P[7]+4139469664&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^S)+P[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=S+(I^V^j)+P[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=j+(S^I^V)+P[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=V+(j^S^I)+P[3]+3572445317&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^S)+P[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=S+(I^V^j)+P[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=j+(S^I^V)+P[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=V+(j^S^I)+P[15]+530742520&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^S)+P[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=S+(V^(I|~j))+P[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=j+(I^(S|~V))+P[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=V+(S^(j|~I))+P[14]+2878612391&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~S))+P[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=S+(V^(I|~j))+P[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=j+(I^(S|~V))+P[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=V+(S^(j|~I))+P[10]+4293915773&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~S))+P[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=S+(V^(I|~j))+P[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=j+(I^(S|~V))+P[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=V+(S^(j|~I))+P[6]+2734768916&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~S))+P[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=S+(V^(I|~j))+P[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=j+(I^(S|~V))+P[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=V+(S^(j|~I))+P[2]+718787259&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~S))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+j&4294967295}s.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var I=S-this.blockSize,P=this.B,V=this.h,j=0;j<S;){if(V==0)for(;j<=I;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<S;)if(P[V++]=k.charCodeAt(j++),V==this.blockSize){o(this,P),V=0;break}}else for(;j<S;)if(P[V++]=k[j++],V==this.blockSize){o(this,P),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var I=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=I&255,I/=256;for(this.u(k),k=Array(16),S=I=0;4>S;++S)for(var P=0;32>P;P+=8)k[I++]=this.g[S]>>>P&255;return k};function u(k,S){var I=m;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=S(k)}function h(k,S){this.h=S;for(var I=[],P=!0,V=k.length-1;0<=V;V--){var j=k[V]|0;P&&j==S||(I[V]=j,P=!1)}this.g=I}var m={};function p(k){return-128<=k&&128>k?u(k,function(S){return new h([S|0],0>S?-1:0)}):new h([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return U(g(-k));for(var S=[],I=1,P=0;k>=I;P++)S[P]=k/I|0,I*=4294967296;return new h(S,0)}function v(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return U(v(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(S,8)),P=b,V=0;V<k.length;V+=8){var j=Math.min(8,k.length-V),N=parseInt(k.substring(V,V+j),S);8>j?(j=g(Math.pow(S,j)),P=P.j(j).add(g(N))):(P=P.j(I),P=P.add(g(N)))}return P}var b=p(0),w=p(1),x=p(16777216);i=h.prototype,i.m=function(){if(K(this))return-U(this).m();for(var k=0,S=1,I=0;I<this.g.length;I++){var P=this.i(I);k+=(0<=P?P:4294967296+P)*S,S*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(K(this))return"-"+U(this).toString(k);for(var S=g(Math.pow(k,6)),I=this,P="";;){var V=le(I,S).g;I=Q(I,V.j(S));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=V,D(I))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function K(k){return k.h==-1}i.l=function(k){return k=Q(this,k),K(k)?-1:D(k)?0:1};function U(k){for(var S=k.g.length,I=[],P=0;P<S;P++)I[P]=~k.g[P];return new h(I,~k.h).add(w)}i.abs=function(){return K(this)?U(this):this},i.add=function(k){for(var S=Math.max(this.g.length,k.g.length),I=[],P=0,V=0;V<=S;V++){var j=P+(this.i(V)&65535)+(k.i(V)&65535),N=(j>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=N>>>16,j&=65535,N&=65535,I[V]=N<<16|j}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Q(k,S){return k.add(U(S))}i.j=function(k){if(D(this)||D(k))return b;if(K(this))return K(k)?U(this).j(U(k)):U(U(this).j(k));if(K(k))return U(this.j(U(k)));if(0>this.l(x)&&0>k.l(x))return g(this.m()*k.m());for(var S=this.g.length+k.g.length,I=[],P=0;P<2*S;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var j=this.i(P)>>>16,N=this.i(P)&65535,Ut=k.i(V)>>>16,ut=k.i(V)&65535;I[2*P+2*V]+=N*ut,ie(I,2*P+2*V),I[2*P+2*V+1]+=j*ut,ie(I,2*P+2*V+1),I[2*P+2*V+1]+=N*Ut,ie(I,2*P+2*V+1),I[2*P+2*V+2]+=j*Ut,ie(I,2*P+2*V+2)}for(P=0;P<S;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=S;P<2*S;P++)I[P]=0;return new h(I,0)};function ie(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function W(k,S){this.g=k,this.h=S}function le(k,S){if(D(S))throw Error("division by zero");if(D(k))return new W(b,b);if(K(k))return S=le(U(k),S),new W(U(S.g),U(S.h));if(K(S))return S=le(k,U(S)),new W(U(S.g),S.h);if(30<k.g.length){if(K(k)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,P=S;0>=P.l(k);)I=he(I),P=he(P);var V=ve(I,1),j=ve(P,1);for(P=ve(P,2),I=ve(I,2);!D(P);){var N=j.add(P);0>=N.l(k)&&(V=V.add(I),j=N),P=ve(P,1),I=ve(I,1)}return S=Q(k,V.j(S)),new W(V,S)}for(V=b;0<=k.l(S);){for(I=Math.max(1,Math.floor(k.m()/S.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=g(I),N=j.j(S);K(N)||0<N.l(k);)I-=P,j=g(I),N=j.j(S);D(j)&&(j=w),V=V.add(j),k=Q(k,N)}return new W(V,k)}i.A=function(k){return le(this,k).h},i.and=function(k){for(var S=Math.max(this.g.length,k.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)&k.i(P);return new h(I,this.h&k.h)},i.or=function(k){for(var S=Math.max(this.g.length,k.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)|k.i(P);return new h(I,this.h|k.h)},i.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),I=[],P=0;P<S;P++)I[P]=this.i(P)^k.i(P);return new h(I,this.h^k.h)};function he(k){for(var S=k.g.length+1,I=[],P=0;P<S;P++)I[P]=k.i(P)<<1|k.i(P-1)>>>31;return new h(I,k.h)}function ve(k,S){var I=S>>5;S%=32;for(var P=k.g.length-I,V=[],j=0;j<P;j++)V[j]=0<S?k.i(j+I)>>>S|k.i(j+I+1)<<32-S:k.i(j+I);return new h(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,fb=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,Wr=h}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var db,Yl,mb,vh,up,pb,gb,yb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,B={next:function(){if(!A&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,B,Y){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return y.prototype[B].apply(A,se)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function U(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const B=c.length||0,Y=A.length||0;c.length=B+Y;for(let se=0;se<Y;se++)c[B+se]=A[se]}else c.push(A)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var he=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ve(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let Y=0;Y<I.length;Y++)_=I[Y],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ut{constructor(){this.h=this.g=null}add(y,_){const A=ut.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new Q(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Be=new Ut,O=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){j(_)}var y=ut;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function xe(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{le(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}D(xe,re);var we={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function ei(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++Ze,this.da=this.fa=!1}function dr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xi(c){this.src=c,this.g={},this.h=0}xi.prototype.add=function(c,y,_,A,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var se=fs(c,y,A,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new ei(y,this.src,Y,!!A,B),y.fa=_,c.push(y)),y};function hs(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(A,B,1),Y&&(dr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function fs(c,y,_,A){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==A)return B}return-1}var ds="closure_lm_"+(1e6*Math.random()|0),Oo={};function Pu(c,y,_,A,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Pu(c,y[Y],_,A,B);return null}return _=Mu(_),c&&c[Nt]?c.K(y,_,g(A)?!!A.capture:!1,B):Sn(c,y,_,!1,A,B)}function Sn(c,y,_,A,B,Y){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Me=ha(c);if(Me||(c[ds]=Me=new xi(c)),_=Me.add(y,_,A,se,Y),_.proxy)return _;if(A=Nf(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ge||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(ms(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Nf(){function c(_){return y.call(c.src,c.listener,_)}const y=Df;return c}function ko(c,y,_,A,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ko(c,y[Y],_,A,B);else A=g(A)?!!A.capture:!!A,_=Mu(_),c&&c[Nt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=fs(Y,_,A,B),-1<_&&(dr(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ha(c))&&(y=c.g[y.toString()],c=-1,y&&(c=fs(y,_,A,B)),(_=-1<c?y[c]:null)&&ca(_))}function ca(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])hs(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(ms(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=ha(y))?(hs(_,c),_.h==0&&(_.src=null,y[ds]=null)):dr(c)}}}function ms(c){return c in Oo?Oo[c]:Oo[c]="on"+c}function Df(c,y){if(c.da)c=!0;else{y=new xe(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ca(c),c=_.call(A,y)}return c}function ha(c){return c=c[ds],c instanceof xi?c:null}var Po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mu(c){return typeof c=="function"?c:(c[Po]||(c[Po]=function(y){return c.handleEvent(y)}),c[Po])}function ct(){oe.call(this),this.i=new xi(this),this.M=this,this.F=null}D(ct,oe),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(c,y,_,A){ko(this,c,y,_,A)};function Fe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(A,c),P(y,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var se=y.g=_[Y];B=fn(se,A,!0,y)&&B}if(se=y.g=c,B=fn(se,A,!0,y)&&B,B=fn(se,A,!1,y)&&B,_)for(Y=0;Y<_.length;Y++)se=y.g=_[Y],B=fn(se,A,!1,y)&&B}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)dr(_[A]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ct.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function fn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var se=y[Y];if(se&&!se.da&&se.capture==_){var Me=se.listener,At=se.ha||se.src;se.fa&&hs(c.i,se),B=Me.call(At,A)!==!1&&B}}return B&&!A.defaultPrevented}function Kt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Vu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Of extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){oe.call(this),this.h=c,this.g={}}D(ps,oe);var gs=[];function ys(c){ve(c.g,function(y,_){this.g.hasOwnProperty(_)&&ca(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),ys(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,fa=m.JSON.parse,_s=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Uo(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){re.call(this,"d")}D(Di,re);function Lo(){re.call(this,"c")}D(Lo,re);var ti={},jo=null;function mr(){return jo=jo||new ct}ti.La="serverreachability";function da(c){re.call(this,ti.La,c)}D(da,re);function pr(c){const y=mr();Fe(y,new da(y))}ti.STAT_EVENT="statevent";function Uu(c,y){re.call(this,ti.STAT_EVENT,c),this.stat=y}D(Uu,re);function it(c){const y=mr();Fe(y,new Uu(y,c))}ti.Ma="timingevent";function wt(c,y){re.call(this,ti.Ma,c),this.size=y}D(wt,re);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Bo(c,y,_,A,B,Y){c.info(function(){if(c.g)if(Y)for(var se="",Me=Y.split("&"),At=0;At<Me.length;At++){var Ve=Me[At].split("=");if(1<Ve.length){var Ot=Ve[0];Ve=Ve[1];var St=Ot.split("_");se=2<=St.length&&St[1]=="type"?se+(Ot+"="+Ve+"&"):se+(Ot+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function kf(c,y,_,A,B,Y,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+Y+" "+se})}function gr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vs(c,_)+(A?" "+A:"")})}function Lu(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function vs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return jn(_)}catch{return y}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function ii(){}D(ii,Mo),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},ni=new ii;function en(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var zo={},ma={};function Bn(c,y,_){c.L=1,c.v=As(dn(y)),c.m=_,c.P=!0,ki(c,null)}function ki(c,y){c.F=Date.now(),Es(c),c.A=dn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Yo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new dt,c.g=ec(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Of(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(gs[0]=B.toString()),B=gs);for(var Y=0;Y<B.length;Y++){var se=Pu(_,B[Y],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pr(),Bo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Nn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const St=Nn(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ku(this.g)))){this.J||St!=4||y==7||(y==8||0>=zi?pr(3):pr(2)),_r(this);var _=this.g.Z();this.X=_;t:if(ju(this)){var A=Ku(this.g);c="";var B=A.length,Y=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),ri(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,kf(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,At=this.g;if((Me=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Me)){var Ve=Me;break t}}Ve=null}if(_=Ve)gr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,_);else{this.o=!1,this.s=3,it(12),Lt(this),ri(this);break e}}if(this.P){_=!0;let jt;for(;!this.J&&this.C<se.length;)if(jt=Bu(this,se),jt==ma){St==4&&(this.s=4,it(14),_=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==zo){this.s=4,it(15),gr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else gr(this.i,this.l,jt,null),Ts(this,jt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||se.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)gr(this.i,this.l,se,"[Invalid Chunked Response]"),Lt(this),ri(this);else if(0<se.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Os(Ot),Ot.M=!0,it(11))}}else gr(this.i,this.l,se,null),Ts(this,se);St==4&&Lt(this),this.o&&!this.J&&(St==4?Wu(this.j,this):(this.o=!1,Es(this)))}else Lf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Lt(this),ri(this)}}}catch{}finally{}};function ju(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ma:(_=Number(y.substring(_,A)),isNaN(_)?zo:(A+=1,A+_>y.length?ma:(y=y.slice(A,A+_),c.C=A+_,y)))}en.prototype.cancel=function(){this.J=!0,Lt(this)};function Es(c){c.S=Date.now()+c.I,zu(c,c.I)}function zu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(w(c.ba,c),y)}function _r(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Lu(this.i,this.A),this.L!=2&&(pr(),it(17)),Lt(this),this.s=2,ri(this)):zu(this,this.S-c)};function ri(c){c.j.G==0||c.J||Wu(c.j,c)}function Lt(c){_r(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ys(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ts(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||qo(_.h,c))){if(!c.K&&qo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ra(_),Aa(_);else break e;Zo(_),it(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(w(_.Za,_),6e3));if(1>=ga(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bi(_,11)}else if((c.K||_.g==c)&&Ra(_),!ie(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ve=B[y];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const Ot=Ve[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const St=Ve[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const zi=Ve[5];zi!=null&&typeof zi=="number"&&0<zi&&(A=1.5*zi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const jt=c.g;if(jt){const hi=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var Y=A.h;Y.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ya(Y,Y.h),Y.h=null))}if(A.D){const el=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(A.ya=el,Ye(A.I,A.D,el))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=Ju(A,A.J?A.ia:null,A.W),se.K){tn(A.h,se);var Me=se,At=A.L;At&&(Me.I=At),Me.B&&(_r(Me),Es(Me)),A.g=se}else $u(A);0<_.i.length&&Sa(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Bi(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Bi(_,7):Xo(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}pr(4)}catch{}}var qu=class{constructor(c,y){this.g=c,this.map=y}};function Pi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ga(c){return c.h?1:c.g?c.g.size:0}function qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ya(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Pi.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function Pf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function _a(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Fo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=_a(c),A=Pf(c),B=A.length,Y=0;Y<B;Y++)y.call(void 0,A[Y],_&&_[Y],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),B=null;if(0<=A){var Y=c[_].substring(0,A);B=c[_].substring(A+1)}else Y=c[_];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,ws(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.s),this.l=c.l;var y=c.i,_=new Vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Mi(this,_),this.m=c.m}else c&&(y=String(c).match(bs))?(this.h=!1,ws(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),vr(this,y[4]),this.l=In(y[5]||"",!0),Mi(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}_t.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ss(y,Go,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ss(y,Go,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ss(_,_.charAt(0)=="/"?Vf:Ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ss(_,va)),c.join("")};function dn(c){return new _t(c)}function ws(c,y,_){c.j=_?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mi(c,y,_){y instanceof Vi?(c.i=y,Fu(c.i,c.h)):(_||(y=Ss(y,Uf)),c.i=new Vi(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function As(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Hu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,Vf=/[#\?]/g,Uf=/[#\?@]/g,va=/#/g;function Vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Mf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Vi.prototype,i.add=function(c,y){Cn(this),this.i=null,c=si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ui(c,y){Cn(c),y=si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Li(c,y){return Cn(c),y=si(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const B=c[A];for(let Y=0;Y<B.length;Y++)_.push(y[A])}return _},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")Li(this,c)&&(y=y.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=si(this,c),Li(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yo(c,y,_){Ui(c,y),0<_.length&&(c.i=null,c.g.set(si(c,y),K(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Y=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var B=Y;se[A]!==""&&(B+="="+encodeURIComponent(String(se[A]))),c.push(B)}}return this.i=c.join("&")};function si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(Ui(this,A),Yo(this,B,_))},c)),c.j=y}function Rs(c,y){const _=new Rn;if(m.Image){const A=new Image;A.onload=x(xn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=x(xn,_,"TestLoadImage: error",!1,y,A),A.onabort=x(xn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(xn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function zn(c,y){const _=new Rn,A=new AbortController,B=setTimeout(()=>{A.abort(),xn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(B),Y.ok?xn(_,"TestPingServer: ok",!0,y):xn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),xn(_,"TestPingServer: error",!1,y)})}function xn(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Is(){this.g=new _s}function ai(c,y,_){const A=_||"";try{Fo(c,function(B,Y){let se=B;g(B)&&(se=jn(B)),y.push(A+Y+"="+encodeURIComponent(se))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function Er(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Er,Mo),Er.prototype.g=function(){return new ji(this.l,this.j)},Er.prototype.i=function(c){return function(){return c}}({});function ji(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ji,ct),i=ji.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,li(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?oi(this):li(this),this.readyState==3&&Qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},i.Qa=function(c){this.g&&(this.response=c,oi(this))},i.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,li(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let y="";return ve(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Dt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=$o(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function qe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(qe,ct);var Ea=/^https?$/i,Cs=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?Vo(this.o):Vo(ni),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Gu(this,Y);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cs,y,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of _)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Gu(this,Y)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ta(c),ui(c)}function Ta(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},i.bb=function(){ba(this)};function ba(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Kt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=se===0){var B=String(c.D).match(bs)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!Ea.test(B?B.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var Y=2<Nn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Ta(c)}}finally{ui(c)}}}}function ui(c,y){if(c.g){xs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function xs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fa(y)}};function Ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Lf(c){const y={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ie(c[A]))continue;var _=V(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[B]||[];y[B]=Y,Y.push(_)}k(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,c),this.cb=Ns("retryDelaySeedMs",1e4,c),this.Wa=Ns("forwardChannelMaxRetries",2,c),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pi(c&&c.concurrentRequestLimit),this.Da=new Is,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){it(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Ju(this,null,this.W),Sa(this)};function Xo(c){if(Yu(c),c.G==3){var y=c.U++,_=dn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),Ds(c,_),y=new en(c,c.j,y),y.L=2,y.v=As(dn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Es(y)}Zu(c)}function Aa(c){c.g&&(Os(c),c.g.cancel(),c.g=null)}function Yu(c){Aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!pa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||O(),me||(ae(),me=!0),Be.add(y,c),c.B=0}}function jf(c,y){return ga(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(w(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=S(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Qu(this,B,y),_=dn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Ds(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String($o(Y)))+"&"+y:this.m&&Dt(_,this.m,Y)),ya(this.h,B),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),B.T=!0,Bn(B,_,null)):Bn(B,_,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||pa(this.h)||Wo(this))};function Wo(c,y){var _;y?_=y.l:_=c.U++;const A=dn(c.I);Ye(A,"SID",c.K),Ye(A,"RID",_),Ye(A,"AID",c.T),Ds(c,A),c.m&&c.o&&Dt(A,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ya(c.h,_),Bn(_,A,y)}function Ds(c,y){c.H&&ve(c.H,function(_,A){Ye(y,A,_)}),c.l&&Fo({},function(_,A){Ye(y,A,_)})}function Qu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?w(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const se=["count="+_];Y==-1?0<_?(Y=B[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let Me=!0;for(let At=0;At<_;At++){let Ve=B[At].g;const Ot=B[At].map;if(Ve-=Y,0>Ve)Y=Math.max(0,B[At].g-100),Me=!1;else try{ai(Ot,se,"req"+Ve+"_")}catch{A&&A(Ot)}}if(Me){A=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function $u(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||O(),me||(ae(),me=!0),Be.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(w(c.Fa,c),Jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Aa(this),Xu(this))};function Os(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),Ds(c,y),c.m&&c.o&&Dt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=As(dn(y)),_.m=null,_.P=!0,ki(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Aa(this),Zo(this),it(19))};function Ra(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,y){var _=null;if(c.g==y){Ra(c),Os(c),c.g=null;var A=2}else if(qo(c.h,y))_=y.D,tn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=mr(),Fe(A,new wt(A,_)),Sa(c)}else $u(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&jf(c,y)||A==2&&Zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function Jo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Bi(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),A=c.Xa;const B=!A;A=new _t(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ws(A,"https"),As(A),B?Rs(A.toString(),_):zn(A.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(y),Zu(c),Yu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=Ho(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,_){var A=_ instanceof _t?dn(_):new _t(_);if(A.g!="")y&&(A.g=y+"."+A.g),vr(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new _t(null);A&&ws(Y,A),y&&(Y.g=y),B&&vr(Y,B),_&&(Y.l=_),A=Y}return _=c.D,y=c.ya,_&&y&&Ye(A,_,y),Ye(A,"VER",c.la),Ds(c,A),A}function ec(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new Er({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}i=tc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ia(){}Ia.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ct.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ie(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ci(this)}D(nn,ct),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Xo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);y.i.push(new qu(y.Ya++,c)),y.G==3&&Sa(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,nn.aa.N.call(this)};function nc(c){Di.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(nc,Di);function ic(){Lo.call(this),this.status=1}D(ic,Lo);function ci(c){this.g=c}D(ci,tc),ci.prototype.ua=function(){Fe(this.g,"a")},ci.prototype.ta=function(c){Fe(this.g,new nc(c))},ci.prototype.sa=function(c){Fe(this.g,new ic)},ci.prototype.ra=function(){Fe(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,yb=function(){return new Ia},gb=function(){return mr()},pb=ti,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,vh=yr,Oi.COMPLETE="complete",mb=Oi,Uo.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Yl=Uo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,db=qe}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",G0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Mp("@firebase/firestore");function io(){return na.logLevel}function ue(i,...e){if(na.logLevel<=ke.DEBUG){const t=e.map(Qp);na.debug(`Firestore (${So}): ${i}`,...t)}}function cr(i,...e){if(na.logLevel<=ke.ERROR){const t=e.map(Qp);na.error(`Firestore (${So}): ${i}`,...t)}}function po(i,...e){if(na.logLevel<=ke.WARN){const t=e.map(Qp);na.warn(`Firestore (${So}): ${i}`,...t)}}function Qp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,_b(i,s,t)}function _b(i,e,t){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw cr(s),new Error(s)}function He(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||_b(e,o,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class Ox{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kx{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new vb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class Px{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mx{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new Px(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new K0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ux(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function cp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=Eb(),h=Lx(u.encode(Y0(i,t)),u.encode(Y0(e,t)));return h!==0?h:Ce(s,o)}}t+=s>65535?2:1}return Ce(i.length,e.length)}function Y0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function Lx(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ce(i[t],e[t]);return Ce(i.length,e.length)}function go(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=-62135596800,$0=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*$0);return new Ct(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ct(0,0))}static max(){return new Ae(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class yi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=yi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ce(e.length,t.length)}static compareSegments(e,t){const s=yi.isNumericId(e),o=yi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(t)):cp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class tt extends yi{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const jx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends yi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return jx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new Ft([X0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function Bx(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Ct(t+1,0):new Ct(t,s));return new es(o,pe.empty(),e)}function zx(i){return new es(i.readTime,i.key,ou)}class es{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new es(Ae.min(),pe.empty(),ou)}static max(){return new es(Ae.max(),pe.empty(),ou)}}function qx(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(i.documentKey,e.documentKey),t!==0?t:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==Hx)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++m,m===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function Gx(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Io(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}af.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p=-1;function of(i){return i==null}function Mh(i){return i===0&&1/i==-1/0}function Kx(i){return typeof i=="number"&&Number.isInteger(i)&&!Mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="";function Yx(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=W0(e)),e=Qx(i.get(t),e);return W0(e)}function Qx(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case bb:t+="";break;default:t+=u}}return t}function W0(i){return i+bb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function us(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function wb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new bn([])}unionWith(e){let t=new xt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ab("Invalid base64 string: "+u):u}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const $x=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(i){if(He(!!i,39018),typeof i=="string"){let e=0;const t=$x.exec(i);if(He(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ns(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="server_timestamp",Rb="__type__",Ib="__previous_value__",Cb="__local_write_time__";function Xp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rb])===null||t===void 0?void 0:t.stringValue)===Sb}function lf(i){const e=i.mapValue.fields[Ib];return Xp(e)?lf(e):e}function lu(i){const e=ts(i.mapValue.fields[Cb].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Vh="(default)";class uu{constructor(e,t){this.projectId=e,this.database=t||Vh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="__type__",Wx="__max__",lh={mapValue:{}},Nb="__vector__",Uh="value";function is(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Xp(i)?4:Jx(i)?9007199254740991:Zx(i)?10:11:Te(28295,{value:i})}function Ai(i,e){if(i===e)return!0;const t=is(i);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lu(i).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ts(o.timestampValue),m=ts(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Mh(h)===Mh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Z0(h)!==Z0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ai(h[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function cu(i,e){return(i.values||[]).find(t=>Ai(t,e))!==void 0}function yo(i,e){if(i===e)return 0;const t=is(i),s=is(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return eE(i.timestampValue,e.timestampValue);case 4:return eE(lu(i),lu(e));case 5:return cp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ns(u),p=ns(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ce(m[g],p[g]);if(v!==0)return v}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ce(gt(u.latitude),gt(h.latitude));return m!==0?m:Ce(gt(u.longitude),gt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return tE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,v;const b=u.fields||{},w=h.fields||{},x=(m=b[Uh])===null||m===void 0?void 0:m.arrayValue,D=(p=w[Uh])===null||p===void 0?void 0:p.arrayValue,K=Ce(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return K!==0?K:tE(x,D)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=cp(p[b],v[b]);if(w!==0)return w;const x=yo(m[p[b]],g[v[b]]);if(x!==0)return x}return Ce(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:t})}}function eE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const t=ts(i),s=ts(e),o=Ce(t.seconds,s.seconds);return o!==0?o:Ce(t.nanos,s.nanos)}function tE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=yo(t[o],s[o]);if(u)return u}return Ce(t.length,s.length)}function _o(i){return hp(i)}function hp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ts(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ns(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return pe.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=hp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${hp(t.fields[h])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function Eh(i){switch(is(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(i);return e?16+Eh(e):16;case 5:return 2*i.stringValue.length;case 6:return ns(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Eh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,h)=>{o+=u.length+Eh(h)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function nE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function fp(i){return!!i&&"integerValue"in i}function Wp(i){return!!i&&"arrayValue"in i}function iE(i){return!!i&&"nullValue"in i}function rE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Th(i){return!!i&&"mapValue"in i}function Zx(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[xb])===null||t===void 0?void 0:t.stringValue)===Nb}function Jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Jl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Jx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Wx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Jl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){us(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Jl(this.value))}}function Db(i){const e=[];return us(i.fields,(t,s)=>{const o=new Ft([t]);if(Th(s)){const u=Db(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),hn.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,Ae.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ae.min(),Ae.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ae.min(),Ae.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function sE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=yo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function aE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ai(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t="asc"){this.field=e,this.dir=t}}function eN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{}class bt extends Ob{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new nN(e,t,s):t==="array-contains"?new sN(e,s):t==="in"?new aN(e,s):t==="not-in"?new oN(e,s):t==="array-contains-any"?new lN(e,s):new bt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new iN(e,s):new rN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yo(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends Ob{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Zn(e,t)}matches(e){return kb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function kb(i){return i.op==="and"}function Pb(i){return tN(i)&&kb(i)}function tN(i){for(const e of i.filters)if(e instanceof Zn)return!1;return!0}function dp(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(Pb(i))return i.filters.map(e=>dp(e)).join(",");{const e=i.filters.map(t=>dp(t)).join(",");return`${i.op}(${e})`}}function Mb(i,e){return i instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(i,e):i instanceof Zn?function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&Mb(h,o.filters[m]),!0):!1}(i,e):void Te(19439)}function Vb(i){return i instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(i):i instanceof Zn?function(t){return t.op.toString()+" {"+t.getFilters().map(Vb).join(" ,")+"}"}(i):"Filter"}class nN extends bt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class iN extends bt{constructor(e,t){super(e,"in",t),this.keys=Ub("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rN extends bt{constructor(e,t){super(e,"not-in",t),this.keys=Ub("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ub(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class sN extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wp(t)&&cu(t.arrayValue,this.value)}}class aN extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cu(this.value.arrayValue,t)}}class oN extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!cu(this.value.arrayValue,t)}}class lN extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function oE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new uN(i,e,t,s,o,u,h)}function Zp(i){const e=Se(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>dp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_o(s)).join(",")),e.Ie=t}return e.Ie}function Jp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!eN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Mb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!aE(i.startAt,e.startAt)&&aE(i.endAt,e.endAt)}function mp(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cN(i,e,t,s,o,u,h,m){return new Co(i,e,t,s,o,u,h,m)}function uf(i){return new Co(i)}function lE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Lb(i){return i.collectionGroup!==null}function eu(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new xt(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new hu(u,s))}),t.has(Ft.keyField().canonicalString())||e.Ee.push(new hu(Ft.keyField(),s))}return e.Ee}function bi(i){const e=Se(i);return e.de||(e.de=hN(e,eu(i))),e.de}function hN(i,e){if(i.limitType==="F")return oE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)});const t=i.endAt?new Lh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Lh(i.startAt.position,i.startAt.inclusive):null;return oE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function pp(i,e){const t=i.filters.concat([e]);return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function jh(i,e,t){return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function cf(i,e){return Jp(bi(i),bi(e))&&i.limitType===e.limitType}function jb(i){return`${Zp(bi(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Vb(o)).join(", ")}]`),of(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>_o(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(bi(i))}; limitType=${i.limitType})`}function hf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=sE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,eu(s),o)||s.endAt&&!function(h,m,p){const g=sE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,eu(s),o))}(i,e)}function fN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Bb(i){return(e,t)=>{let s=!1;for(const o of eu(i)){const u=dN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function dN(i,e,t){const s=i.field.isKeyField()?pe.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Te(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return wb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new ot(pe.comparator);function hr(){return mN}const zb=new ot(pe.comparator);function Ql(...i){let e=zb;for(const t of i)e=e.insert(t.key,t);return e}function qb(i){let e=zb;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function $s(){return tu()}function Hb(){return tu()}function tu(){return new la(i=>i.toString(),(i,e)=>i.isEqual(e))}const pN=new ot(pe.comparator),gN=new xt(pe.comparator);function Pe(...i){let e=gN;for(const t of i)e=e.add(t);return e}const yN=new xt(Ce);function _N(){return yN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function Fb(i){return{integerValue:""+i}}function vN(i,e){return Kx(e)?Fb(e):eg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function EN(i,e,t){return i instanceof fu?function(o,u){const h={fields:{[Rb]:{stringValue:Sb},[Cb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Xp(u)&&(u=lf(u)),u&&(h.fields[Ib]=u),{mapValue:h}}(t,e):i instanceof du?Kb(i,e):i instanceof mu?Yb(i,e):function(o,u){const h=Gb(o,u),m=uE(h)+uE(o.Re);return fp(h)&&fp(o.Re)?Fb(m):eg(o.serializer,m)}(i,e)}function TN(i,e,t){return i instanceof du?Kb(i,e):i instanceof mu?Yb(i,e):t}function Gb(i,e){return i instanceof Bh?function(s){return fp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class fu extends ff{}class du extends ff{constructor(e){super(),this.elements=e}}function Kb(i,e){const t=Qb(e);for(const s of i.elements)t.some(o=>Ai(o,s))||t.push(s);return{arrayValue:{values:t}}}class mu extends ff{constructor(e){super(),this.elements=e}}function Yb(i,e){let t=Qb(e);for(const s of i.elements)t=t.filter(o=>!Ai(o,s));return{arrayValue:{values:t}}}class Bh extends ff{constructor(e,t){super(),this.serializer=e,this.Re=t}}function uE(i){return gt(i.integerValue||i.doubleValue)}function Qb(i){return Wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t){this.field=e,this.transform=t}}function wN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof du&&o instanceof du||s instanceof mu&&o instanceof mu?go(s.elements,o.elements,Ai):s instanceof Bh&&o instanceof Bh?Ai(s.Re,o.Re):s instanceof fu&&o instanceof fu}(i.transform,e.transform)}class AN{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class df{}function $b(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Wb(i.key,Qn.none()):new Au(i.key,i.data,Qn.none());{const t=i.data,s=hn.empty();let o=new xt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new cs(i.key,s,new bn(o.toArray()),Qn.none())}}function SN(i,e,t){i instanceof Au?function(o,u,h){const m=o.value.clone(),p=hE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof cs?function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=hE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Xb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function nu(i,e,t,s){return i instanceof Au?function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=u.value.clone(),v=fE(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof cs?function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=fE(u.fieldTransforms,p,h),v=h.data;return v.setAll(Xb(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(u,h,m){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function RN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Gb(s.transform,o||null);u!=null&&(t===null&&(t=hn.empty()),t.set(s.field,u))}return t||null}function cE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,h)=>wN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Au extends df{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends df{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Xb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function hE(i,e,t){const s=new Map;He(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,TN(h,m,t[o]))}return s}function fE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,EN(u,h,e))}return s}class Wb extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&SN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=nu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=nu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Hb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=$b(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(t,s)=>cE(t,s))&&go(this.baseMutations,e.baseMutations,(t,s)=>cE(t,s))}}class tg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return pN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new tg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Le;function DN(i){switch(i){case ee.OK:return Te(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function Zb(i){if(i===void 0)return cr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Tt.OK:return ee.OK;case Tt.CANCELLED:return ee.CANCELLED;case Tt.UNKNOWN:return ee.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ee.INTERNAL;case Tt.UNAVAILABLE:return ee.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ee.NOT_FOUND;case Tt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Tt.ABORTED:return ee.ABORTED;case Tt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Tt.DATA_LOSS:return ee.DATA_LOSS;default:return Te(39323,{code:i})}}(Le=Tt||(Tt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Wr([4294967295,4294967295],0);function dE(i){const e=Eb().encode(i),t=new fb;return t.update(e),new Uint8Array(t.digest())}function mE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wr([t,s],0),new Wr([o,u],0)]}class ng{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new $l(`Invalid padding: ${t}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new $l(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Wr.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Wr.fromNumber(s)));return o.compare(ON)===1&&(o=new Wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=dE(e),[s,o]=mE(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.Se(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ng(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=dE(e),[s,o]=mE(t);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.be(h)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new mf(Ae.min(),o,new ot(Ce),hr(),Pe())}}class Su{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Su(s,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class Jb{constructor(e,t){this.targetId=e,this.Ce=t}}class ew{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class pE{constructor(){this.Fe=0,this.Me=gE(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),t=Pe(),s=Pe();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Su(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=gE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class kN{constructor(e){this.ze=e,this.je=new Map,this.He=hr(),this.Je=uh(),this.Ye=uh(),this.Ze=new ot(Ce)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(mp(u))if(s===0){const h=new pe(u.path);this.tt(t,h,Wt.newNoDocument(h,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=ns(s).toUint8Array()}catch(p){if(p instanceof Ab)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ng(h,o,u)}catch(p){return po(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&mp(m.target)){const p=new pe(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Wt.newNoDocument(p,e))}u.Le&&(t.set(h,u.qe()),u.Qe())}});let s=Pe();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new mf(e,t,this.Ze,this.He,s);return this.He=hr(),this.Je=uh(),this.Ye=uh(),this.Ze=new ot(Ce),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new pE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new xt(Ce),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new xt(Ce),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new pE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function uh(){return new ot(pe.comparator)}function gE(){return new ot(pe.comparator)}const PN={asc:"ASCENDING",desc:"DESCENDING"},MN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VN={and:"AND",or:"OR"};class UN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gp(i,e){return i.useProto3Json||of(e)?e:{value:e}}function zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function LN(i,e){return zh(i,e.toTimestamp())}function wi(i){return He(!!i,49232),Ae.fromTimestamp(function(t){const s=ts(t);return new Ct(s.seconds,s.nanos)}(i))}function ig(i,e){return yp(i,e).canonicalString()}function yp(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function nw(i){const e=tt.fromString(i);return He(ow(e),10190,{key:e.toString()}),e}function _p(i,e){return ig(i.databaseId,e.path)}function Gm(i,e){const t=nw(e);if(t.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new pe(rw(t))}function iw(i,e){return ig(i.databaseId,e)}function jN(i){const e=nw(i);return e.length===4?tt.emptyPath():rw(e)}function vp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function rw(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function yE(i,e,t){return{name:_p(i,e),fields:t.value.mapValue.fields}}function BN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(He(v===void 0||typeof v=="string",58123),Gt.fromBase64String(v||"")):(He(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Gt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?ee.UNKNOWN:Zb(g.code);return new ce(v,g.message||"")}(h);t=new ew(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gm(i,s.document.name),u=wi(s.document.updateTime),h=s.document.createTime?wi(s.document.createTime):Ae.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new wh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Gm(i,s.document),u=s.readTime?wi(s.readTime):Ae.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new wh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Gm(i,s.document),u=s.removedTargetIds||[];t=new wh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new NN(o,u),m=s.targetId;t=new Jb(m,h)}}return t}function zN(i,e){let t;if(e instanceof Au)t={update:yE(i,e.key,e.value)};else if(e instanceof Wb)t={delete:_p(i,e.key)};else if(e instanceof cs)t={update:yE(i,e.key,e.data),updateMask:XN(e.fieldMask)};else{if(!(e instanceof IN))return Te(16599,{ft:e.type});t={verify:_p(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof fu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:LN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),t}function qN(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?wi(o.updateTime):wi(u);return h.isEqual(Ae.min())&&(h=wi(u)),new AN(h,o.transformResults||[])}(t,e))):[]}function HN(i,e){return{documents:[iw(i,e.path)]}}function FN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=iw(i,o);const u=function(g){if(g.length!==0)return aw(Zn.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:so(w.field),direction:YN(w.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=gp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function GN(i){let e=jN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(b){const w=sw(b);return w instanceof Zn&&Pb(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(w=>function(D){return new hu(ao(D.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,of(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,x=b.values||[];return new Lh(x,w)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const w=!b.before,x=b.values||[];return new Lh(x,w)}(t.endAt)),cN(e,o,h,u,m,"F",p,g)}function KN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ao(t.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(t.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(t.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(t.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(t){return bt.create(ao(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Zn.create(t.compositeFilter.filters.map(s=>sw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(i):Te(30097,{filter:i})}function YN(i){return PN[i]}function QN(i){return MN[i]}function $N(i){return VN[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return Ft.fromServerFormat(i.fieldPath)}function aw(i){return i instanceof bt?function(t){if(t.op==="=="){if(rE(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(iE(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rE(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(iE(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:QN(t.op),value:t.value}}}(i):i instanceof Zn?function(t){const s=t.getFilters().map(o=>aw(o));return s.length===1?s[0]:{compositeFilter:{op:$N(t.op),filters:s}}}(i):Te(54877,{filter:i})}function XN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ow(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,t,s,o,u=Ae.min(),h=Ae.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.wt=e}}function ZN(i){const e=GN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.Cn=new eD}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(es.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(es.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class eD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new xt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lw=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(lw,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new vo(0)}static lr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",tD=1048576;function EE([i,e],[t,s]){const o=Ce(i,t);return o===0?Ce(e,s):o}class nD{constructor(e){this.Er=e,this.buffer=new xt(EE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();EE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ue(vE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Io(t)?ue(vE,"Ignoring IndexedDB error during garbage collection: ",t):await Ro(t)}await this.mr(3e5)})}}class rD{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(af.le);const s=new nD(t);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(_E)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,t))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),io()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function sD(i,e){return new rD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.changes=new la(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&nu(s.mutation,o,bn.empty(),Ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Pe()){const o=$s();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Ql();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=$s();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Pe()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=hr();const h=tu(),m=function(){return tu()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof cs)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),nu(v.mutation,g,v.mutation.getFieldMask(),Ct.now())):h.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>{var b;return m.set(g,new oD(v,(b=h.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,t){const s=tu();let o=new ot((h,m)=>h-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||bn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=Hb();v.forEach(w=>{if(!u.has(w)){const x=$b(t.get(w),s.get(w));x!==null&&b.set(w,x),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve($s());let m=ou,p=u;return h.next(g=>te.forEach(g,(v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(v=>({batchId:m,changes:qb(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(b,w){return new Co(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((b,w)=>{h=h.insert(b,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Wt.newInvalidDocument(v)))});let m=Ql();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&nu(v.mutation,g,bn.empty(),Ct.now()),hf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return te.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:ZN(o.bundledQuery),readTime:wi(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.overlays=new ot(pe.comparator),this.Qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=$s();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.bt(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=$s(),u=t.length+1,h=new pe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=$s(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return te.resolve(m)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new xN(t,s));let u=this.Qr.get(t);u===void 0&&(u=Pe(),this.Qr.set(t,u)),this.Qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.$r=new xt(Vt.Ur),this.Kr=new xt(Vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Vt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Vt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new pe(new tt([])),s=new Vt(t,e),o=new Vt(t,e+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new pe(new tt([])),s=new Vt(t,e),o=new Vt(t,e+1);let u=Pe();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Vt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return pe.comparator(e.key,t.key)||Ce(e.Zr,t.Zr)}static Wr(e,t){return Ce(e.Zr,t.Zr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new xt(Vt.Ur)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new CN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ti(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?$p:this.nr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new xt(Ce);return t.forEach(o=>{const u=new Vt(o,0),h=new Vt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{s=s.add(m.Zr)})}),te.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const h=new Vt(new pe(u),0);let m=new xt(Ce);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),te.resolve(this.ni(m))}ni(e){const t=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return te.forEach(t.mutations,o=>{const u=new Vt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Vt(t,0),o=this.Xr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.ii=e,this.docs=function(){return new ot(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=hr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=hr();const h=t.path,m=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||qx(zx(v),s)<=0||(o.has(v.key)||hf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}si(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new mD(this)}getSize(e){return te.resolve(this.size)}}class mD extends aD{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.persistence=e,this.oi=new la(t=>Zp(t),Jp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this._i=0,this.ai=new rg,this.targetCount=0,this.ui=vo.cr()}forEachTarget(e,t){return this.oi.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),te.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new vo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Tr(t),te.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.ci={},this.overlays={},this.li=new af(0),this.hi=!1,this.hi=!0,this.Pi=new hD,this.referenceDelegate=e(this),this.Ti=new pD(this),this.indexManager=new JN,this.remoteDocumentCache=function(o){return new dD(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new WN(t),this.Ei=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new fD(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new gD(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,t){return te.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class gD extends Fx{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Vi=new rg,this.mi=null}static fi(e){return new sg(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.gi,s=>{const o=pe.fromPath(s);return this.pi(e,o).next(u=>{u||t.removeEntry(o,Ae.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return te.or([()=>te.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class qh{constructor(e,t){this.persistence=e,this.yi=new la(s=>Yx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sD(this,t)}static fi(e,t){return new qh(e,t)}di(){}Ai(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Sr(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return te.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),te.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Eh(e.data.value)),t}Dr(e,t,s){return te.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ds=s,this.As=o}static Rs(e,t){let s=Pe(),o=Pe();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ag(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return FR()?8:Gx(Jt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ws(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new yD;return this.bs(e,t,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,t,h,m.size)})}).next(()=>u.result)}Ds(e,t,s,o){return s.documentReadCount<this.gs?(io()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),te.resolve()):(io()<=ke.DEBUG&&ue("QueryEngine","Query:",ro(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(io()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):te.resolve())}ws(e,t){if(lE(t))return te.resolve(null);let s=bi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=jh(t,null,"F"),s=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Pe(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(t,m);return this.Cs(t,g,h,p.readTime)?this.ws(e,jh(t,null,"F")):this.Fs(e,g,t,p)}))})))}Ss(e,t,s,o){return lE(t)||o.isEqual(Ae.min())?te.resolve(null):this.ys.getDocuments(e,s).next(u=>{const h=this.vs(t,u);return this.Cs(t,h,s,o)?te.resolve(null):(io()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(t)),this.Fs(e,h,t,Bx(o,ou)).next(m=>m))})}vs(e,t){let s=new xt(Bb(e));return t.forEach((o,u)=>{hf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,t,s){return io()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ro(t)),this.ys.getDocumentsMatchingQuery(e,t,es.min(),s)}Fs(e,t,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="LocalStore",vD=3e8;class ED{constructor(e,t,s,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new ot(Ce),this.Os=new la(u=>Zp(u),Jp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function TD(i,e,t,s){return new ED(i,e,t,s)}async function cw(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function bD(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const b=g.batch,w=b.keys();let x=te.resolve();return w.forEach(D=>{x=x.next(()=>v.getEntry(p,D)).next(K=>{const U=g.docVersions.get(D);He(U!==null,48541),K.version.compareTo(U)<0&&(b.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),v.addEntry(K)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function hw(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function wD(i,e){const t=Se(i),s=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const m=[];e.targetChanges.forEach((v,b)=>{const w=o.get(b);if(!w)return;m.push(t.Ti.removeMatchingKeys(u,v.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(u,v.addedDocuments,b)));let x=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Gt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,s)),o=o.insert(b,x),function(K,U,Q){return K.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=vD?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(w,x,v)&&m.push(t.Ti.updateTargetData(u,x))});let p=hr(),g=Pe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(AD(u,h,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!s.isEqual(Ae.min())){const v=t.Ti.getLastRemoteSnapshotVersion(u).next(b=>t.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.xs=o,u))}function AD(i,e,t){let s=Pe(),o=Pe();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=hr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(og,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function SD(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=$p),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function RD(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ti.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Ti.allocateTargetId(s).next(h=>(o=new Qr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Ep(i,e,t){const s=Se(i),o=s.xs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Io(h))throw h;ue(og,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function TE(i,e,t){const s=Se(i);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const b=Se(p),w=b.Os.get(v);return w!==void 0?te.resolve(b.xs.get(w)):b.Ti.getTargetData(g,v)}(s,h,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?u:Pe())).next(m=>(ID(s,fN(e),m),{documents:m,$s:u})))}function ID(i,e,t){let s=i.Ns.get(e)||Ae.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class bE{constructor(){this.activeTargetIds=_N()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CD{constructor(){this.xo=new bE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new bE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class AE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ue(wE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ue(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function Tp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",ND={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,t,s,o,u){const h=Tp(),m=this.jo(e,t.toUriEncodedString());ue(Km,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),v=aa(g);return this.Jo(e,m,p,s,v).then(b=>(ue(Km,`Received RPC '${e}' ${h}: `,b),b),b=>{throw po(Km,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b})}Yo(e,t,s,o,u,h){return this.zo(e,t,s,o,u)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,t){const s=ND[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class kD extends DD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=Tp();return new Promise((m,p)=>{const g=new db;g.setWithCredentials(!0),g.listenOnce(mb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const b=g.getResponseJson();ue($t,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case vh.TIMEOUT:ue($t,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const w=g.getStatus();if(ue($t,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x==null?void 0:x.error;if(D&&D.status&&D.message){const K=function(Q){const ie=Q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ie)>=0?ie:ee.UNKNOWN}(D.status);p(new ce(K,D.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue($t,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ue($t,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",v,s,15)})}T_(e,t,s){const o=Tp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=yb(),m=gb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=h.createWebChannel(v,p);let w=!1,x=!1;const D=new OD({Zo:U=>{x?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),ue($t,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Xo:()=>b.close()}),K=(U,Q,ie)=>{U.listen(Q,W=>{try{ie(W)}catch(le){setTimeout(()=>{throw le},0)}})};return K(b,Yl.EventType.OPEN,()=>{x||(ue($t,`RPC '${e}' stream ${o} transport opened.`),D.__())}),K(b,Yl.EventType.CLOSE,()=>{x||(x=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),D.u_())}),K(b,Yl.EventType.ERROR,U=>{x||(x=!0,po($t,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),D.u_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),K(b,Yl.EventType.MESSAGE,U=>{var Q;if(!x){const ie=U.data[0];He(!!ie,16349);const W=ie,le=(W==null?void 0:W.error)||((Q=W[0])===null||Q===void 0?void 0:Q.error);if(le){ue($t,`RPC '${e}' stream ${o} received error:`,le);const he=le.status;let ve=function(I){const P=Tt[I];if(P!==void 0)return Zb(P)}(he),k=le.message;ve===void 0&&(ve=ee.INTERNAL,k="Unknown error status: "+he+" with message "+le.message),x=!0,D.u_(new ce(ve,k)),b.close()}else ue($t,`RPC '${e}' stream ${o} received:`,ie),D.c_(ie)}}),K(m,pb.STAT_EVENT,U=>{U.stat===up.PROXY?ue($t,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===up.NOPROXY&&ue($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.a_()},0),D}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i){return new UN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=t,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class dw{constructor(e,t,s,o,u,h,m,p){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new fw(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===t&&this.K_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,t){const s=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ue(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ue(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PD extends dw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=BN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?wi(h.readTime):Ae.min()}(e);return this.listener.j_(t,s)}H_(e){const t={};t.database=vp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=mp(p)?{documents:HN(u,p)}:{query:FN(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=tw(u,h.resumeToken);const g=gp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=zh(u,h.snapshotVersion.toTimestamp());const g=gp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=KN(this.serializer,e);s&&(t.labels=s),this.L_(t)}J_(e){const t={};t.database=vp(this.serializer),t.removeTarget=e,this.L_(t)}}class MD extends dw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=qN(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.ea(s,t)}ta(){const e={};e.database=vp(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>zN(this.serializer,s))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{}class UD extends VD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,yp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Yo(e,t,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,yp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class LD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(cr(t),this.oa=!1):ue("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class jD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(h=>{s.enqueueAndForget(async()=>{ua(this)&&(ue(ia,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.Ta.add(4),await Ru(g),g.da.set("Unknown"),g.Ta.delete(4),await gf(g)}(this))})}),this.da=new LD(s,o)}}async function gf(i){if(ua(i))for(const e of i.Ia)await e(!0)}async function Ru(i){for(const e of i.Ia)await e(!1)}function mw(i,e){const t=Se(i);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),hg(t)?cg(t):xo(t).M_()&&ug(t,e))}function lg(i,e){const t=Se(i),s=xo(t);t.Pa.delete(e),s.M_()&&pw(t,e),t.Pa.size===0&&(s.M_()?s.N_():ua(t)&&t.da.set("Unknown"))}function ug(i,e){if(i.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xo(i).H_(e)}function pw(i,e){i.Aa.Ke(e),xo(i).J_(e)}function cg(i){i.Aa=new kN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Pa.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.da._a()}function hg(i){return ua(i)&&!xo(i).F_()&&i.Pa.size>0}function ua(i){return Se(i).Ta.size===0}function gw(i){i.Aa=void 0}async function BD(i){i.da.set("Online")}async function zD(i){i.Pa.forEach((e,t)=>{ug(i,e)})}async function qD(i,e){gw(i),hg(i)?(i.da.ca(e),cg(i)):i.da.set("Unknown")}async function HD(i,e,t){if(i.da.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Pa.delete(m),o.Aa.removeTarget(m))}(i,e)}catch(s){ue(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(i,s)}else if(e instanceof wh?i.Aa.Xe(e):e instanceof Jb?i.Aa.ot(e):i.Aa.nt(e),!t.isEqual(Ae.min()))try{const s=await hw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Aa.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Pa.get(g);v&&u.Pa.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Pa.get(p);if(!v)return;u.Pa.set(p,v.withResumeToken(Gt.EMPTY_BYTE_STRING,v.snapshotVersion)),pw(u,p);const b=new Qr(v.target,p,g,v.sequenceNumber);ug(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ue(ia,"Failed to raise snapshot:",s),await Hh(i,s)}}async function Hh(i,e,t){if(!Io(e))throw e;i.Ta.add(1),await Ru(i),i.da.set("Offline"),t||(t=()=>hw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(ia,"Retrying IndexedDB access"),await t(),i.Ta.delete(1),await gf(i)})}function yw(i,e){return e().catch(t=>Hh(i,t,e))}async function yf(i){const e=Se(i),t=rs(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:$p;for(;FD(e);)try{const o=await SD(e.localStore,s);if(o===null){e.ha.length===0&&t.N_();break}s=o.batchId,GD(e,o)}catch(o){await Hh(e,o)}_w(e)&&vw(e)}function FD(i){return ua(i)&&i.ha.length<10}function GD(i,e){i.ha.push(e);const t=rs(i);t.M_()&&t.Y_&&t.Z_(e.mutations)}function _w(i){return ua(i)&&!rs(i).F_()&&i.ha.length>0}function vw(i){rs(i).start()}async function KD(i){rs(i).ta()}async function YD(i){const e=rs(i);for(const t of i.ha)e.Z_(t.mutations)}async function QD(i,e,t){const s=i.ha.shift(),o=tg.from(s,e,t);await yw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await yf(i)}async function $D(i,e){e&&rs(i).Y_&&await async function(s,o){if(function(h){return DN(h)&&h!==ee.ABORTED}(o.code)){const u=s.ha.shift();rs(s).O_(),await yw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await yf(s)}}(i,e),_w(i)&&vw(i)}async function RE(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),ue(ia,"RemoteStore received new credentials");const s=ua(t);t.Ta.add(3),await Ru(t),s&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await gf(t)}async function XD(i,e){const t=Se(i);e?(t.Ta.delete(2),await gf(t)):e||(t.Ta.add(2),await Ru(t),t.da.set("Unknown"))}function xo(i){return i.Ra||(i.Ra=function(t,s,o){const u=Se(t);return u.ra(),new PD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:BD.bind(null,i),n_:zD.bind(null,i),i_:qD.bind(null,i),j_:HD.bind(null,i)}),i.Ia.push(async e=>{e?(i.Ra.O_(),hg(i)?cg(i):i.da.set("Unknown")):(await i.Ra.stop(),gw(i))})),i.Ra}function rs(i){return i.Va||(i.Va=function(t,s,o){const u=Se(t);return u.ra(),new MD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:KD.bind(null,i),i_:$D.bind(null,i),X_:YD.bind(null,i),ea:QD.bind(null,i)}),i.Ia.push(async e=>{e?(i.Va.O_(),await yf(i)):(await i.Va.stop(),i.ha.length>0&&(ue(ia,`Stopping write stream with ${i.ha.length} pending writes`),i.ha=[]))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new fg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(i,e){if(cr("AsyncQueue",`${e}: ${i}`),Io(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.ma=new ot(pe.comparator)}track(e){const t=e.doc.key,s=this.ma.get(t);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(t,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(t):e.type===1&&s.type===2?this.ma=this.ma.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Te(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,s)=>{e.push(s)}),e}}class Eo{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Eo(e,t,fo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class ZD{constructor(){this.queries=CE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=CE(),u.forEach((h,m)=>{for(const p of m.ya)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function CE(){return new la(i=>jb(i),cf)}async function mg(i,e){const t=Se(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new WD,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await t.onListen(o,!0);break;case 1:u.pa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=dg(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ya.push(e),e.Da(t.onlineState),u.pa&&e.va(u.pa)&&gg(t)}async function pg(i,e){const t=Se(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ya.indexOf(e);h>=0&&(u.ya.splice(h,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function JD(i,e){const t=Se(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.ya)m.va(o)&&(s=!0);h.pa=o}}s&&gg(t)}function eO(i,e,t){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(t);s.queries.delete(e)}function gg(i){i.ba.forEach(e=>{e.next()})}var bp,xE;(xE=bp||(bp={})).Ca="default",xE.Cache="cache";class yg{constructor(e,t,s){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const s=t!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.key=e}}class Tw{constructor(e){this.key=e}}class tO{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Pe(),this.mutatedKeys=Pe(),this.Ha=Bb(e),this.Ja=new fo(this.Ha)}get Ya(){return this.Ga}Za(e,t){const s=t?t.Xa:new IE,o=t?t.Ja:this.Ja;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const w=o.get(v),x=hf(this.query,b)?b:null,D=!!w&&this.mutatedKeys.has(w.key),K=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let U=!1;w&&x?w.data.isEqual(x.data)?D!==K&&(s.track({type:3,doc:x}),U=!0):this.eu(w,x)||(s.track({type:2,doc:x}),U=!0,(p&&this.Ha(x,p)>0||g&&this.Ha(x,g)<0)&&(m=!0)):!w&&x?(s.track({type:0,doc:x}),U=!0):w&&!x&&(s.track({type:1,doc:w}),U=!0,(p||g)&&(m=!0)),U&&(x?(h=h.add(x),u=K?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{Ja:h,Xa:s,Cs:m,mutatedKeys:u}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const h=e.Xa.ga();h.sort((v,b)=>function(x,D){const K=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:U})}};return K(x)-K(D)}(v.type,b.type)||this.Ha(v.doc,b.doc)),this.tu(s),o=o!=null&&o;const m=t&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,h.length!==0||g?{snapshot:new Eo(this.query,e.Ja,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new IE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Pe(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const t=[];return e.forEach(s=>{this.ja.has(s)||t.push(new Tw(s))}),this.ja.forEach(s=>{e.has(s)||t.push(new Ew(s))}),t}su(e){this.Ga=e.$s,this.ja=Pe();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Eo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const _g="SyncEngine";class nO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class iO{constructor(e){this.key=e,this._u=!1}}class rO{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.au={},this.uu=new la(m=>jb(m),cf),this.cu=new Map,this.lu=new Set,this.hu=new ot(pe.comparator),this.Pu=new Map,this.Tu=new rg,this.Iu={},this.Eu=new Map,this.du=vo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function sO(i,e,t=!0){const s=Iw(i);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await bw(s,e,t,!0),o}async function aO(i,e){const t=Iw(i);await bw(t,e,!0,!1)}async function bw(i,e,t,s){const o=await RD(i.localStore,bi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await oO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&mw(i.remoteStore,o),m}async function oO(i,e,t,s,o){i.Ru=(b,w,x)=>async function(K,U,Q,ie){let W=U.view.Za(Q);W.Cs&&(W=await TE(K.localStore,U.query,!1).then(({documents:k})=>U.view.Za(k,W)));const le=ie&&ie.targetChanges.get(U.targetId),he=ie&&ie.targetMismatches.get(U.targetId)!=null,ve=U.view.applyChanges(W,K.isPrimaryClient,le,he);return DE(K,U.targetId,ve.ru),ve.snapshot}(i,b,w,x);const u=await TE(i.localStore,e,!0),h=new tO(e,u.$s),m=h.Za(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);DE(i,t,g.ru);const v=new nO(e,t,h);return i.uu.set(e,v),i.cu.has(t)?i.cu.get(t).push(e):i.cu.set(t,[e]),g.snapshot}async function lO(i,e,t){const s=Se(i),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(h=>!cf(h,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&lg(s.remoteStore,o.targetId),wp(s,o.targetId)}).catch(Ro)):(wp(s,o.targetId),await Ep(s.localStore,o.targetId,!0))}async function uO(i,e){const t=Se(i),s=t.uu.get(e),o=t.cu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),lg(t.remoteStore,s.targetId))}async function cO(i,e,t){const s=yO(i);try{const o=await function(h,m){const p=Se(h),g=Ct.now(),v=m.reduce((x,D)=>x.add(D.key),Pe());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=hr(),K=Pe();return p.Bs.getEntries(x,v).next(U=>{D=U,D.forEach((Q,ie)=>{ie.isValidDocument()||(K=K.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,D)).next(U=>{b=U;const Q=[];for(const ie of m){const W=RN(ie,b.get(ie.key).overlayedDocument);W!=null&&Q.push(new cs(ie.key,W,Db(W.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,Q,m)}).next(U=>{w=U;const Q=U.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(x,U.batchId,Q)})}).then(()=>({batchId:w.batchId,changes:qb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Iu[h.currentUser.toKey()];g||(g=new ot(Ce)),g=g.insert(m,p),h.Iu[h.currentUser.toKey()]=g}(s,o.batchId,t),await Iu(s,o.changes),await yf(s.remoteStore)}catch(o){const u=dg(o,"Failed to persist write");t.reject(u)}}async function ww(i,e){const t=Se(i);try{const s=await wD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Pu.get(u);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h._u=!0:o.modifiedDocuments.size>0?He(h._u,14607):o.removedDocuments.size>0&&(He(h._u,42227),h._u=!1))}),await Iu(t,s,e)}catch(s){await Ro(s)}}function NE(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.uu.forEach((u,h)=>{const m=h.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach((v,b)=>{for(const w of b.ya)w.Da(m)&&(g=!0)}),g&&gg(p)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hO(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Pu.get(e),u=o&&o.key;if(u){let h=new ot(pe.comparator);h=h.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Pe().add(u),p=new mf(Ae.min(),new Map,new ot(Ce),h,m);await ww(s,p),s.hu=s.hu.remove(u),s.Pu.delete(e),vg(s)}else await Ep(s.localStore,e,!1).then(()=>wp(s,e,t)).catch(Ro)}async function fO(i,e){const t=Se(i),s=e.batch.batchId;try{const o=await bD(t.localStore,e);Sw(t,s,null),Aw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(t,o)}catch(o){await Ro(o)}}async function dO(i,e,t){const s=Se(i);try{const o=await function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(He(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);Sw(s,e,t),Aw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Iu(s,o)}catch(o){await Ro(o)}}function Aw(i,e){(i.Eu.get(e)||[]).forEach(t=>{t.resolve()}),i.Eu.delete(e)}function Sw(i,e,t){const s=Se(i);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function wp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.cu.get(e))i.uu.delete(s),t&&i.au.Vu(s,t);i.cu.delete(e),i.isPrimaryClient&&i.Tu.Hr(e).forEach(s=>{i.Tu.containsKey(s)||Rw(i,s)})}function Rw(i,e){i.lu.delete(e.path.canonicalString());const t=i.hu.get(e);t!==null&&(lg(i.remoteStore,t),i.hu=i.hu.remove(e),i.Pu.delete(t),vg(i))}function DE(i,e,t){for(const s of t)s instanceof Ew?(i.Tu.addReference(s.key,e),mO(i,s)):s instanceof Tw?(ue(_g,"Document no longer in limbo: "+s.key),i.Tu.removeReference(s.key,e),i.Tu.containsKey(s.key)||Rw(i,s.key)):Te(19791,{mu:s})}function mO(i,e){const t=e.key,s=t.path.canonicalString();i.hu.get(t)||i.lu.has(s)||(ue(_g,"New document in limbo: "+t),i.lu.add(s),vg(i))}function vg(i){for(;i.lu.size>0&&i.hu.size<i.maxConcurrentLimboResolutions;){const e=i.lu.values().next().value;i.lu.delete(e);const t=new pe(tt.fromString(e)),s=i.du.next();i.Pu.set(s,new iO(t)),i.hu=i.hu.insert(t,s),mw(i.remoteStore,new Qr(bi(uf(t.path)),s,"TargetPurposeLimboResolution",af.le))}}async function Iu(i,e,t){const s=Se(i),o=[],u=[],h=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{h.push(s.Ru(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=ag.Rs(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.au.j_(o),await async function(p,g){const v=Se(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>te.forEach(g,w=>te.forEach(w.ds,x=>v.persistence.referenceDelegate.addReference(b,w.targetId,x)).next(()=>te.forEach(w.As,x=>v.persistence.referenceDelegate.removeReference(b,w.targetId,x)))))}catch(b){if(!Io(b))throw b;ue(og,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const x=v.xs.get(w),D=x.snapshotVersion,K=x.withLastLimboFreeSnapshotVersion(D);v.xs=v.xs.insert(w,K)}}}(s.localStore,u))}async function pO(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){ue(_g,"User change. New user:",e.toKey());const s=await cw(t.localStore,e);t.currentUser=e,function(u,h){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new ce(ee.CANCELLED,h))})}),u.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(t,s.ks)}}function gO(i,e){const t=Se(i),s=t.Pu.get(e);if(s&&s._u)return Pe().add(s.key);{let o=Pe();const u=t.cu.get(e);if(!u)return o;for(const h of u){const m=t.uu.get(h);o=o.unionWith(m.view.Ya)}return o}}function Iw(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ww.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hO.bind(null,e),e.au.j_=JD.bind(null,e.eventManager),e.au.Vu=eO.bind(null,e.eventManager),e}function yO(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return TD(this.persistence,new _D,e.initialUser,this.serializer)}yu(e){return new uw(sg.fi,this.serializer)}pu(e){return new CD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class _O extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){He(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iD(s,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new uw(s=>qh.fi(s,t),this.serializer)}}class Ap{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>NE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,this.syncEngine),await XD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZD}()}createDatastore(e){const t=pf(e.databaseInfo.databaseId),s=function(u){return new kD(u)}(e.databaseInfo);return function(u,h,m,p){return new UD(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new jD(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>NE(this.syncEngine,t,0),function(){return AE.C()?new AE:new xD}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,v){const b=new rO(o,u,h,m,p,g);return v&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ue(ia,"RemoteStore shutting down."),u.Ta.add(5),await Ru(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ap.provider={build:()=>new Ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class vO{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=Tb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(ss,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(ss,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=dg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Qm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ss,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await cw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function OE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await EO(i);ue(ss,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>RE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>RE(e.remoteStore,o)),i._onlineComponents=e}async function EO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ss,"Using user provided OfflineComponentProvider");try{await Qm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),await Qm(i,new Fh)}}else ue(ss,"Using default OfflineComponentProvider"),await Qm(i,new _O(void 0));return i._offlineComponents}async function Cw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ss,"Using user provided OnlineComponentProvider"),await OE(i,i._uninitializedComponentsProvider._online)):(ue(ss,"Using default OnlineComponentProvider"),await OE(i,new Ap))),i._onlineComponents}function TO(i){return Cw(i).then(e=>e.syncEngine)}async function Gh(i){const e=await Cw(i),t=e.eventManager;return t.onListen=sO.bind(null,e.syncEngine),t.onUnlisten=lO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uO.bind(null,e.syncEngine),t}function bO(i,e,t={}){const s=new sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Eg({next:w=>{v.Cu(),h.enqueueAndForget(()=>pg(u,b));const x=w.docs.has(m);!x&&w.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new yg(uf(m.path),v,{includeMetadataChanges:!0,La:!0});return mg(u,b)}(await Gh(i),i.asyncQueue,e,t,s)),s.promise}function wO(i,e,t={}){const s=new sr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new Eg({next:w=>{v.Cu(),h.enqueueAndForget(()=>pg(u,b)),w.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new yg(m,v,{includeMetadataChanges:!0,La:!0});return mg(u,b)}(await Gh(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(i,e,t){if(!t)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function AO(i,e,t,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function PE(i){if(!pe.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ME(i){if(pe.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function _f(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function An(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_f(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firestore.googleapis.com",VE=!0;class UE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Dw,this.ssl=VE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:VE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tD)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Dx;switch(s.type){case"firstParty":return new Mx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=kE.get(t);s&&(ue("ComponentProvider","Removing Datastore"),kE.delete(t),s.terminate())}(this),Promise.resolve()}}function SO(i,e,t,s={}){var o;i=An(i,vf);const u=aa(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;u&&(kp(`https://${p}`),Pp("Firestore",!0)),h.host!==Dw&&h.host!==p&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Zs(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=Xt.MOCK_USER;else{v=AT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xt(w)}i._authCredentials=new Ox(new vb(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fr(this.firestore,e,this._query)}}class Zt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Zr extends fr{constructor(e,t,s){super(e,t,uf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new pe(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function ra(i,e,...t){if(i=et(i),Nw("collection","path",e),i instanceof vf){const s=tt.fromString(e,...t);return ME(s),new Zr(i,null,s)}{if(!(i instanceof Zt||i instanceof Zr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return ME(s),new Zr(i.firestore,null,s)}}function Cu(i,e,...t){if(i=et(i),arguments.length===1&&(e=Tb.newId()),Nw("doc","path",e),i instanceof vf){const s=tt.fromString(e,...t);return PE(s),new Zt(i,null,new pe(s))}{if(!(i instanceof Zt||i instanceof Zr))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return PE(s),new Zt(i.firestore,i instanceof Zr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new fw(this,"async_queue_retry"),this.ec=()=>{const s=Ym();s&&ue(LE,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const t=Ym();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Ym();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new sr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Io(e))throw e;ue(LE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,cr("INTERNAL UNHANDLED ERROR: ",BE(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=t,t}enqueueAfterDelay(e,t,s){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const o=fg.createAndSchedule(this,e,t,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Te(47125,{_c:BE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function BE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class as extends vf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new jE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function RO(i,e){const t=typeof i=="object"?i:Up(),s=typeof i=="string"?i:Vh,o=tf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TT("firestore");u&&SO(o,...u)}return o}function Ef(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||IO(i),i._firestoreClient}function IO(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,v){return new Xx(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,xw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new vO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(Gt.fromBase64String(e))}catch(t){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new To(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^__.*__$/;class xO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Au(e,this.data,t,this.fieldTransforms)}}class Ow{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{hc:i})}}class wg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Kh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(kw(this.hc)&&CO.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class NO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pf(e)}gc(e,t,s,o=!1){return new wg({hc:e,methodName:t,fc:s,path:Ft.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wf(i){const e=i._freezeSettings(),t=pf(i._databaseId);return new NO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Pw(i,e,t,s,o,u={}){const h=i.gc(u.merge||u.mergeFields?2:0,e,t,o);Sg("Data must be an object, but it was:",h,s);const m=Mw(s,h);let p,g;if(u.merge)p=new bn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const w=Sp(e,b,t);if(!h.contains(w))throw new ce(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Uw(v,w)||v.push(w)}p=new bn(v),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new xO(new hn(m),p,g)}class Af extends bf{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Af}}class Ag extends bf{_toFieldTransform(e){return new bN(e.path,new fu)}isEqual(e){return e instanceof Ag}}function DO(i,e,t,s){const o=i.gc(1,e,t);Sg("Data must be an object, but it was:",o,s);const u=[],h=hn.empty();us(s,(p,g)=>{const v=Rg(e,p,t);g=et(g);const b=o.Ac(v);if(g instanceof Af)u.push(v);else{const w=xu(g,b);w!=null&&(u.push(v),h.set(v,w))}});const m=new bn(u);return new Ow(h,m,o.fieldTransforms)}function OO(i,e,t,s,o,u){const h=i.gc(1,e,t),m=[Sp(e,s,t)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Sp(e,u[w])),p.push(u[w+1]);const g=[],v=hn.empty();for(let w=m.length-1;w>=0;--w)if(!Uw(g,m[w])){const x=m[w];let D=p[w];D=et(D);const K=h.Ac(x);if(D instanceof Af)g.push(x);else{const U=xu(D,K);U!=null&&(g.push(x),v.set(x,U))}}const b=new bn(g);return new Ow(v,b,h.fieldTransforms)}function kO(i,e,t,s=!1){return xu(t,i.gc(s?4:3,e))}function xu(i,e){if(Vw(i=et(i)))return Sg("Unsupported field value:",e,i),Mw(i,e);if(i instanceof bf)return function(s,o){if(!kw(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=xu(m,o.Rc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ct.fromDate(s);return{timestampValue:zh(o.serializer,u)}}if(s instanceof Ct){const u=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(s instanceof Tg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:tw(o.serializer,s._byteString)};if(s instanceof Zt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Vc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ig(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bg)return function(h,m){return{mapValue:{fields:{[xb]:{stringValue:Nb},[Uh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return eg(m.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${_f(s)}`)}(i,e)}function Mw(i,e){const t={};return wb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,(s,o)=>{const u=xu(o,e.Ic(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function Vw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ct||i instanceof Tg||i instanceof To||i instanceof Zt||i instanceof bf||i instanceof bg)}function Sg(i,e,t){if(!Vw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=_f(t);throw s==="an object"?e.Vc(i+" a custom object"):e.Vc(i+" "+s)}}function Sp(i,e,t){if((e=et(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return Rg(i,e);throw Kh("Field path arguments must be of type string or ",i,!1,void 0,t)}const PO=new RegExp("[~\\*/\\[\\]]");function Rg(i,e,t){if(e.search(PO)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Tf(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Kh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+i+p)}function Uw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MO extends Lw{data(){return super.data()}}function Sf(i,e){return typeof e=="string"?Rg(i,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class Cg extends Ig{}function Nu(i,e,...t){let s=[];e instanceof Ig&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof xg).length,m=u.filter(p=>p instanceof Rf).length;if(h>1||h>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Rf extends Cg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Rf(e,t,s)}_apply(e){const t=this._parse(e);return zw(e._query,t),new fr(e.firestore,e.converter,pp(e._query,t))}_parse(e){const t=wf(e.firestore);return function(u,h,m,p,g,v,b){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){HE(b,v);const D=[];for(const K of b)D.push(qE(p,u,K));w={arrayValue:{values:D}}}else w=qE(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||HE(b,v),w=kO(m,h,b,v==="in"||v==="not-in");return bt.create(g,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Bw(i,e,t){const s=e,o=Sf("where",i);return Rf._create(o,s,t)}class xg extends Ig{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new xg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)zw(h,p),h=pp(h,p)}(e._query,t),new fr(e.firestore,e.converter,pp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ng extends Cg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ng(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,h)}(e._query,this._field,this._direction);return new fr(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Co(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function If(i,e="asc"){const t=e,s=Sf("orderBy",i);return Ng._create(s,t)}class Dg extends Cg{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Dg(e,t,s)}_apply(e){return new fr(e.firestore,e.converter,jh(e._query,this._limit,this._limitType))}}function VO(i){return Dg._create("limit",i,"F")}function qE(i,e,t){if(typeof(t=et(t))=="string"){if(t==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lb(e)&&t.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!pe.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nE(i,new pe(s))}if(t instanceof Zt)return nE(i,t._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(t)}.`)}function HE(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zw(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class UO{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return us(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new bg(u)}convertGeoPoint(e){return new Tg(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=lf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const t=ts(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);He(ow(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hw extends Lw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ah extends Hw{data(e={}){return super.data(e)}}class Fw{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ah(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:LO(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(i){i=An(i,Zt);const e=An(i.firestore,as);return bO(Ef(e),i._key).then(t=>$w(e,i,t))}class Og extends UO{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function kg(i){i=An(i,fr);const e=An(i.firestore,as),t=Ef(e),s=new Og(e);return jw(i._query),wO(t,i._query).then(o=>new Fw(e,s,i,o))}function Kw(i,e,t){i=An(i,Zt);const s=An(i.firestore,as),o=qw(i.converter,e);return Pg(s,[Pw(wf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Qn.none())])}function jO(i,e,t,...s){i=An(i,Zt);const o=An(i.firestore,as),u=wf(o);let h;return h=typeof(e=et(e))=="string"||e instanceof Tf?OO(u,"updateDoc",i._key,e,t,s):DO(u,"updateDoc",i._key,e),Pg(o,[h.toMutation(i._key,Qn.exists(!0))])}function Yw(i,e){const t=An(i.firestore,as),s=Cu(i),o=qw(i.converter,e);return Pg(t,[Pw(wf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function Qw(i,...e){var t,s,o;i=et(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||zE(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(zE(e[h])){const b=e[h];e[h]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[h+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[h+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,v;if(i instanceof Zt)g=An(i.firestore,as),v=uf(i._key.path),p={next:b=>{e[h]&&e[h]($w(g,i,b))},error:e[h+1],complete:e[h+2]};else{const b=An(i,fr);g=An(b.firestore,as),v=b._query;const w=new Og(g);p={next:x=>{e[h]&&e[h](new Fw(g,w,b,x))},error:e[h+1],complete:e[h+2]},jw(i._query)}return function(w,x,D,K){const U=new Eg(K),Q=new yg(x,U,D);return w.asyncQueue.enqueueAndForget(async()=>mg(await Gh(w),Q)),()=>{U.Cu(),w.asyncQueue.enqueueAndForget(async()=>pg(await Gh(w),Q))}}(Ef(g),v,m,p)}function Pg(i,e){return function(s,o){const u=new sr;return s.asyncQueue.enqueueAndForget(async()=>cO(await TO(s),o,u)),u.promise}(Ef(i),e)}function $w(i,e,t){const s=t.docs.get(e._key),o=new Og(i);return new Hw(i,o,e._key,s,new Xl(t.hasPendingWrites,t.fromCache),e.converter)}function Yh(){return new Ag("serverTimestamp")}(function(e,t=!0){(function(o){So=o})(oa),Js(new Jr("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new as(new kx(s.getProvider("auth-internal")),new Vx(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),vi(F0,G0,e),vi(F0,G0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firebasestorage.googleapis.com",Ww="storageBucket",BO=2*60*1e3,zO=10*60*1e3,qO=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends Ii{constructor(e,t,s=0){super($m(e),`Firebase Storage: ${t} (${$m(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nt||(nt={}));function $m(i){return"storage/"+i}function Mg(){const i="An unknown error occurred, please check the error payload for server response.";return new lt(nt.UNKNOWN,i)}function HO(i){return new lt(nt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function FO(i){return new lt(nt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(nt.UNAUTHENTICATED,i)}function KO(){return new lt(nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YO(i){return new lt(nt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Zw(){return new lt(nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jw(){return new lt(nt.CANCELED,"User canceled the upload/download.")}function QO(i){return new lt(nt.INVALID_URL,"Invalid URL '"+i+"'.")}function $O(i){return new lt(nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function XO(){return new lt(nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ww+"' property when initializing the app?")}function e1(){return new lt(nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WO(){return new lt(nt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ZO(){return new lt(nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function JO(i){return new lt(nt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rp(i){return new lt(nt.INVALID_ARGUMENT,i)}function t1(){return new lt(nt.APP_DELETED,"The Firebase app was deleted.")}function e4(i){return new lt(nt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(i,e){return new lt(nt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Fl(i){throw new lt(nt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=wn.makeFromUrl(e,t)}catch{return new wn(e,"")}if(s.path==="")return s;throw $O(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${v}/b/${o}/o${w}`,"i"),D={bucket:1,path:3},K=t===Xw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",Q=new RegExp(`^https?://${K}/${o}/${U}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:x,indices:D,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<W.length;le++){const he=W[le],ve=he.regex.exec(e);if(ve){const k=ve[he.indices.bucket];let S=ve[he.indices.path];S||(S=""),s=new wn(k,S),he.postModify(s);break}}if(s==null)throw QO(e);return s}}class t4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function v(...U){g||(g=!0,e.apply(null,U))}function b(U){o=setTimeout(()=>{o=null,i(x,p())},U)}function w(){u&&clearTimeout(u)}function x(U,...Q){if(g){w();return}if(U){w(),v.call(null,U,...Q);return}if(p()||h){w(),v.call(null,U,...Q);return}s<64&&(s*=2);let W;m===1?(m=2,W=0):W=(s+Math.random())*1e3,b(W)}let D=!1;function K(U){D||(D=!0,w(),!g&&(o!==null?(U||(m=2),clearTimeout(o),b(0)):U||(m=1)))}return b(0),u=setTimeout(()=>{h=!0,K(!0)},t),K}function i4(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(i){return i!==void 0}function s4(i){return typeof i=="function"}function a4(i){return typeof i=="object"&&!Array.isArray(i)}function Cf(i){return typeof i=="string"||i instanceof String}function FE(i){return Vg()&&i instanceof Blob}function Vg(){return typeof Blob<"u"}function GE(i,e,t,s){if(s<e)throw Rp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Rp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function n1(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ws;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ws||(Ws={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,t,s,o,u,h,m,p,g,v,b,w=!0,x=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,K)=>{this.resolve_=D,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new hh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Ws.NO_ERROR,p=u.getStatus();if(!m||i1(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Ws.ABORT;s(!1,new hh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new hh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());r4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Mg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?t1():Jw();h(p)}else{const p=Zw();h(p)}};this.canceled_?t(!1,new hh(!1,null,!0)):this.backoffId_=n4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function l4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function u4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function h4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function f4(i,e,t,s,o,u,h=!0,m=!1){const p=n1(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return c4(v,e),l4(v,t),u4(v,u),h4(v,s),new o4(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m4(...i){const e=d4();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Vg())return new Blob(i);throw new lt(nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function p4(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(i){if(typeof atob>"u")throw JO("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xm{constructor(e,t){this.data=e,this.contentType=t||null}}function y4(i,e){switch(i){case _i.RAW:return new Xm(r1(e));case _i.BASE64:case _i.BASE64URL:return new Xm(s1(i,e));case _i.DATA_URL:return new Xm(v4(e),E4(e))}throw Mg()}function r1(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function _4(i){let e;try{e=decodeURIComponent(i)}catch{throw iu(_i.DATA_URL,"Malformed data URL.")}return r1(e)}function s1(i,e){switch(i){case _i.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw iu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case _i.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw iu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=g4(e)}catch(o){throw o.message.includes("polyfill")?o:iu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class a1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw iu(_i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=T4(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function v4(i){const e=new a1(i);return e.base64?s1(_i.BASE64,e.rest):_4(e.rest)}function E4(i){return new a1(i).contentType}function T4(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t){let s=0,o="";FE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(FE(this.data_)){const s=this.data_,o=p4(s,e,t);return o===null?null:new Yr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Yr(s,!0)}}static getBlob(...e){if(Vg()){const t=e.map(s=>s instanceof Yr?s.data_:s);return new Yr(m4.apply(null,t))}else{const t=e.map(h=>Cf(h)?y4(_i.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Yr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(i){let e;try{e=JSON.parse(i)}catch{return null}return a4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function w4(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function l1(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(i,e){return e}class sn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||A4}}let fh=null;function S4(i){return!Cf(i)||i.length<2?i:l1(i)}function u1(){if(fh)return fh;const i=[];i.push(new sn("bucket")),i.push(new sn("generation")),i.push(new sn("metageneration")),i.push(new sn("name","fullPath",!0));function e(u,h){return S4(h)}const t=new sn("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new sn("size");return o.xform=s,i.push(o),i.push(new sn("timeCreated")),i.push(new sn("updated")),i.push(new sn("md5Hash",null,!0)),i.push(new sn("cacheControl",null,!0)),i.push(new sn("contentDisposition",null,!0)),i.push(new sn("contentEncoding",null,!0)),i.push(new sn("contentLanguage",null,!0)),i.push(new sn("contentType",null,!0)),i.push(new sn("metadata","customMetadata",!0)),fh=i,fh}function R4(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new wn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function I4(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return R4(s,i),s}function c1(i,e,t){const s=o1(e);return s===null?null:I4(i,s,t)}function C4(i,e,t,s){const o=o1(e);if(o===null||!Cf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const v=i.bucket,b=i.fullPath,w="/b/"+h(v)+"/o/"+h(b),x=Du(w,t,s),D=n1({alt:"media",token:g});return x+D})[0]}function h1(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class No{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(i){if(!i)throw Mg()}function Ug(i,e){function t(s,o){const u=c1(i,o,e);return ar(u!==null),u}return t}function x4(i,e){function t(s,o){const u=c1(i,o,e);return ar(u!==null),C4(u,o,i.host,i._protocol)}return t}function Ou(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=KO():o=GO():t.getStatus()===402?o=FO(i.bucket):t.getStatus()===403?o=YO(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function f1(i){const e=Ou(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=HO(i.path)),u.serverResponse=o.serverResponse,u}return t}function N4(i,e,t){const s=e.fullServerUrl(),o=Du(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new No(o,u,Ug(i,t),h);return m.errorHandler=f1(e),m}function D4(i,e,t){const s=e.fullServerUrl(),o=Du(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new No(o,u,x4(i,t),h);return m.errorHandler=f1(e),m}function O4(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function d1(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=O4(null,e)),s}function k4(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let W="";for(let le=0;le<2;le++)W=W+Math.random().toString().slice(2);return W}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=d1(e,s,o),v=h1(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",x=Yr.getBlob(b,s,w);if(x===null)throw e1();const D={name:g.fullPath},K=Du(u,i.host,i._protocol),U="POST",Q=i.maxUploadRetryTime,ie=new No(K,U,Ug(i,t),Q);return ie.urlParams=D,ie.headers=h,ie.body=x.uploadData(),ie.errorHandler=Ou(e),ie}class Qh{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function Lg(i,e){let t=null;try{t=i.getResponseHeader("X-Goog-Upload-Status")}catch{ar(!1)}return ar(!!t&&(e||["active"]).indexOf(t)!==-1),t}function P4(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h=d1(e,s,o),m={name:h.fullPath},p=Du(u,i.host,i._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},b=h1(h,t),w=i.maxUploadRetryTime;function x(K){Lg(K);let U;try{U=K.getResponseHeader("X-Goog-Upload-URL")}catch{ar(!1)}return ar(Cf(U)),U}const D=new No(p,g,x,w);return D.urlParams=m,D.headers=v,D.body=b,D.errorHandler=Ou(e),D}function M4(i,e,t,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const v=Lg(g,["active","final"]);let b=null;try{b=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ar(!1)}b||ar(!1);const w=Number(b);return ar(!isNaN(w)),new Qh(w,s.size(),v==="final")}const h="POST",m=i.maxUploadRetryTime,p=new No(t,h,u,m);return p.headers=o,p.errorHandler=Ou(e),p}const KE=256*1024;function V4(i,e,t,s,o,u,h,m){const p=new Qh(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw WO();const g=p.total-p.current;let v=g;o>0&&(v=Math.min(v,o));const b=p.current,w=b+v;let x="";v===0?x="finalize":g===v?x="upload, finalize":x="upload";const D={"X-Goog-Upload-Command":x,"X-Goog-Upload-Offset":`${p.current}`},K=s.slice(b,w);if(K===null)throw e1();function U(le,he){const ve=Lg(le,["active","final"]),k=p.current+v,S=s.size();let I;return ve==="final"?I=Ug(e,u)(le,he):I=null,new Qh(k,S,ve==="final",I)}const Q="POST",ie=e.maxUploadRetryTime,W=new No(t,Q,U,ie);return W.headers=D,W.body=K.uploadData(),W.progressCallback=m||null,W.errorHandler=Ou(i),W}const cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wm(i){switch(i){case"running":case"pausing":case"canceling":return cn.RUNNING;case"paused":return cn.PAUSED;case"success":return cn.SUCCESS;case"canceled":return cn.CANCELED;case"error":return cn.ERROR;default:return cn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,t,s){if(s4(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class L4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ws.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ws.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ws.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw Fl("cannot .send() more than once");if(aa(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class j4 extends L4{initXhr(){this.xhr_.responseType="text"}}function oo(){return new j4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=u1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(nt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(i1(o.status,[]))if(u)o=Zw();else{this.sleepTime=Math.max(this.sleepTime*2,qO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(nt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=P4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,oo,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=M4(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,oo,t,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=KE*this._chunkMultiplier,t=new Qh(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=V4(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,oo,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){KE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=N4(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,oo,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=k4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,oo,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Jw(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Wm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const u=new U4(t||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Wm(this._state)){case cn.SUCCESS:no(this._resolve.bind(null,this.snapshot))();break;case cn.CANCELED:case cn.ERROR:const t=this._reject;no(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Wm(this._state)){case cn.RUNNING:case cn.PAUSED:e.next&&no(e.next.bind(e,this.snapshot))();break;case cn.SUCCESS:e.complete&&no(e.complete.bind(e))();break;case cn.CANCELED:case cn.ERROR:e.error&&no(e.error.bind(e,this._error))();break;default:e.error&&no(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sa(e,t)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l1(this._location.path)}get storage(){return this._service}get parent(){const e=b4(this._location.path);if(e===null)return null;const t=new wn(this._location.bucket,e);return new sa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw e4(e)}}function z4(i,e,t){return i._throwIfRoot("uploadBytesResumable"),new B4(i,new Yr(e),t)}function q4(i){i._throwIfRoot("getDownloadURL");const e=D4(i.storage,i._location,u1());return i.storage.makeRequestWithTokens(e,oo).then(t=>{if(t===null)throw ZO();return t})}function H4(i,e){const t=w4(i._location.path,e),s=new wn(i._location.bucket,t);return new sa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(i){return/^[A-Za-z]+:\/\//.test(i)}function G4(i,e){return new sa(i,e)}function m1(i,e){if(i instanceof jg){const t=i;if(t._bucket==null)throw XO();const s=new sa(t,t._bucket);return e!=null?m1(s,e):s}else return e!==void 0?H4(i,e):i}function K4(i,e){if(e&&F4(e)){if(i instanceof jg)return G4(i,e);throw Rp("To use ref(service, url), the first argument must be a Storage instance.")}else return m1(i,e)}function YE(i,e){const t=e==null?void 0:e[Ww];return t==null?null:wn.makeFromBucketSpec(t,i)}function Y4(i,e,t,s={}){i.host=`${e}:${t}`;const o=aa(e);o&&(kp(`https://${i.host}`),Pp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:AT(u,i.app.options.projectId))}class jg{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Xw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BO,this._maxUploadRetryTime=zO,this._requests=new Set,o!=null?this._bucket=wn.makeFromBucketSpec(o,this._host):this._bucket=YE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=YE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sa(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new t4(t1());{const h=f4(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const QE="@firebase/storage",$E="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="storage";function Q4(i,e,t){return i=et(i),z4(i,e,t)}function $4(i){return i=et(i),q4(i)}function X4(i,e){return i=et(i),K4(i,e)}function W4(i=Up(),e){i=et(i);const s=tf(i,p1).getImmediate({identifier:e}),o=TT("storage");return o&&Z4(s,...o),s}function Z4(i,e,t,s={}){Y4(i,e,t,s)}function J4(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new jg(t,s,o,e,oa)}function e3(){Js(new Jr(p1,J4,"PUBLIC").setMultipleInstances(!0)),vi(QE,$E,""),vi(QE,$E,"esm2017")}e3();const t3={apiKey:"AIzaSyBGU1brmBE4rJZ98yZURMAGAxZAIl7BFZs",authDomain:"bcstudentmart.firebaseapp.com",projectId:"bcstudentmart",storageBucket:"bcstudentmart.firebasestorage.app",messagingSenderId:"713637857662",appId:"1:713637857662:web:f16e0b615b6cfa8d260b2f",measurementId:"G-LSJYHJDN8C"},Bg=IT(t3),Yn=hb(Bg),$n=RO(Bg),n3=W4(Bg,"gs://bcstudentmart.firebasestorage.app"),g1=F.createContext(),i3=({children:i})=>{const[e,t]=F.useState(null);return F.useEffect(()=>{const s=y2(Yn,o=>{t(o)});return()=>s()},[]),R.jsx(g1.Provider,{value:{user:e,isLoggedIn:!!e},children:i})},Do=()=>F.useContext(g1);var y1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XE=Xs.createContext&&Xs.createContext(y1),r3=["attr","size","title"];function s3(i,e){if(i==null)return{};var t=a3(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function a3(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function $h(){return $h=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},$h.apply(this,arguments)}function WE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Xh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(t),!0).forEach(function(s){o3(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):WE(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function o3(i,e,t){return e=l3(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function l3(i){var e=u3(i,"string");return typeof e=="symbol"?e:e+""}function u3(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function _1(i){return i&&i.map((e,t)=>Xs.createElement(e.tag,Xh({key:t},e.attr),_1(e.child)))}function ku(i){return e=>Xs.createElement(c3,$h({attr:Xh({},i.attr)},e),_1(i.child))}function c3(i){var e=t=>{var{attr:s,size:o,title:u}=i,h=s3(i,r3),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),Xs.createElement("svg",$h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Xh(Xh({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Xs.createElement("title",null,u),i.children)};return XE!==void 0?Xs.createElement(XE.Consumer,null,t=>e(t)):e(y1)}function h3(i){return ku({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(i)}function f3(i){return ku({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(i)}function d3(i){return ku({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(i)}function m3(i){return ku({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(i)}function p3(i){return ku({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(i)}const g3=()=>{const[i,e]=F.useState(!1),t=()=>{alert("Something went wrong when trying dark mode"),e(!i)};return R.jsx("div",{onClick:t,className:`w-16 h-9 flex items-center rounded-full px-1 cursor-pointer transition-colors duration-300
        ${i?"bg-gray-700":"bg-white"}`,children:R.jsx("div",{className:`w-7 h-7 bg-white rounded-full shadow-md flex items-center justify-center transform transition-transform duration-300
          ${i?"translate-x-7":"translate-x-0"}`,children:i?R.jsx(m3,{className:"text-gray-700 text-sm"}):R.jsx(p3,{className:"text-yellow-500 text-sm"})})})},y3=()=>{const[i,e]=F.useState(!1),t=F.useRef(null),s=Ln(),{user:o,isLoggedIn:u}=Do(),h=()=>e(!i),m=async()=>{await Gp(Yn),s("/")};return F.useEffect(()=>{const p=g=>{t.current&&!t.current.contains(g.target)&&e(!1)};return i&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[i]),R.jsxs(R.Fragment,{children:[R.jsx("nav",{className:"bg-[#8A1538] drop-shadow-2xl z-50 px-6 py-5",children:R.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between text-sm font-medium text-gray-800",children:[R.jsxs("button",{onClick:h,className:"flex flex-col gap-[5px] p-2 hover:text-[#7D1431] focus:outline-none",children:[R.jsx("span",{className:"w-7 h-[3px] bg-[#f8edf0] rounded"}),R.jsx("span",{className:"w-7 h-[3px] bg-[#f8edf0] rounded"}),R.jsx("span",{className:"w-7 h-[3px] bg-[#f8edf0] rounded"})]}),R.jsxs("div",{className:"flex gap-4 items-center",children:[!u&&R.jsx("button",{onClick:()=>s("/login"),className:"px-4 py-2 border border-[#f8edf0] text-[#f8edf0] rounded-lg hover:bg-[#7D1431] hover:text-white transition",children:"Login"}),u&&R.jsx("button",{onClick:m,className:"px-4 py-2 border border-white text-white rounded-lg hover:bg-[#6d0f2e] transition",children:"Logout"}),R.jsx(g3,{})]})]})}),R.jsxs("div",{ref:t,className:`fixed top-0 left-0 z-40 h-full w-64 bg-gray-100 shadow-md border-r border-gray-300 transition-transform duration-300 ${i?"translate-x-0":"-translate-x-full"}`,children:[R.jsxs("div",{className:"p-4 border-b border-gray-300 flex justify-between items-center",children:[R.jsx("a",{href:"/",className:"text-[#7D1431] font-bold text-lg",children:"📘 BCStudentMart"}),R.jsx("button",{onClick:h,className:"text-xl font-bold text-[#7D1431] hover:text-[#5a0f24]",children:"×"})]}),R.jsxs("div",{className:"flex flex-col",children:[R.jsx("button",{onClick:()=>{s(u?"/marketplace":"/login"),e(!1)},className:"px-5 py-3 text-left hover:bg-gray-200 text-[#7D1431] border-b border-gray-300",children:"View Marketplace"}),R.jsx("button",{onClick:()=>{s(u?"/post-book":"/login"),e(!1)},className:"px-5 py-3 text-left hover:bg-gray-200 text-[#7D1431] border-b border-gray-300",children:"Sell Item"}),u&&R.jsx("button",{onClick:()=>{s(`/user-profile/${o.uid}`),e(!1)},className:"px-5 py-3 text-left hover:bg-gray-200 text-[#7D1431] border-b border-gray-300",children:"Profile"}),R.jsx("button",{onClick:()=>{s("/messages"),e(!1)},className:"px-5 py-3 text-left hover:bg-gray-200 text-[#7D1431] border-b border-gray-300",children:"Inbox"}),R.jsx("button",{onClick:()=>{s("/faculty"),e(!1)},className:"px-5 py-3 text-left hover:bg-gray-200 text-[#7D1431] border-b border-gray-300",children:"Faculty"}),R.jsx("button",{onClick:()=>{s("/announcements"),e(!1)},className:"px-5 py-3 text-left font-semibold hover:bg-gray-200 text-[#7D1431] border-b border-gray-300",children:"Announcements"})]})]})]})},v1=()=>R.jsx("div",{className:"bg-[#f8edf0] py-6 px-4",children:R.jsx("div",{className:"flex justify-center mt-10 px-4 mb-8",children:R.jsxs("div",{className:"flex w-full max-w-md ",children:[R.jsx("input",{type:"text",placeholder:"Search All",className:"flex-grow border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-1 focus:ring-[#7D1431] text-sm"}),R.jsx("button",{className:"px-4 py-2 bg-[#7D1431] text-white rounded-r-lg hover:bg-[#5a0f24] transition text-sm",children:"Search"})]})})}),_3=()=>{const i=Ln(),{user:e,isLoggedIn:t}=Do();return R.jsx("div",{className:"bg-[#f8edf0]",children:R.jsxs("section",{className:`relative flex flex-col-reverse md:flex-row items-center justify-between px-6 py-12 mx-auto max-w-7xl 
  bg-white/10 backdrop-blur-md rounded-3xl shadow-xl border border-white/30 overflow-hidden z-10`,children:[R.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-yellow-400 rounded-full blur-3xl opacity-30 z-0"}),R.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-red-400 rounded-full blur-3xl opacity-30 z-0"}),R.jsxs("div",{className:"relative z-10 w-full md:w-1/2 text-center md:text-left space-y-6",children:[R.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#8A1538]",children:"Why Choose BCStudentMart?"}),R.jsx("p",{className:"text-gray-800 text-base md:text-lg",children:"BCStudentMart is your trusted campus marketplace to buy, sell, or donate items like textbooks, electronics, and dorm essentials—all in one place. Built by and for Brooklyn College students."}),!t&&R.jsx("button",{onClick:()=>i("/signup"),className:"bg-[#8A1538] text-white py-2 px-6 rounded-lg hover:bg-[#6d0f2e] transition",children:"Sign Up With Your School Credentials"}),R.jsx("p",{className:"text-sm text-gray-600 italic",children:"*No need to create another account!"})]}),R.jsx("div",{className:"relative z-10 w-full md:w-1/2 flex justify-center mb-8 md:mb-0",children:R.jsx("div",{className:"rounded-full overflow-hidden w-64 h-64 shadow-md border border-white/20",children:R.jsx("img",{src:"/cover.jpg",alt:"Students",className:"w-full h-full object-cover"})})})]})})},v3=()=>{const i=Ln(),[e,t]=F.useState(""),[s,o]=F.useState(""),[u,h]=F.useState(""),m=async g=>{g.preventDefault(),h("");try{if(!(await h2(Yn,e,s)).user.emailVerified){await Gp(Yn),h("Please verify your email before logging in.");return}i("/marketplace")}catch(v){h(v.message)}},p=async()=>{if(!e){h("Please enter your email to reset the password.");return}try{await l2(Yn,e),h("Password reset link sent! Check your inbox.")}catch(g){h(g.message)}};return R.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 pt-20 bg-[#f8f0f2] relative",children:[R.jsx("div",{className:"absolute top-4 left-4",children:R.jsx(Jh,{to:"/",children:R.jsx("img",{src:"/logo.png",alt:"BCStudentMart Logo",className:"w-28 h-auto hover:opacity-80 transition"})})}),R.jsxs("div",{className:"w-full max-w-md bg-white shadow-lg rounded-xl p-6 space-y-6",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-2xl font-bold text-[#8A1538]",children:"Log In"}),R.jsx("p",{className:"text-sm text-gray-600",children:"Use your school email to continue"})]}),R.jsxs("form",{onSubmit:m,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),R.jsx("input",{type:"email",placeholder:"yourname@bcmail.cuny.edu",value:e,onChange:g=>t(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#8A1538] outline-none",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),R.jsx("input",{type:"password",placeholder:"••••••••",value:s,onChange:g=>o(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#8A1538] outline-none",required:!0})]}),R.jsx("div",{className:"text-right",children:R.jsx("button",{type:"button",onClick:p,className:"text-sm text-[#8A1538] underline hover:text-[#6d0f2e] transition",children:"Forgot Password?"})}),R.jsx("button",{type:"submit",className:"w-full bg-[#8A1538] text-white py-2 rounded-md hover:bg-[#6d0f2e] transition",children:"Log In"}),R.jsx("p",{onClick:()=>i("/signup"),className:"text-sm text-center text-[#8A1538] underline cursor-pointer",children:"Don't have an account? Sign up"})]}),u&&R.jsx("div",{className:"text-center text-sm text-red-700 bg-red-100 border border-red-300 px-4 py-2 rounded",children:u})]})]})},E3=()=>{const i=Ln(),[e,t]=F.useState(""),[s,o]=F.useState(""),[u,h]=F.useState(""),[m,p]=F.useState(""),[g,v]=F.useState(!1),b=["@student.brooklyn.cuny.edu","@bcmail.cuny.edu","@smail.astate.edu","@gmail.com"],w=D=>b.some(K=>D.toLowerCase().endsWith(K)),x=async D=>{if(D.preventDefault(),!g){if(v(!0),p(""),!w(s)){p("Only official college email addresses are allowed."),v(!1);return}try{const U=(await c2(Yn,s,u)).user;console.log("✅ User created:",U.uid),await m2(U,{displayName:e}),console.log("✅ User profile updated with name:",e),await Kw(Cu($n,"users",U.uid),{uid:U.uid,email:U.email,username:e,profilePic:"",bio:"",conversations:[],createdAt:new Date}),console.log("✅ User data saved to Firestore"),await f2(U),console.log("✅ Verification email sent to:",U.email),await Gp(Yn),console.log("👋 User signed out to prevent verification issue"),p("✅ Verification email sent! Please check your inbox."),setTimeout(()=>i("/login"),3e3)}catch(K){console.error("❌ Signup error:",K.message),p(K.message)}finally{v(!1)}}};return R.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 pt-20 bg-[#f8edf0] relative",children:[R.jsx("div",{className:"absolute top-4 left-4",children:R.jsx(Jh,{to:"/",children:R.jsx("img",{src:"/logo.png",alt:"BCStudentMart Logo",className:"w-28 h-auto hover:opacity-80 transition"})})}),R.jsxs("div",{className:"w-full max-w-md bg-white shadow-lg rounded-xl p-6 space-y-6",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("h1",{className:"text-2xl font-bold text-[#8A1538]",children:"Sign Up"}),R.jsx("p",{className:"text-sm text-gray-600",children:"Create your student account"})]}),R.jsxs("form",{onSubmit:x,className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),R.jsx("input",{type:"text",placeholder:"Your name",value:e,onChange:D=>t(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#8A1538] outline-none",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),R.jsx("input",{type:"email",placeholder:"yourname@bcmail.cuny.edu",value:s,onChange:D=>o(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#8A1538] outline-none",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),R.jsx("input",{type:"password",placeholder:"Create a password",value:u,onChange:D=>h(D.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#8A1538] outline-none",required:!0})]}),R.jsx("button",{type:"submit",disabled:g,className:"w-full bg-[#8A1538] text-white py-2 rounded-md transition hover:bg-[#6d0f2e] disabled:opacity-50",children:g?"Signing up...":"Sign Up"}),R.jsx("p",{className:"text-xs text-center text-gray-500 italic",children:"A verification email will be sent. You’ll only need to verify once."}),R.jsx("p",{onClick:()=>i("/login"),className:"text-sm text-center text-[#8A1538] underline cursor-pointer pt-2",children:"Already have an account? Log in here."})]}),m&&R.jsx("div",{className:"text-center text-sm text-green-700 bg-green-100 border border-green-300 px-4 py-2 rounded",children:m})]})]})},xf=({book:i})=>{const e=Ln();if(!i||typeof i!="object")return R.jsx("div",{className:"bg-white p-4 rounded shadow text-red-500",children:"❌ Invalid book data"});const t=()=>{i.sellerUid?e(`/user-profile/${i.sellerUid}`):alert("⚠️ This book doesn't have seller info. It may be an older post.")};return R.jsxs("div",{onClick:t,className:"bg-white rounded-xl shadow-md overflow-hidden w-full max-w-[180px] mx-auto cursor-pointer hover:shadow-lg transition",children:[R.jsx("img",{src:i.imageURL||"https://via.placeholder.com/150x200.png?text=No+Image",alt:i.title||"Book Cover",className:"h-48 w-full object-cover"}),R.jsxs("div",{className:"p-4",children:[R.jsx("h3",{className:"font-semibold text-sm text-gray-900 line-clamp-2",children:i.title||"Untitled"}),R.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["by ",i.author||"Unknown"]}),R.jsx("p",{className:"text-[#8A1538] font-bold text-sm mt-2",children:i.price?`$${i.price}`:"No Price"})]})]})},T3=[{title:"Introduction to Algorithms",author:"Cormen et al.",price:40,imageURL:"/Introduction to Algorithms.jpg",sellerUid:"sample-user-1"},{title:"Operating Systems",author:"Silberschatz",price:30,imageURL:"/Operating Systems.jpg",sellerUid:"sample-user-2"},{title:"Clean Code",author:"Robert C. Martin",price:25,imageURL:"/Clean Code.jpg",sellerUid:"sample-user-3"},{title:"Artificial Intelligence",author:"Stuart Russell",price:35,imageURL:"/Artificial Intelligence.jpg",sellerUid:"sample-user-4"}],b3=()=>R.jsxs("section",{className:"bg-[#f8edf0] py-16 px-4",children:[R.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-10 px-4",children:[R.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-[#8A1538]",children:"Explore Popular Listings"}),R.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:"Find books that students are sharing, selling, or donating."}),R.jsxs("p",{className:"text-gray-600 mt-2 text-sm italic",children:["N.B: This Section is not real — It is an ",R.jsx("strong",{children:"#Upcoming Feature"})]})]}),R.jsxs("div",{className:"relative max-w-7xl mx-auto bg-white/10 backdrop-blur-md rounded-3xl shadow-xl border border-white/30 px-4 sm:px-6 py-8 overflow-hidden z-10",children:[R.jsx("div",{className:"absolute -top-6 -left-6 w-28 h-28 bg-yellow-300 rounded-full blur-2xl opacity-20 z-0"}),R.jsx("div",{className:"absolute -bottom-6 -right-6 w-28 h-28 bg-red-300 rounded-full blur-2xl opacity-20 z-0"}),R.jsx("div",{className:"relative z-10 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:T3.map((i,e)=>R.jsx(xf,{book:i},e))})]})]}),w3=()=>R.jsxs("footer",{className:"bg-black text-white py-10 px-4",children:[R.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-8",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-lg font-bold mb-2",children:"Brooklyn College"}),R.jsxs("p",{className:"text-sm leading-6",children:["2900 Bedford Avenue",R.jsx("br",{}),"Brooklyn, NY 11210",R.jsx("br",{}),"718.951.5000"]})]}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl font-bold mb-2",children:"📘 BCStudentMart"}),R.jsx("p",{className:"text-sm max-w-xs text-gray-300",children:"A Brooklyn College marketplace built by students, for students. Buy, sell, or donate books and essentials easily."})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold mb-3",children:"Info For"}),R.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[R.jsx("li",{children:"Prospective Students"}),R.jsx("li",{children:"Current Students"}),R.jsx("li",{children:"Alumni and Friends"}),R.jsx("li",{children:"Faculty"}),R.jsx("li",{children:"Employers"})]})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold mb-3",children:"Quick Links"}),R.jsxs("ul",{className:"space-y-1 text-sm text-gray-300",children:[R.jsx("li",{children:R.jsx("a",{href:"https://directory.cuny.edu",target:"_blank",rel:"noopener noreferrer",children:"Directory"})}),R.jsx("li",{children:R.jsx("a",{href:"https://www.cuny.edu",target:"_blank",rel:"noopener noreferrer",children:"CUNY"})}),R.jsx("li",{children:R.jsx("a",{href:"https://home.cunyfirst.cuny.edu",target:"_blank",rel:"noopener noreferrer",children:"CUNYfirst"})}),R.jsx("li",{children:R.jsx("a",{href:"https://portal.brooklyn.edu",target:"_blank",rel:"noopener noreferrer",children:"BC WebCentral"})}),R.jsx("li",{children:R.jsx("a",{href:"https://www.brooklyncollegeathletics.com",target:"_blank",rel:"noopener noreferrer",children:"Athletics"})}),R.jsx("li",{children:R.jsx("a",{href:"https://students.brooklyn.cuny.edu",target:"_blank",rel:"noopener noreferrer",children:"BC Knowledge for Students"})})]})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold mb-3",children:"Collaborate"}),R.jsxs("p",{className:"text-sm text-gray-300 mb-2",children:["Email: ",R.jsx("a",{href:"mailto:sagorsd975@gmail.com",className:"underline",children:"sagorsd975@gmail.com"})]}),R.jsxs("div",{className:"flex gap-4 text-xl",children:[R.jsx("a",{href:"https://github.com/Sagor2050",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-400",children:R.jsx(f3,{})}),R.jsx("a",{href:"www.linkedin.com/in/sdsagor",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-400",children:R.jsx(d3,{})}),R.jsx("a",{href:"https://www.facebook.com/share/154CxKFXqw/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-400",children:R.jsx(h3,{})})]})]})]}),R.jsxs("div",{className:"mt-10 border-t border-gray-700 pt-4 text-center text-xs text-gray-500",children:["© ",new Date().getFullYear()," BCStudentMart. Built with ❤️ by SD."]})]}),A3=()=>{const[i,e]=F.useState({title:"",author:"",description:"",price:"",condition:"Good"}),[t,s]=F.useState(null),[o,u]=F.useState(!1),h=g=>{e({...i,[g.target.name]:g.target.value})},m=g=>{const v=g.target.files[0];v&&v.type.startsWith("image/")?s(v):(alert("Please select a valid image file."),s(null))},p=async g=>{g.preventDefault(),u(!0),console.log("📤 Starting book post...");try{if(!t){alert("Please select an image file."),u(!1);return}if(!Yn.currentUser){alert("User not authenticated."),u(!1);return}const v=`book-images/${Date.now()}_${t.name}`,b=X4(n3,v),w=Q4(b,t);w.on("state_changed",x=>{const D=x.bytesTransferred/x.totalBytes*100;console.log(`📊 Upload is ${D.toFixed(1)}% done`)},x=>{console.error("❌ Upload error:",x.message),alert("Image upload failed: "+x.message),u(!1)},async()=>{try{const x=await $4(w.snapshot.ref);console.log("🌐 Download URL:",x),await Yw(ra($n,"books"),{...i,price:parseFloat(i.price),imageURL:x,postedBy:Yn.currentUser.uid,sellerUid:Yn.currentUser.uid,sellerName:Yn.currentUser.displayName||"Unknown Seller",timestamp:Yh()}),console.log("📚 Book added to Firestore."),alert("✅ Book posted successfully!"),e({title:"",author:"",description:"",price:"",condition:"Good"}),s(null)}catch(x){console.error("❌ Firestore save error:",x.message),alert("Failed to save book: "+x.message)}finally{u(!1),console.log("🟦 Upload process done")}})}catch(v){console.error("❌ Unexpected error:",v.message),alert("Something went wrong. Check console for details."),u(!1)}};return R.jsxs("form",{onSubmit:p,className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md space-y-4 mt-10",children:[R.jsx("h2",{className:"text-xl font-bold text-center text-[#8A1538]",children:"Post a Book / Item"}),R.jsx("input",{name:"title",placeholder:"Book Name / Item Title",value:i.title,onChange:h,required:!0,className:"w-full p-2 border rounded"}),R.jsx("input",{name:"author",placeholder:"Author / Brand",value:i.author,onChange:h,required:!0,className:"w-full p-2 border rounded"}),R.jsx("textarea",{name:"description",placeholder:"Short Description",value:i.description,onChange:h,required:!0,className:"w-full p-2 border rounded"}),R.jsx("input",{name:"price",type:"number",placeholder:"Price in USD",value:i.price,onChange:h,required:!0,className:"w-full p-2 border rounded"}),R.jsxs("select",{name:"condition",value:i.condition,onChange:h,className:"w-full p-2 border rounded",children:[R.jsx("option",{value:"New",children:"New"}),R.jsx("option",{value:"Like New",children:"Like New"}),R.jsx("option",{value:"Good",children:"Good"}),R.jsx("option",{value:"Fair",children:"Fair"})]}),R.jsx("input",{type:"file",accept:"image/*",onChange:m,className:"w-full p-2 border rounded"}),R.jsx("button",{type:"submit",disabled:o,className:"w-full bg-[#8A1538] text-white py-2 rounded hover:bg-[#6d0f2e] transition",children:o?"Uploading...":"Post Book"})]})},S3=()=>{const[i,e]=F.useState([]),{user:t,isLoggedIn:s}=Do(),o=Ln();F.useEffect(()=>{s||o("/login")},[s,o]),F.useEffect(()=>{(async()=>{try{const m=Nu(ra($n,"books"),If("timestamp","desc")),g=(await kg(m)).docs.map(v=>({id:v.id,...v.data()}));e(g)}catch(m){console.error("Error fetching books:",m)}})()},[]);const u=()=>o("/post-book");return R.jsxs("section",{className:"bg-[#f8edf0] min-h-screen py-10 px-4",children:[R.jsx(v1,{}),R.jsxs("div",{className:"max-w-7xl mx-auto",children:[R.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center mb-8",children:[R.jsx("h2",{className:"text-3xl font-bold text-[#8A1538]",children:"Marketplace"}),R.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[R.jsx("button",{onClick:u,className:"bg-[#8A1538] text-white px-4 py-2 rounded hover:bg-[#70122e] w-full sm:w-auto",children:"+ Add Item"}),t&&R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("img",{src:`https://ui-avatars.com/api/?name=${t.displayName||"User"}`,alt:"User Avatar",className:"w-8 h-8 rounded-full"}),R.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.displayName||t.email})]})]})]}),i.length===0?R.jsx("p",{className:"text-center text-gray-600",children:"No books posted yet."}):R.jsx("div",{className:"grid grid-cols-3 gap-4 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4",children:i.map(h=>R.jsx(xf,{book:h},h.id))})]})]})},R3=()=>{const[i,e]=F.useState([]),t=Ln();return F.useEffect(()=>{(async()=>{try{const o=Nu(ra($n,"books"),If("timestamp","desc"),VO(20)),h=(await kg(o)).docs.map(m=>({id:m.id,...m.data()}));e(h)}catch(o){console.error("Error fetching books:",o)}})()},[]),R.jsxs("section",{className:"bg-[#f8edf0] py-16 px-4",children:[R.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-10 px-4",children:[R.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-[#8A1538]",children:"Explore Latest Listings"}),R.jsx("button",{onClick:()=>t("/marketplace"),className:"mt-4 text-[#8A1538] font-semibold border border-[#8A1538] px-5 py-2 rounded hover:bg-[#8A1538] hover:text-white transition",children:"View All →"})]}),R.jsxs("div",{className:"relative max-w-7xl mx-auto bg-white/10 backdrop-blur-md rounded-3xl shadow-xl border border-white/30 px-4 sm:px-6 py-8 overflow-hidden z-10",children:[R.jsx("div",{className:"absolute -top-6 -left-6 w-28 h-28 bg-yellow-300 rounded-full blur-2xl opacity-20 z-0"}),R.jsx("div",{className:"absolute -bottom-6 -right-6 w-28 h-28 bg-red-300 rounded-full blur-2xl opacity-20 z-0"}),R.jsx("div",{className:"relative z-10 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:i.length===0?R.jsx("p",{className:"col-span-full text-center text-gray-500",children:"No listings available right now."}):i.map(s=>R.jsx(xf,{book:s},s.id))})]})]})},I3=(i,e)=>[i,e].sort().join("_"),C3=async(i,e)=>{const t=I3(i,e),s=Cu($n,"conversations",t),o=await Gw(s);if(o.exists())return{id:t,...o.data()};const u={participants:[i,e],lastMessage:"",timestamp:Yh()};return await Kw(s,u),{id:t,...u}},ZE=()=>{const{userId:i}=uT(),{user:e}=Do(),t=Ln(),[s,o]=F.useState(null),[u,h]=F.useState([]),[m,p]=F.useState(!0),g=i||(e==null?void 0:e.uid),v=async()=>{try{const{id:b}=await C3(e.uid,g);t(`/messages/${b}`)}catch(b){console.error("Failed to initiate message:",b),alert("Something went wrong. Please try again.")}};return F.useEffect(()=>{if(!g)return;(async()=>{try{const w=Cu($n,"users",g),x=await Gw(w);x.exists()?o(x.data()):o(null);const D=ra($n,"books"),K=Nu(D,Bw("postedBy","==",g)),Q=(await kg(K)).docs.map(ie=>({id:ie.id,...ie.data()}));h(Q)}catch(w){console.error("Error loading profile:",w)}finally{p(!1)}})()},[g]),m?R.jsx("p",{className:"text-center mt-10 text-gray-600",children:"Loading profile..."}):s?R.jsx("section",{className:"bg-[#f8edf0] min-h-screen py-10 px-4",children:R.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-lg shadow",children:[R.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[R.jsx("img",{src:`https://ui-avatars.com/api/?name=${s.username}&background=8A1538&color=fff`,alt:"Profile",className:"w-16 h-16 rounded-full"}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold text-[#8A1538]",children:s.username}),R.jsx("p",{className:"text-sm text-gray-500",children:s.email})]}),(e==null?void 0:e.uid)!==g&&R.jsx("button",{className:"ml-auto px-4 py-2 bg-[#8A1538] text-white rounded hover:bg-[#6d0f2e]",onClick:v,children:"Message"})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Active Listings"}),u.length===0?R.jsx("p",{className:"text-gray-500",children:"No books posted yet."}):R.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:u.map(b=>R.jsx(xf,{book:b},b.id))})]})]})}):R.jsx("p",{className:"text-center mt-10 text-red-600",children:"❌ Profile not found."})},x3=()=>{const[i]=TR(),e=Ln(),[t,s]=F.useState("Verifying...");return F.useEffect(()=>{const o=hb(),u=i.get("oobCode");if(!u){s("Invalid verification link.");return}u2(o,u).then(()=>{s("✅ Email verified successfully! You can now log in."),setTimeout(()=>e("/login"),3e3)}).catch(h=>{console.error("Verification error:",h.message),s("❌ This verification link is invalid or expired.")})},[i,e]),R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8edf0] px-4",children:R.jsx("div",{className:"max-w-md bg-white p-6 rounded-lg shadow text-center",children:R.jsx("p",{className:"text-lg font-medium text-[#8A1538]",children:t})})})},N3=()=>{const{conversationId:i}=uT(),{user:e}=Do(),[t,s]=F.useState([]),[o,u]=F.useState(""),h=F.useRef(null);F.useEffect(()=>{if(!i)return;const p=Nu(ra($n,"messages",i,"messages"),If("timestamp","asc")),g=Qw(p,v=>{const b=v.docs.map(w=>({id:w.id,...w.data()}));s(b)});return()=>g()},[i]),F.useEffect(()=>{var p;(p=h.current)==null||p.scrollIntoView({behavior:"smooth"})},[t]);const m=async()=>{if(o.trim())try{await Yw(ra($n,"messages",i,"messages"),{text:o,senderId:e.uid,timestamp:Yh()}),await jO(Cu($n,"conversations",i),{lastMessage:o,timestamp:Yh()}),u("")}catch(p){console.error("Error sending message:",p),alert("Message failed to send.")}};return R.jsxs("div",{className:"flex flex-col h-screen bg-[#f8edf0] px-4 py-6",children:[R.jsxs("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2",children:[t.map(p=>R.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg ${p.senderId===e.uid?"bg-blue-500 text-white ml-auto":"bg-gray-200 text-gray-800"}`,children:p.text},p.id)),R.jsx("div",{ref:h})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("input",{type:"text",className:"flex-1 p-2 border border-gray-300 rounded",placeholder:"Type a message...",value:o,onChange:p=>u(p.target.value),onKeyDown:p=>p.key==="Enter"&&m()}),R.jsx("button",{onClick:m,className:"bg-[#8A1538] text-white px-4 py-2 rounded hover:bg-[#6d0f2e]",children:"Send"})]})]})},D3=()=>{const[i,e]=F.useState([]),{user:t}=Do(),s=Ln();return F.useEffect(()=>{if(!t)return;const o=Nu(ra($n,"conversations"),Bw("participants","array-contains",t.uid),If("timestamp","desc")),u=Qw(o,h=>{const m=h.docs.map(p=>({id:p.id,...p.data()}));e(m)});return()=>u()},[t]),R.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[R.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Inbox"}),i.length===0?R.jsx("p",{className:"text-gray-600",children:"No messages yet."}):R.jsx("ul",{className:"space-y-2",children:i.map(o=>{var u;return R.jsxs("li",{onClick:()=>s(`/messages/${o.id}`),className:"p-4 bg-white rounded shadow hover:bg-gray-50 cursor-pointer",children:[R.jsx("p",{className:"font-medium",children:o.lastMessage||"No messages yet"}),R.jsx("p",{className:"text-sm text-gray-500",children:(u=o.timestamp)==null?void 0:u.toDate().toLocaleString()})]},o.id)})})]})};function O3(){return R.jsxs(R.Fragment,{children:[R.jsx(y3,{}),R.jsxs(GS,{children:[R.jsx(Gn,{path:"/",element:R.jsxs(R.Fragment,{children:[R.jsx(v1,{}),R.jsx(_3,{}),R.jsx(b3,{}),R.jsx(R3,{}),R.jsx(w3,{})]})}),R.jsx(Gn,{path:"/login",element:R.jsx(v3,{})}),R.jsx(Gn,{path:"/signup",element:R.jsx(E3,{})}),R.jsx(Gn,{path:"/post-book",element:R.jsx(A3,{})}),R.jsx(Gn,{path:"/marketplace",element:R.jsx(S3,{})}),R.jsx(Gn,{path:"/user-profile/:userId",element:R.jsx(ZE,{})}),R.jsx(Gn,{path:"/profile",element:R.jsx(ZE,{})}),R.jsx(Gn,{path:"/verify-email",element:R.jsx(x3,{})}),R.jsx(Gn,{path:"/messages/:conversationId",element:R.jsx(N3,{})}),R.jsx(Gn,{path:"/messages",element:R.jsx(D3,{})})]})]})}eS.createRoot(document.getElementById("root")).render(R.jsx(gR,{children:R.jsx(i3,{children:R.jsx(O3,{})})}));
